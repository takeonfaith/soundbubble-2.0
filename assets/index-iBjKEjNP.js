var c3=Object.defineProperty;var u3=(e,t,n)=>t in e?c3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>(u3(e,typeof t!="symbol"?t+"":t,n),n);function d3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Bk={exports:{}},kp={},Hk={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),f3=Symbol.for("react.portal"),p3=Symbol.for("react.fragment"),g3=Symbol.for("react.strict_mode"),m3=Symbol.for("react.profiler"),y3=Symbol.for("react.provider"),v3=Symbol.for("react.context"),x3=Symbol.for("react.forward_ref"),w3=Symbol.for("react.suspense"),_3=Symbol.for("react.memo"),S3=Symbol.for("react.lazy"),jS=Symbol.iterator;function E3(e){return e===null||typeof e!="object"?null:(e=jS&&e[jS]||e["@@iterator"],typeof e=="function"?e:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qk=Object.assign,Gk={};function wl(e,t,n){this.props=e,this.context=t,this.refs=Gk,this.updater=n||Wk}wl.prototype.isReactComponent={};wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kk(){}Kk.prototype=wl.prototype;function w1(e,t,n){this.props=e,this.context=t,this.refs=Gk,this.updater=n||Wk}var _1=w1.prototype=new Kk;_1.constructor=w1;qk(_1,wl.prototype);_1.isPureReactComponent=!0;var $S=Array.isArray,Qk=Object.prototype.hasOwnProperty,S1={current:null},Yk={key:!0,ref:!0,__self:!0,__source:!0};function Xk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Qk.call(t,r)&&!Yk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wu,type:e,key:s,ref:o,props:i,_owner:S1.current}}function I3(e,t){return{$$typeof:Wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wu}function T3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NS=/\/+/g;function Sm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T3(""+e.key):t.toString(36)}function Ih(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wu:case f3:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Sm(o,0):r,$S(i)?(n="",e!=null&&(n=e.replace(NS,"$&/")+"/"),Ih(i,t,n,"",function(u){return u})):i!=null&&(E1(i)&&(i=I3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(NS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",$S(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Sm(s,a);o+=Ih(s,t,n,l,i)}else if(l=E3(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Sm(s,a++),o+=Ih(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fd(e,t,n){if(e==null)return e;var r=[],i=0;return Ih(e,r,"","",function(s){return t.call(n,s,i++)}),r}function b3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Th={transition:null},k3={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Th,ReactCurrentOwner:S1};de.Children={map:Fd,forEach:function(e,t,n){Fd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fd(e,function(){t++}),t},toArray:function(e){return Fd(e,function(t){return t})||[]},only:function(e){if(!E1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=wl;de.Fragment=p3;de.Profiler=m3;de.PureComponent=w1;de.StrictMode=g3;de.Suspense=w3;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=S1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Qk.call(t,l)&&!Yk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wu,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:v3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y3,_context:e},e.Consumer=e};de.createElement=Xk;de.createFactory=function(e){var t=Xk.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:x3,render:e}};de.isValidElement=E1;de.lazy=function(e){return{$$typeof:S3,_payload:{_status:-1,_result:e},_init:b3}};de.memo=function(e,t){return{$$typeof:_3,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Th.transition;Th.transition={};try{e()}finally{Th.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return nn.current.useCallback(e,t)};de.useContext=function(e){return nn.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};de.useEffect=function(e,t){return nn.current.useEffect(e,t)};de.useId=function(){return nn.current.useId()};de.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return nn.current.useMemo(e,t)};de.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};de.useRef=function(e){return nn.current.useRef(e)};de.useState=function(e){return nn.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return nn.current.useTransition()};de.version="18.2.0";Hk.exports=de;var b=Hk.exports;const Ae=bp(b),C3=d3({__proto__:null,default:Ae},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=b,P3=Symbol.for("react.element"),R3=Symbol.for("react.fragment"),j3=Object.prototype.hasOwnProperty,$3=A3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N3={key:!0,ref:!0,__self:!0,__source:!0};function Jk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)j3.call(t,r)&&!N3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:P3,type:e,key:s,ref:o,props:i,_owner:$3.current}}kp.Fragment=R3;kp.jsx=Jk;kp.jsxs=Jk;Bk.exports=kp;var c=Bk.exports,Z0={},Zk={exports:{}},$n={},e2={exports:{}},t2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,H){var P=L.length;L.push(H);e:for(;0<P;){var D=P-1>>>1,q=L[D];if(0<i(q,H))L[D]=H,L[P]=q,P=D;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],P=L.pop();if(P!==H){L[0]=P;e:for(var D=0,q=L.length,ye=q>>>1;D<ye;){var pe=2*(D+1)-1,Ne=L[pe],Se=pe+1,Be=L[Se];if(0>i(Ne,P))Se<q&&0>i(Be,Ne)?(L[D]=Be,L[Se]=P,D=Se):(L[D]=Ne,L[pe]=P,D=pe);else if(Se<q&&0>i(Be,P))L[D]=Be,L[Se]=P,D=Se;else break e}}return H}function i(L,H){var P=L.sortIndex-H.sortIndex;return P!==0?P:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=L)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function S(L){if(y=!1,x(L),!g)if(n(l)!==null)g=!0,J(E);else{var H=n(u);H!==null&&Te(S,H.startTime-L)}}function E(L,H){g=!1,y&&(y=!1,m(k),k=-1),p=!0;var P=f;try{for(x(H),h=n(l);h!==null&&(!(h.expirationTime>H)||L&&!K());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var q=D(h.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),x(H)}else r(l);h=n(l)}if(h!==null)var ye=!0;else{var pe=n(u);pe!==null&&Te(S,pe.startTime-H),ye=!1}return ye}finally{h=null,f=P,p=!1}}var T=!1,I=null,k=-1,R=5,j=-1;function K(){return!(e.unstable_now()-j<R)}function ae(){if(I!==null){var L=e.unstable_now();j=L;var H=!0;try{H=I(!0,L)}finally{H?se():(T=!1,I=null)}}else T=!1}var se;if(typeof v=="function")se=function(){v(ae)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,he=le.port2;le.port1.onmessage=ae,se=function(){he.postMessage(null)}}else se=function(){w(ae,0)};function J(L){I=L,T||(T=!0,se())}function Te(L,H){k=w(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,J(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var P=f;f=H;try{return L()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=f;f=L;try{return H()}finally{f=P}},e.unstable_scheduleCallback=function(L,H,P){var D=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?D+P:D):P=D,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=P+q,L={id:d++,callback:H,priorityLevel:L,startTime:P,expirationTime:q,sortIndex:-1},P>D?(L.sortIndex=P,t(u,L),n(l)===null&&L===n(u)&&(y?(m(k),k=-1):y=!0,Te(S,P-D))):(L.sortIndex=q,t(l,L),g||p||(g=!0,J(E))),L},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(L){var H=f;return function(){var P=f;f=H;try{return L.apply(this,arguments)}finally{f=P}}}})(t2);e2.exports=t2;var M3=e2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=b,Cn=M3;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r2=new Set,Hc={};function Ro(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(Hc[e]=t,e=0;e<t.length;e++)r2.add(t[e])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ey=Object.prototype.hasOwnProperty,O3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MS={},OS={};function L3(e){return ey.call(OS,e)?!0:ey.call(MS,e)?!1:O3.test(e)?OS[e]=!0:(MS[e]=!0,!1)}function D3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V3(e,t,n,r){if(t===null||typeof t>"u"||D3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var I1=/[\-:]([a-z])/g;function T1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I1,T1);Ot[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I1,T1);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I1,T1);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function b1(e,t,n,r){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V3(t,n,i,r)&&(n=null),r||i===null?L3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ti=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),ty=Symbol.for("react.profiler"),i2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),ny=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),o2=Symbol.for("react.offscreen"),LS=Symbol.iterator;function Wl(e){return e===null||typeof e!="object"?null:(e=LS&&e[LS]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Em;function lc(e){if(Em===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Em=t&&t[1]||""}return`
`+Em+e}var Im=!1;function Tm(e,t){if(!e||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lc(e):""}function F3(e){switch(e.tag){case 5:return lc(e.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return e=Tm(e.type,!1),e;case 11:return e=Tm(e.type.render,!1),e;case 1:return e=Tm(e.type,!0),e;default:return""}}function iy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case na:return"Fragment";case ta:return"Portal";case ty:return"Profiler";case k1:return"StrictMode";case ny:return"Suspense";case ry:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s2:return(e.displayName||"Context")+".Consumer";case i2:return(e._context.displayName||"Context")+".Provider";case C1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A1:return t=e.displayName||null,t!==null?t:iy(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return iy(e(t))}catch{}}return null}function U3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iy(t);case 8:return t===k1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ds(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z3(e){var t=a2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zd(e){e._valueTracker||(e._valueTracker=z3(e))}function l2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=a2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sy(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ds(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c2(e,t){t=t.checked,t!=null&&b1(e,"checked",t,!1)}function oy(e,t){c2(e,t);var n=ds(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ay(e,t.type,n):t.hasOwnProperty("defaultValue")&&ay(e,t.type,ds(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ay(e,t,n){(t!=="number"||sf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cc=Array.isArray;function _a(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ds(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ly(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(cc(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ds(n)}}function u2(e,t){var n=ds(t.value),r=ds(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function US(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bd,h2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B3=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(e){B3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_c[t]=_c[e]})});function f2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_c.hasOwnProperty(e)&&_c[e]?(""+t).trim():t+"px"}function p2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=f2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var H3=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uy(e,t){if(t){if(H3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function dy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=null;function P1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fy=null,Sa=null,Ea=null;function zS(e){if(e=Ku(e)){if(typeof fy!="function")throw Error(M(280));var t=e.stateNode;t&&(t=jp(t),fy(e.stateNode,e.type,t))}}function g2(e){Sa?Ea?Ea.push(e):Ea=[e]:Sa=e}function m2(){if(Sa){var e=Sa,t=Ea;if(Ea=Sa=null,zS(e),t)for(e=0;e<t.length;e++)zS(t[e])}}function y2(e,t){return e(t)}function v2(){}var bm=!1;function x2(e,t,n){if(bm)return e(t,n);bm=!0;try{return y2(e,t,n)}finally{bm=!1,(Sa!==null||Ea!==null)&&(v2(),m2())}}function qc(e,t){var n=e.stateNode;if(n===null)return null;var r=jp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var py=!1;if(hi)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){py=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{py=!1}function W3(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Sc=!1,of=null,af=!1,gy=null,q3={onError:function(e){Sc=!0,of=e}};function G3(e,t,n,r,i,s,o,a,l){Sc=!1,of=null,W3.apply(q3,arguments)}function K3(e,t,n,r,i,s,o,a,l){if(G3.apply(this,arguments),Sc){if(Sc){var u=of;Sc=!1,of=null}else throw Error(M(198));af||(af=!0,gy=u)}}function jo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BS(e){if(jo(e)!==e)throw Error(M(188))}function Q3(e){var t=e.alternate;if(!t){if(t=jo(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BS(i),e;if(s===r)return BS(i),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function _2(e){return e=Q3(e),e!==null?S2(e):null}function S2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S2(e);if(t!==null)return t;e=e.sibling}return null}var E2=Cn.unstable_scheduleCallback,HS=Cn.unstable_cancelCallback,Y3=Cn.unstable_shouldYield,X3=Cn.unstable_requestPaint,st=Cn.unstable_now,J3=Cn.unstable_getCurrentPriorityLevel,R1=Cn.unstable_ImmediatePriority,I2=Cn.unstable_UserBlockingPriority,lf=Cn.unstable_NormalPriority,Z3=Cn.unstable_LowPriority,T2=Cn.unstable_IdlePriority,Cp=null,Pr=null;function eO(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Cp,e,void 0,(e.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:rO,tO=Math.log,nO=Math.LN2;function rO(e){return e>>>=0,e===0?32:31-(tO(e)/nO|0)|0}var Hd=64,Wd=4194304;function uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=uc(a):(s&=o,s!==0&&(r=uc(s)))}else o=n&~i,o!==0?r=uc(o):s!==0&&(r=uc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rr(t),i=1<<n,r|=e[n],t&=~i;return r}function iO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iO(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function my(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b2(){var e=Hd;return Hd<<=1,!(Hd&4194240)&&(Hd=64),e}function km(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rr(t),e[t]=n}function oO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function j1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function k2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C2,$1,A2,P2,R2,yy=!1,qd=[],Yi=null,Xi=null,Ji=null,Gc=new Map,Kc=new Map,Di=[],aO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WS(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(t.pointerId)}}function Gl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ku(t),t!==null&&$1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lO(e,t,n,r,i){switch(t){case"focusin":return Yi=Gl(Yi,e,t,n,r,i),!0;case"dragenter":return Xi=Gl(Xi,e,t,n,r,i),!0;case"mouseover":return Ji=Gl(Ji,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gc.set(s,Gl(Gc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kc.set(s,Gl(Kc.get(s)||null,e,t,n,r,i)),!0}return!1}function j2(e){var t=Hs(e.target);if(t!==null){var n=jo(t);if(n!==null){if(t=n.tag,t===13){if(t=w2(n),t!==null){e.blockedOn=t,R2(e.priority,function(){A2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hy=r,n.target.dispatchEvent(r),hy=null}else return t=Ku(n),t!==null&&$1(t),e.blockedOn=n,!1;t.shift()}return!0}function qS(e,t,n){bh(e)&&n.delete(t)}function cO(){yy=!1,Yi!==null&&bh(Yi)&&(Yi=null),Xi!==null&&bh(Xi)&&(Xi=null),Ji!==null&&bh(Ji)&&(Ji=null),Gc.forEach(qS),Kc.forEach(qS)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,yy||(yy=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,cO)))}function Qc(e){function t(i){return Kl(i,e)}if(0<qd.length){Kl(qd[0],e);for(var n=1;n<qd.length;n++){var r=qd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yi!==null&&Kl(Yi,e),Xi!==null&&Kl(Xi,e),Ji!==null&&Kl(Ji,e),Gc.forEach(t),Kc.forEach(t),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)j2(n),n.blockedOn===null&&Di.shift()}var Ia=Ti.ReactCurrentBatchConfig,uf=!0;function uO(e,t,n,r){var i=ke,s=Ia.transition;Ia.transition=null;try{ke=1,N1(e,t,n,r)}finally{ke=i,Ia.transition=s}}function dO(e,t,n,r){var i=ke,s=Ia.transition;Ia.transition=null;try{ke=4,N1(e,t,n,r)}finally{ke=i,Ia.transition=s}}function N1(e,t,n,r){if(uf){var i=vy(e,t,n,r);if(i===null)Lm(e,t,r,df,n),WS(e,r);else if(lO(i,e,t,n,r))r.stopPropagation();else if(WS(e,r),t&4&&-1<aO.indexOf(e)){for(;i!==null;){var s=Ku(i);if(s!==null&&C2(s),s=vy(e,t,n,r),s===null&&Lm(e,t,r,df,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lm(e,t,r,null,n)}}var df=null;function vy(e,t,n,r){if(df=null,e=P1(r),e=Hs(e),e!==null)if(t=jo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=w2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return df=e,null}function $2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J3()){case R1:return 1;case I2:return 4;case lf:case Z3:return 16;case T2:return 536870912;default:return 16}default:return 16}}var Wi=null,M1=null,kh=null;function N2(){if(kh)return kh;var e,t=M1,n=t.length,r,i="value"in Wi?Wi.value:Wi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return kh=i.slice(e,1<r?1-r:void 0)}function Ch(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gd(){return!0}function GS(){return!1}function Nn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gd:GS,this.isPropagationStopped=GS,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O1=Nn(_l),Gu=Ye({},_l,{view:0,detail:0}),hO=Nn(Gu),Cm,Am,Ql,Ap=Ye({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Cm=e.screenX-Ql.screenX,Am=e.screenY-Ql.screenY):Am=Cm=0,Ql=e),Cm)},movementY:function(e){return"movementY"in e?e.movementY:Am}}),KS=Nn(Ap),fO=Ye({},Ap,{dataTransfer:0}),pO=Nn(fO),gO=Ye({},Gu,{relatedTarget:0}),Pm=Nn(gO),mO=Ye({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),yO=Nn(mO),vO=Ye({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xO=Nn(vO),wO=Ye({},_l,{data:0}),QS=Nn(wO),_O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EO[e])?!!t[e]:!1}function L1(){return IO}var TO=Ye({},Gu,{key:function(e){if(e.key){var t=_O[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ch(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L1,charCode:function(e){return e.type==="keypress"?Ch(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ch(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bO=Nn(TO),kO=Ye({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=Nn(kO),CO=Ye({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L1}),AO=Nn(CO),PO=Ye({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),RO=Nn(PO),jO=Ye({},Ap,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$O=Nn(jO),NO=[9,13,27,32],D1=hi&&"CompositionEvent"in window,Ec=null;hi&&"documentMode"in document&&(Ec=document.documentMode);var MO=hi&&"TextEvent"in window&&!Ec,M2=hi&&(!D1||Ec&&8<Ec&&11>=Ec),XS=" ",JS=!1;function O2(e,t){switch(e){case"keyup":return NO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function OO(e,t){switch(e){case"compositionend":return L2(t);case"keypress":return t.which!==32?null:(JS=!0,XS);case"textInput":return e=t.data,e===XS&&JS?null:e;default:return null}}function LO(e,t){if(ra)return e==="compositionend"||!D1&&O2(e,t)?(e=N2(),kh=M1=Wi=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M2&&t.locale!=="ko"?null:t.data;default:return null}}var DO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DO[e.type]:t==="textarea"}function D2(e,t,n,r){g2(r),t=hf(t,"onChange"),0<t.length&&(n=new O1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ic=null,Yc=null;function VO(e){Q2(e,0)}function Pp(e){var t=oa(e);if(l2(t))return e}function FO(e,t){if(e==="change")return t}var V2=!1;if(hi){var Rm;if(hi){var jm="oninput"in document;if(!jm){var eE=document.createElement("div");eE.setAttribute("oninput","return;"),jm=typeof eE.oninput=="function"}Rm=jm}else Rm=!1;V2=Rm&&(!document.documentMode||9<document.documentMode)}function tE(){Ic&&(Ic.detachEvent("onpropertychange",F2),Yc=Ic=null)}function F2(e){if(e.propertyName==="value"&&Pp(Yc)){var t=[];D2(t,Yc,e,P1(e)),x2(VO,t)}}function UO(e,t,n){e==="focusin"?(tE(),Ic=t,Yc=n,Ic.attachEvent("onpropertychange",F2)):e==="focusout"&&tE()}function zO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pp(Yc)}function BO(e,t){if(e==="click")return Pp(t)}function HO(e,t){if(e==="input"||e==="change")return Pp(t)}function WO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:WO;function Xc(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ey.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function nE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rE(e,t){var n=nE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nE(n)}}function U2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function z2(){for(var e=window,t=sf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sf(e.document)}return t}function V1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qO(e){var t=z2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&U2(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rE(n,s);var o=rE(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GO=hi&&"documentMode"in document&&11>=document.documentMode,ia=null,xy=null,Tc=null,wy=!1;function iE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wy||ia==null||ia!==sf(r)||(r=ia,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Xc(Tc,r)||(Tc=r,r=hf(xy,"onSelect"),0<r.length&&(t=new O1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ia)))}function Kd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sa={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},$m={},B2={};hi&&(B2=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Rp(e){if($m[e])return $m[e];if(!sa[e])return e;var t=sa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in B2)return $m[e]=t[n];return e}var H2=Rp("animationend"),W2=Rp("animationiteration"),q2=Rp("animationstart"),G2=Rp("transitionend"),K2=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(e,t){K2.set(e,t),Ro(t,[e])}for(var Nm=0;Nm<sE.length;Nm++){var Mm=sE[Nm],KO=Mm.toLowerCase(),QO=Mm[0].toUpperCase()+Mm.slice(1);_s(KO,"on"+QO)}_s(H2,"onAnimationEnd");_s(W2,"onAnimationIteration");_s(q2,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(G2,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function oE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,K3(r,t,void 0,e),e.currentTarget=null}function Q2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oE(i,a,u),s=l}}}if(af)throw e=gy,af=!1,gy=null,e}function Oe(e,t){var n=t[Ty];n===void 0&&(n=t[Ty]=new Set);var r=e+"__bubble";n.has(r)||(Y2(t,e,2,!1),n.add(r))}function Om(e,t,n){var r=0;t&&(r|=4),Y2(n,e,r,t)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Qd]){e[Qd]=!0,r2.forEach(function(n){n!=="selectionchange"&&(YO.has(n)||Om(n,!1,e),Om(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qd]||(t[Qd]=!0,Om("selectionchange",!1,t))}}function Y2(e,t,n,r){switch($2(t)){case 1:var i=uO;break;case 4:i=dO;break;default:i=N1}n=i.bind(null,t,n,e),i=void 0,!py||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}x2(function(){var u=s,d=P1(n),h=[];e:{var f=K2.get(e);if(f!==void 0){var p=O1,g=e;switch(e){case"keypress":if(Ch(n)===0)break e;case"keydown":case"keyup":p=bO;break;case"focusin":g="focus",p=Pm;break;case"focusout":g="blur",p=Pm;break;case"beforeblur":case"afterblur":p=Pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AO;break;case H2:case W2:case q2:p=yO;break;case G2:p=RO;break;case"scroll":p=hO;break;case"wheel":p=$O;break;case"copy":case"cut":case"paste":p=xO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YS}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=qc(v,m),S!=null&&y.push(Zc(v,S,x)))),w)break;v=v.return}0<y.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==hy&&(g=n.relatedTarget||n.fromElement)&&(Hs(g)||g[fi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Hs(g):null,g!==null&&(w=jo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=KS,S="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=YS,S="onPointerLeave",m="onPointerEnter",v="pointer"),w=p==null?f:oa(p),x=g==null?f:oa(g),f=new y(S,v+"leave",p,n,d),f.target=w,f.relatedTarget=x,S=null,Hs(d)===u&&(y=new y(m,v+"enter",g,n,d),y.target=x,y.relatedTarget=w,S=y),w=S,p&&g)t:{for(y=p,m=g,v=0,x=y;x;x=Wo(x))v++;for(x=0,S=m;S;S=Wo(S))x++;for(;0<v-x;)y=Wo(y),v--;for(;0<x-v;)m=Wo(m),x--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=Wo(y),m=Wo(m)}y=null}else y=null;p!==null&&aE(h,f,p,y,!1),g!==null&&w!==null&&aE(h,w,g,y,!0)}}e:{if(f=u?oa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=FO;else if(ZS(f))if(V2)E=HO;else{E=zO;var T=UO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=BO);if(E&&(E=E(e,u))){D2(h,E,n,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ay(f,"number",f.value)}switch(T=u?oa(u):window,e){case"focusin":(ZS(T)||T.contentEditable==="true")&&(ia=T,xy=u,Tc=null);break;case"focusout":Tc=xy=ia=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,iE(h,n,d);break;case"selectionchange":if(GO)break;case"keydown":case"keyup":iE(h,n,d)}var I;if(D1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ra?O2(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(M2&&n.locale!=="ko"&&(ra||k!=="onCompositionStart"?k==="onCompositionEnd"&&ra&&(I=N2()):(Wi=d,M1="value"in Wi?Wi.value:Wi.textContent,ra=!0)),T=hf(u,k),0<T.length&&(k=new QS(k,e,null,n,d),h.push({event:k,listeners:T}),I?k.data=I:(I=L2(n),I!==null&&(k.data=I)))),(I=MO?OO(e,n):LO(e,n))&&(u=hf(u,"onBeforeInput"),0<u.length&&(d=new QS("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Q2(h,t)})}function Zc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qc(e,n),s!=null&&r.unshift(Zc(e,s,i)),s=qc(e,t),s!=null&&r.push(Zc(e,s,i))),e=e.return}return r}function Wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aE(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qc(n,s),l!=null&&o.unshift(Zc(n,l,a))):i||(l=qc(n,s),l!=null&&o.push(Zc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XO=/\r\n?/g,JO=/\u0000|\uFFFD/g;function lE(e){return(typeof e=="string"?e:""+e).replace(XO,`
`).replace(JO,"")}function Yd(e,t,n){if(t=lE(t),lE(e)!==t&&n)throw Error(M(425))}function ff(){}var _y=null,Sy=null;function Ey(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iy=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,eL=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(e){return cE.resolve(null).then(e).catch(tL)}:Iy;function tL(e){setTimeout(function(){throw e})}function Dm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qc(t)}function Zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Sl,eu="__reactProps$"+Sl,fi="__reactContainer$"+Sl,Ty="__reactEvents$"+Sl,nL="__reactListeners$"+Sl,rL="__reactHandles$"+Sl;function Hs(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[Ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uE(e);e!==null;){if(n=e[Ir])return n;e=uE(e)}return t}e=n,n=e.parentNode}return null}function Ku(e){return e=e[Ir]||e[fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function jp(e){return e[eu]||null}var by=[],aa=-1;function Ss(e){return{current:e}}function Ue(e){0>aa||(e.current=by[aa],by[aa]=null,aa--)}function je(e,t){aa++,by[aa]=e.current,e.current=t}var hs={},qt=Ss(hs),fn=Ss(!1),co=hs;function Va(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pn(e){return e=e.childContextTypes,e!=null}function pf(){Ue(fn),Ue(qt)}function dE(e,t,n){if(qt.current!==hs)throw Error(M(168));je(qt,t),je(fn,n)}function X2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,U3(e)||"Unknown",i));return Ye({},n,r)}function gf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,co=qt.current,je(qt,e),je(fn,fn.current),!0}function hE(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=X2(e,t,co),r.__reactInternalMemoizedMergedChildContext=e,Ue(fn),Ue(qt),je(qt,e)):Ue(fn),je(fn,n)}var Jr=null,$p=!1,Vm=!1;function J2(e){Jr===null?Jr=[e]:Jr.push(e)}function iL(e){$p=!0,J2(e)}function Es(){if(!Vm&&Jr!==null){Vm=!0;var e=0,t=ke;try{var n=Jr;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jr=null,$p=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(e+1)),E2(R1,Es),i}finally{ke=t,Vm=!1}}return null}var la=[],ca=0,mf=null,yf=0,Ln=[],Dn=0,uo=null,Zr=1,ei="";function Vs(e,t){la[ca++]=yf,la[ca++]=mf,mf=e,yf=t}function Z2(e,t,n){Ln[Dn++]=Zr,Ln[Dn++]=ei,Ln[Dn++]=uo,uo=e;var r=Zr;e=ei;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var s=32-rr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zr=1<<32-rr(t)+i|n<<i|r,ei=s+e}else Zr=1<<s|n<<i|r,ei=e}function F1(e){e.return!==null&&(Vs(e,1),Z2(e,1,0))}function U1(e){for(;e===mf;)mf=la[--ca],la[ca]=null,yf=la[--ca],la[ca]=null;for(;e===uo;)uo=Ln[--Dn],Ln[Dn]=null,ei=Ln[--Dn],Ln[Dn]=null,Zr=Ln[--Dn],Ln[Dn]=null}var kn=null,wn=null,He=!1,tr=null;function eC(e,t){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,wn=Zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uo!==null?{id:Zr,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,wn=null,!0):!1;default:return!1}}function ky(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cy(e){if(He){var t=wn;if(t){var n=t;if(!fE(e,t)){if(ky(e))throw Error(M(418));t=Zi(n.nextSibling);var r=kn;t&&fE(e,t)?eC(r,n):(e.flags=e.flags&-4097|2,He=!1,kn=e)}}else{if(ky(e))throw Error(M(418));e.flags=e.flags&-4097|2,He=!1,kn=e}}}function pE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Xd(e){if(e!==kn)return!1;if(!He)return pE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ey(e.type,e.memoizedProps)),t&&(t=wn)){if(ky(e))throw tC(),Error(M(418));for(;t;)eC(e,t),t=Zi(t.nextSibling)}if(pE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wn=Zi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=kn?Zi(e.stateNode.nextSibling):null;return!0}function tC(){for(var e=wn;e;)e=Zi(e.nextSibling)}function Fa(){wn=kn=null,He=!1}function z1(e){tr===null?tr=[e]:tr.push(e)}var sL=Ti.ReactCurrentBatchConfig;function Zn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vf=Ss(null),xf=null,ua=null,B1=null;function H1(){B1=ua=xf=null}function W1(e){var t=vf.current;Ue(vf),e._currentValue=t}function Ay(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){xf=e,B1=ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function qn(e){var t=e._currentValue;if(B1!==e)if(e={context:e,memoizedValue:t,next:null},ua===null){if(xf===null)throw Error(M(308));ua=e,xf.dependencies={lanes:0,firstContext:e}}else ua=ua.next=e;return t}var Ws=null;function q1(e){Ws===null?Ws=[e]:Ws.push(e)}function nC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,q1(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oi=!1;function G1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,q1(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function Ah(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}function gE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wf(e,t,n,r){var i=e.updateQueue;Oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Ye({},h,f);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);fo|=o,e.lanes=o,e.memoizedState=h}}function mE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var iC=new n2.Component().refs;function Py(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Np={isMounted:function(e){return(e=e._reactInternals)?jo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=en(),i=ns(e),s=li(r,i);s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(ir(t,e,i,r),Ah(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=en(),i=ns(e),s=li(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(ir(t,e,i,r),Ah(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),r=ns(e),i=li(n,r);i.tag=2,t!=null&&(i.callback=t),t=es(e,i,r),t!==null&&(ir(t,e,r,n),Ah(t,e,r))}};function yE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Xc(n,r)||!Xc(i,s):!0}function sC(e,t,n){var r=!1,i=hs,s=t.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=pn(t)?co:qt.current,r=t.contextTypes,s=(r=r!=null)?Va(e,i):hs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Np,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Np.enqueueReplaceState(t,t.state,null)}function Ry(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=iC,G1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=pn(t)?co:qt.current,i.context=Va(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Py(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Np.enqueueReplaceState(i,i.state,null),wf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===iC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Jd(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xE(e){var t=e._init;return t(e._payload)}function oC(e){function t(m,v){if(e){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=rs(m,v),m.index=0,m.sibling=null,m}function s(m,v,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,x,S){return v===null||v.tag!==6?(v=qm(x,m.mode,S),v.return=m,v):(v=i(v,x),v.return=m,v)}function l(m,v,x,S){var E=x.type;return E===na?d(m,v,x.props.children,S,x.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mi&&xE(E)===v.type)?(S=i(v,x.props),S.ref=Yl(m,v,x),S.return=m,S):(S=Mh(x.type,x.key,x.props,null,m.mode,S),S.ref=Yl(m,v,x),S.return=m,S)}function u(m,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Gm(x,m.mode,S),v.return=m,v):(v=i(v,x.children||[]),v.return=m,v)}function d(m,v,x,S,E){return v===null||v.tag!==7?(v=eo(x,m.mode,S,E),v.return=m,v):(v=i(v,x),v.return=m,v)}function h(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qm(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ud:return x=Mh(v.type,v.key,v.props,null,m.mode,x),x.ref=Yl(m,null,v),x.return=m,x;case ta:return v=Gm(v,m.mode,x),v.return=m,v;case Mi:var S=v._init;return h(m,S(v._payload),x)}if(cc(v)||Wl(v))return v=eo(v,m.mode,x,null),v.return=m,v;Jd(m,v)}return null}function f(m,v,x,S){var E=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ud:return x.key===E?l(m,v,x,S):null;case ta:return x.key===E?u(m,v,x,S):null;case Mi:return E=x._init,f(m,v,E(x._payload),S)}if(cc(x)||Wl(x))return E!==null?null:d(m,v,x,S,null);Jd(m,x)}return null}function p(m,v,x,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,a(v,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ud:return m=m.get(S.key===null?x:S.key)||null,l(v,m,S,E);case ta:return m=m.get(S.key===null?x:S.key)||null,u(v,m,S,E);case Mi:var T=S._init;return p(m,v,x,T(S._payload),E)}if(cc(S)||Wl(S))return m=m.get(x)||null,d(v,m,S,E,null);Jd(v,S)}return null}function g(m,v,x,S){for(var E=null,T=null,I=v,k=v=0,R=null;I!==null&&k<x.length;k++){I.index>k?(R=I,I=null):R=I.sibling;var j=f(m,I,x[k],S);if(j===null){I===null&&(I=R);break}e&&I&&j.alternate===null&&t(m,I),v=s(j,v,k),T===null?E=j:T.sibling=j,T=j,I=R}if(k===x.length)return n(m,I),He&&Vs(m,k),E;if(I===null){for(;k<x.length;k++)I=h(m,x[k],S),I!==null&&(v=s(I,v,k),T===null?E=I:T.sibling=I,T=I);return He&&Vs(m,k),E}for(I=r(m,I);k<x.length;k++)R=p(I,m,k,x[k],S),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?k:R.key),v=s(R,v,k),T===null?E=R:T.sibling=R,T=R);return e&&I.forEach(function(K){return t(m,K)}),He&&Vs(m,k),E}function y(m,v,x,S){var E=Wl(x);if(typeof E!="function")throw Error(M(150));if(x=E.call(x),x==null)throw Error(M(151));for(var T=E=null,I=v,k=v=0,R=null,j=x.next();I!==null&&!j.done;k++,j=x.next()){I.index>k?(R=I,I=null):R=I.sibling;var K=f(m,I,j.value,S);if(K===null){I===null&&(I=R);break}e&&I&&K.alternate===null&&t(m,I),v=s(K,v,k),T===null?E=K:T.sibling=K,T=K,I=R}if(j.done)return n(m,I),He&&Vs(m,k),E;if(I===null){for(;!j.done;k++,j=x.next())j=h(m,j.value,S),j!==null&&(v=s(j,v,k),T===null?E=j:T.sibling=j,T=j);return He&&Vs(m,k),E}for(I=r(m,I);!j.done;k++,j=x.next())j=p(I,m,k,j.value,S),j!==null&&(e&&j.alternate!==null&&I.delete(j.key===null?k:j.key),v=s(j,v,k),T===null?E=j:T.sibling=j,T=j);return e&&I.forEach(function(ae){return t(m,ae)}),He&&Vs(m,k),E}function w(m,v,x,S){if(typeof x=="object"&&x!==null&&x.type===na&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ud:e:{for(var E=x.key,T=v;T!==null;){if(T.key===E){if(E=x.type,E===na){if(T.tag===7){n(m,T.sibling),v=i(T,x.props.children),v.return=m,m=v;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mi&&xE(E)===T.type){n(m,T.sibling),v=i(T,x.props),v.ref=Yl(m,T,x),v.return=m,m=v;break e}n(m,T);break}else t(m,T);T=T.sibling}x.type===na?(v=eo(x.props.children,m.mode,S,x.key),v.return=m,m=v):(S=Mh(x.type,x.key,x.props,null,m.mode,S),S.ref=Yl(m,v,x),S.return=m,m=S)}return o(m);case ta:e:{for(T=x.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=i(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Gm(x,m.mode,S),v.return=m,m=v}return o(m);case Mi:return T=x._init,w(m,v,T(x._payload),S)}if(cc(x))return g(m,v,x,S);if(Wl(x))return y(m,v,x,S);Jd(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,x),v.return=m,m=v):(n(m,v),v=qm(x,m.mode,S),v.return=m,m=v),o(m)):n(m,v)}return w}var Ua=oC(!0),aC=oC(!1),Qu={},Rr=Ss(Qu),tu=Ss(Qu),nu=Ss(Qu);function qs(e){if(e===Qu)throw Error(M(174));return e}function K1(e,t){switch(je(nu,t),je(tu,e),je(Rr,Qu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cy(t,e)}Ue(Rr),je(Rr,t)}function za(){Ue(Rr),Ue(tu),Ue(nu)}function lC(e){qs(nu.current);var t=qs(Rr.current),n=cy(t,e.type);t!==n&&(je(tu,e),je(Rr,n))}function Q1(e){tu.current===e&&(Ue(Rr),Ue(tu))}var Ge=Ss(0);function _f(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fm=[];function Y1(){for(var e=0;e<Fm.length;e++)Fm[e]._workInProgressVersionPrimary=null;Fm.length=0}var Ph=Ti.ReactCurrentDispatcher,Um=Ti.ReactCurrentBatchConfig,ho=0,Ke=null,pt=null,St=null,Sf=!1,bc=!1,ru=0,oL=0;function Lt(){throw Error(M(321))}function X1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function J1(e,t,n,r,i,s){if(ho=s,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ph.current=e===null||e.memoizedState===null?uL:dL,e=n(r,i),bc){s=0;do{if(bc=!1,ru=0,25<=s)throw Error(M(301));s+=1,St=pt=null,t.updateQueue=null,Ph.current=hL,e=n(r,i)}while(bc)}if(Ph.current=Ef,t=pt!==null&&pt.next!==null,ho=0,St=pt=Ke=null,Sf=!1,t)throw Error(M(300));return e}function Z1(){var e=ru!==0;return ru=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ke.memoizedState=St=e:St=St.next=e,St}function Gn(){if(pt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=St===null?Ke.memoizedState:St.next;if(t!==null)St=t,pt=e;else{if(e===null)throw Error(M(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},St===null?Ke.memoizedState=St=e:St=St.next=e}return St}function iu(e,t){return typeof t=="function"?t(e):t}function zm(e){var t=Gn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ho&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lr(r,t.memoizedState)||(dn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ke.lanes|=s,fo|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bm(e){var t=Gn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);lr(s,t.memoizedState)||(dn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function cC(){}function uC(e,t){var n=Ke,r=Gn(),i=t(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,ex(fC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,su(9,hC.bind(null,n,r,i,t),void 0,null),Tt===null)throw Error(M(349));ho&30||dC(n,t,i)}return i}function dC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hC(e,t,n,r){t.value=n,t.getSnapshot=r,pC(t)&&gC(e)}function fC(e,t,n){return n(function(){pC(t)&&gC(e)})}function pC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function gC(e){var t=pi(e,1);t!==null&&ir(t,e,1,-1)}function wE(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:e},t.queue=e,e=e.dispatch=cL.bind(null,Ke,e),[t.memoizedState,e]}function su(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mC(){return Gn().memoizedState}function Rh(e,t,n,r){var i=vr();Ke.flags|=e,i.memoizedState=su(1|t,n,void 0,r===void 0?null:r)}function Mp(e,t,n,r){var i=Gn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&X1(r,o.deps)){i.memoizedState=su(t,n,s,r);return}}Ke.flags|=e,i.memoizedState=su(1|t,n,s,r)}function _E(e,t){return Rh(8390656,8,e,t)}function ex(e,t){return Mp(2048,8,e,t)}function yC(e,t){return Mp(4,2,e,t)}function vC(e,t){return Mp(4,4,e,t)}function xC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wC(e,t,n){return n=n!=null?n.concat([e]):null,Mp(4,4,xC.bind(null,t,e),n)}function tx(){}function _C(e,t){var n=Gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SC(e,t){var n=Gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function EC(e,t,n){return ho&21?(lr(n,t)||(n=b2(),Ke.lanes|=n,fo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function aL(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=Um.transition;Um.transition={};try{e(!1),t()}finally{ke=n,Um.transition=r}}function IC(){return Gn().memoizedState}function lL(e,t,n){var r=ns(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(e))bC(t,n);else if(n=nC(e,t,n,r),n!==null){var i=en();ir(n,e,r,i),kC(n,t,r)}}function cL(e,t,n){var r=ns(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(e))bC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=t.interleaved;l===null?(i.next=i,q1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=nC(e,t,i,r),n!==null&&(i=en(),ir(n,e,r,i),kC(n,t,r))}}function TC(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function bC(e,t){bc=Sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}var Ef={readContext:qn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},uL={readContext:qn,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:qn,useEffect:_E,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rh(4194308,4,xC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rh(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lL.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:wE,useDebugValue:tx,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=wE(!1),t=e[0];return e=aL.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=vr();if(He){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Tt===null)throw Error(M(349));ho&30||dC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,_E(fC.bind(null,r,s,e),[e]),r.flags|=2048,su(9,hC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vr(),t=Tt.identifierPrefix;if(He){var n=ei,r=Zr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ru++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dL={readContext:qn,useCallback:_C,useContext:qn,useEffect:ex,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:SC,useReducer:zm,useRef:mC,useState:function(){return zm(iu)},useDebugValue:tx,useDeferredValue:function(e){var t=Gn();return EC(t,pt.memoizedState,e)},useTransition:function(){var e=zm(iu)[0],t=Gn().memoizedState;return[e,t]},useMutableSource:cC,useSyncExternalStore:uC,useId:IC,unstable_isNewReconciler:!1},hL={readContext:qn,useCallback:_C,useContext:qn,useEffect:ex,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:SC,useReducer:Bm,useRef:mC,useState:function(){return Bm(iu)},useDebugValue:tx,useDeferredValue:function(e){var t=Gn();return pt===null?t.memoizedState=e:EC(t,pt.memoizedState,e)},useTransition:function(){var e=Bm(iu)[0],t=Gn().memoizedState;return[e,t]},useMutableSource:cC,useSyncExternalStore:uC,useId:IC,unstable_isNewReconciler:!1};function Ba(e,t){try{var n="",r=t;do n+=F3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fL=typeof WeakMap=="function"?WeakMap:Map;function CC(e,t,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tf||(Tf=!0,zy=r),jy(e,t)},n}function AC(e,t,n){n=li(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jy(e,t),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function SE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kL.bind(null,e,t,n),t.then(e,e))}function EE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=li(-1,1),t.tag=2,es(n,t,1))),n.lanes|=1),e)}var pL=Ti.ReactCurrentOwner,dn=!1;function Xt(e,t,n,r){t.child=e===null?aC(t,null,n,r):Ua(t,e.child,n,r)}function TE(e,t,n,r,i){n=n.render;var s=t.ref;return Ta(t,i),r=J1(e,t,n,r,s,i),n=Z1(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gi(e,t,i)):(He&&n&&F1(t),t.flags|=1,Xt(e,t,r,i),t.child)}function bE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,PC(e,t,s,r,i)):(e=Mh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(o,r)&&e.ref===t.ref)return gi(e,t,i)}return t.flags|=1,e=rs(s,r),e.ref=t.ref,e.return=t,t.child=e}function PC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Xc(s,r)&&e.ref===t.ref)if(dn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,gi(e,t,i)}return $y(e,t,n,r,i)}function RC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ha,vn),vn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(ha,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(ha,vn),vn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,je(ha,vn),vn|=r;return Xt(e,t,i,n),t.child}function jC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $y(e,t,n,r,i){var s=pn(n)?co:qt.current;return s=Va(t,s),Ta(t,i),n=J1(e,t,n,r,s,i),r=Z1(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gi(e,t,i)):(He&&r&&F1(t),t.flags|=1,Xt(e,t,n,i),t.child)}function kE(e,t,n,r,i){if(pn(n)){var s=!0;gf(t)}else s=!1;if(Ta(t,i),t.stateNode===null)jh(e,t),sC(t,n,r),Ry(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=pn(n)?co:qt.current,u=Va(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vE(t,o,r,u),Oi=!1;var f=t.memoizedState;o.state=f,wf(t,r,o,i),l=t.memoizedState,a!==r||f!==l||fn.current||Oi?(typeof d=="function"&&(Py(t,n,d,r),l=t.memoizedState),(a=Oi||yE(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Zn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=pn(n)?co:qt.current,l=Va(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&vE(t,o,r,l),Oi=!1,f=t.memoizedState,o.state=f,wf(t,r,o,i);var g=t.memoizedState;a!==h||f!==g||fn.current||Oi?(typeof p=="function"&&(Py(t,n,p,r),g=t.memoizedState),(u=Oi||yE(t,n,u,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ny(e,t,n,r,s,i)}function Ny(e,t,n,r,i,s){jC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hE(t,n,!1),gi(e,t,s);r=t.stateNode,pL.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ua(t,e.child,null,s),t.child=Ua(t,null,a,s)):Xt(e,t,a,s),t.memoizedState=r.state,i&&hE(t,n,!0),t.child}function $C(e){var t=e.stateNode;t.pendingContext?dE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dE(e,t.context,!1),K1(e,t.containerInfo)}function CE(e,t,n,r,i){return Fa(),z1(i),t.flags|=256,Xt(e,t,n,r),t.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Oy(e){return{baseLanes:e,cachePool:null,transitions:null}}function NC(e,t,n){var r=t.pendingProps,i=Ge.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Ge,i&1),e===null)return Cy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dp(o,r,0,null),e=eo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Oy(n),t.memoizedState=My,e):nx(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gL(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rs(a,s):(s=eo(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Oy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=My,r}return s=e.child,e=s.sibling,r=rs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nx(e,t){return t=Dp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zd(e,t,n,r){return r!==null&&z1(r),Ua(t,e.child,null,n),e=nx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gL(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Hm(Error(M(422))),Zd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dp({mode:"visible",children:r.children},i,0,null),s=eo(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ua(t,e.child,null,o),t.child.memoizedState=Oy(o),t.memoizedState=My,s);if(!(t.mode&1))return Zd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=Hm(s,r,void 0),Zd(e,t,o,r)}if(a=(o&e.childLanes)!==0,dn||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(e,i),ir(r,e,i,-1))}return lx(),r=Hm(Error(M(421))),Zd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,wn=Zi(i.nextSibling),kn=t,He=!0,tr=null,e!==null&&(Ln[Dn++]=Zr,Ln[Dn++]=ei,Ln[Dn++]=uo,Zr=e.id,ei=e.overflow,uo=t),t=nx(t,r.children),t.flags|=4096,t)}function AE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ay(e.return,t,n)}function Wm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AE(e,n,t);else if(e.tag===19)AE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_f(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_f(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wm(t,!0,n,null,s);break;case"together":Wm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=rs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mL(e,t,n){switch(t.tag){case 3:$C(t),Fa();break;case 5:lC(t);break;case 1:pn(t.type)&&gf(t);break;case 4:K1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;je(vf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?NC(e,t,n):(je(Ge,Ge.current&1),e=gi(e,t,n),e!==null?e.sibling:null);je(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return MC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,RC(e,t,n)}return gi(e,t,n)}var OC,Ly,LC,DC;OC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ly=function(){};LC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qs(Rr.current);var s=null;switch(n){case"input":i=sy(e,i),r=sy(e,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=ly(e,i),r=ly(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ff)}uy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};DC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yL(e,t,n){var r=t.pendingProps;switch(U1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return pn(t.type)&&pf(),Dt(t),null;case 3:return r=t.stateNode,za(),Ue(fn),Ue(qt),Y1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(Wy(tr),tr=null))),Ly(e,t),Dt(t),null;case 5:Q1(t);var i=qs(nu.current);if(n=t.type,e!==null&&t.stateNode!=null)LC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Dt(t),null}if(e=qs(Rr.current),Xd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ir]=t,r[eu]=s,e=(t.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<dc.length;i++)Oe(dc[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":DS(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":FS(r,s),Oe("invalid",r)}uy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yd(r.textContent,a,e),i=["children",""+a]):Hc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":zd(r),VS(r,s,!0);break;case"textarea":zd(r),US(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ir]=t,e[eu]=r,OC(e,t,!1,!1),t.stateNode=e;e:{switch(o=dy(n,r),n){case"dialog":Oe("cancel",e),Oe("close",e),i=r;break;case"iframe":case"object":case"embed":Oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<dc.length;i++)Oe(dc[i],e);i=r;break;case"source":Oe("error",e),i=r;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),i=r;break;case"details":Oe("toggle",e),i=r;break;case"input":DS(e,r),i=sy(e,r),Oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Oe("invalid",e);break;case"textarea":FS(e,r),i=ly(e,r),Oe("invalid",e);break;default:i=r}uy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?p2(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h2(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(e,l):typeof l=="number"&&Wc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",e):l!=null&&b1(e,s,l,o))}switch(n){case"input":zd(e),VS(e,r,!1);break;case"textarea":zd(e),US(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ds(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?_a(e,!!r.multiple,s,!1):r.defaultValue!=null&&_a(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)DC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=qs(nu.current),qs(Rr.current),Xd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ir]=t,(s=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Yd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=t,t.stateNode=r}return Dt(t),null;case 13:if(Ue(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&wn!==null&&t.mode&1&&!(t.flags&128))tC(),Fa(),t.flags|=98560,s=!1;else if(s=Xd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Ir]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),s=!1}else tr!==null&&(Wy(tr),tr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?gt===0&&(gt=3):lx())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return za(),Ly(e,t),e===null&&Jc(t.stateNode.containerInfo),Dt(t),null;case 10:return W1(t.type._context),Dt(t),null;case 17:return pn(t.type)&&pf(),Dt(t),null;case 19:if(Ue(Ge),s=t.memoizedState,s===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xl(s,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_f(e),o!==null){for(t.flags|=128,Xl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&st()>Ha&&(t.flags|=128,r=!0,Xl(s,!1),t.lanes=4194304)}else{if(!r)if(e=_f(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Dt(t),null}else 2*st()-s.renderingStartTime>Ha&&n!==1073741824&&(t.flags|=128,r=!0,Xl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=st(),t.sibling=null,n=Ge.current,je(Ge,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return ax(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vn&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function vL(e,t){switch(U1(t),t.tag){case 1:return pn(t.type)&&pf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return za(),Ue(fn),Ue(qt),Y1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q1(t),null;case 13:if(Ue(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ge),null;case 4:return za(),null;case 10:return W1(t.type._context),null;case 22:case 23:return ax(),null;case 24:return null;default:return null}}var eh=!1,Ut=!1,xL=typeof WeakSet=="function"?WeakSet:Set,B=null;function da(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function Dy(e,t,n){try{n()}catch(r){et(e,t,r)}}var PE=!1;function wL(e,t){if(_y=uf,e=z2(),V1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sy={focusedElem:e,selectionRange:n},uf=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Zn(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return g=PE,PE=!1,g}function kc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dy(t,n,s)}i=i.next}while(i!==r)}}function Op(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function VC(e){var t=e.alternate;t!==null&&(e.alternate=null,VC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[eu],delete t[Ty],delete t[nL],delete t[rL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FC(e){return e.tag===5||e.tag===3||e.tag===4}function RE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ff));else if(r!==4&&(e=e.child,e!==null))for(Fy(e,t,n),e=e.sibling;e!==null;)Fy(e,t,n),e=e.sibling}function Uy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uy(e,t,n),e=e.sibling;e!==null;)Uy(e,t,n),e=e.sibling}var Ct=null,er=!1;function Ri(e,t,n){for(n=n.child;n!==null;)UC(e,t,n),n=n.sibling}function UC(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Cp,n)}catch{}switch(n.tag){case 5:Ut||da(n,t);case 6:var r=Ct,i=er;Ct=null,Ri(e,t,n),Ct=r,er=i,Ct!==null&&(er?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(er?(e=Ct,n=n.stateNode,e.nodeType===8?Dm(e.parentNode,n):e.nodeType===1&&Dm(e,n),Qc(e)):Dm(Ct,n.stateNode));break;case 4:r=Ct,i=er,Ct=n.stateNode.containerInfo,er=!0,Ri(e,t,n),Ct=r,er=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dy(n,t,o),i=i.next}while(i!==r)}Ri(e,t,n);break;case 1:if(!Ut&&(da(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,t,a)}Ri(e,t,n);break;case 21:Ri(e,t,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Ri(e,t,n),Ut=r):Ri(e,t,n);break;default:Ri(e,t,n)}}function jE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xL),t.forEach(function(r){var i=AL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,er=!1;break e;case 3:Ct=a.stateNode.containerInfo,er=!0;break e;case 4:Ct=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(Ct===null)throw Error(M(160));UC(s,o,i),Ct=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zC(t,e),t=t.sibling}function zC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jn(t,e),mr(e),r&4){try{kc(3,e,e.return),Op(3,e)}catch(y){et(e,e.return,y)}try{kc(5,e,e.return)}catch(y){et(e,e.return,y)}}break;case 1:Jn(t,e),mr(e),r&512&&n!==null&&da(n,n.return);break;case 5:if(Jn(t,e),mr(e),r&512&&n!==null&&da(n,n.return),e.flags&32){var i=e.stateNode;try{Wc(i,"")}catch(y){et(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c2(i,s),dy(a,o);var u=dy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?p2(i,h):d==="dangerouslySetInnerHTML"?h2(i,h):d==="children"?Wc(i,h):b1(i,d,h,u)}switch(a){case"input":oy(i,s);break;case"textarea":u2(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_a(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?_a(i,!!s.multiple,s.defaultValue,!0):_a(i,!!s.multiple,s.multiple?[]:"",!1))}i[eu]=s}catch(y){et(e,e.return,y)}}break;case 6:if(Jn(t,e),mr(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){et(e,e.return,y)}}break;case 3:if(Jn(t,e),mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(t.containerInfo)}catch(y){et(e,e.return,y)}break;case 4:Jn(t,e),mr(e);break;case 13:Jn(t,e),mr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sx=st())),r&4&&jE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||d,Jn(t,e),Ut=u):Jn(t,e),mr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(h=B=d;B!==null;){switch(f=B,p=f.child,f.tag){case 0:case 11:case 14:case 15:kc(4,f,f.return);break;case 1:da(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){et(r,n,y)}}break;case 5:da(f,f.return);break;case 22:if(f.memoizedState!==null){NE(h);continue}}p!==null?(p.return=f,B=p):NE(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=f2("display",o))}catch(y){et(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){et(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(t,e),mr(e),r&4&&jE(e);break;case 21:break;default:Jn(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FC(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var s=RE(e);Uy(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=RE(e);Fy(e,a,o);break;default:throw Error(M(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _L(e,t,n){B=e,BC(e)}function BC(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||eh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=eh;var u=Ut;if(eh=o,(Ut=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?ME(i):l!==null?(l.return=o,B=l):ME(i);for(;s!==null;)B=s,BC(s),s=s.sibling;B=i,eh=a,Ut=u}$E(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):$E(e)}}function $E(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Op(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mE(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ut||t.flags&512&&Vy(t)}catch(f){et(t,t.return,f)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function NE(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function ME(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Op(4,t)}catch(l){et(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){et(t,i,l)}}var s=t.return;try{Vy(t)}catch(l){et(t,s,l)}break;case 5:var o=t.return;try{Vy(t)}catch(l){et(t,o,l)}}}catch(l){et(t,t.return,l)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var SL=Math.ceil,If=Ti.ReactCurrentDispatcher,rx=Ti.ReactCurrentOwner,Hn=Ti.ReactCurrentBatchConfig,me=0,Tt=null,ct=null,$t=0,vn=0,ha=Ss(0),gt=0,ou=null,fo=0,Lp=0,ix=0,Cc=null,cn=null,sx=0,Ha=1/0,Yr=null,Tf=!1,zy=null,ts=null,th=!1,qi=null,bf=0,Ac=0,By=null,$h=-1,Nh=0;function en(){return me&6?st():$h!==-1?$h:$h=st()}function ns(e){return e.mode&1?me&2&&$t!==0?$t&-$t:sL.transition!==null?(Nh===0&&(Nh=b2()),Nh):(e=ke,e!==0||(e=window.event,e=e===void 0?16:$2(e.type)),e):1}function ir(e,t,n,r){if(50<Ac)throw Ac=0,By=null,Error(M(185));qu(e,n,r),(!(me&2)||e!==Tt)&&(e===Tt&&(!(me&2)&&(Lp|=n),gt===4&&Vi(e,$t)),gn(e,r),n===1&&me===0&&!(t.mode&1)&&(Ha=st()+500,$p&&Es()))}function gn(e,t){var n=e.callbackNode;sO(e,t);var r=cf(e,e===Tt?$t:0);if(r===0)n!==null&&HS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&HS(n),t===1)e.tag===0?iL(OE.bind(null,e)):J2(OE.bind(null,e)),eL(function(){!(me&6)&&Es()}),n=null;else{switch(k2(r)){case 1:n=R1;break;case 4:n=I2;break;case 16:n=lf;break;case 536870912:n=T2;break;default:n=lf}n=XC(n,HC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function HC(e,t){if($h=-1,Nh=0,me&6)throw Error(M(327));var n=e.callbackNode;if(ba()&&e.callbackNode!==n)return null;var r=cf(e,e===Tt?$t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kf(e,r);else{t=r;var i=me;me|=2;var s=qC();(Tt!==e||$t!==t)&&(Yr=null,Ha=st()+500,Zs(e,t));do try{TL();break}catch(a){WC(e,a)}while(!0);H1(),If.current=s,me=i,ct!==null?t=0:(Tt=null,$t=0,t=gt)}if(t!==0){if(t===2&&(i=my(e),i!==0&&(r=i,t=Hy(e,i))),t===1)throw n=ou,Zs(e,0),Vi(e,r),gn(e,st()),n;if(t===6)Vi(e,r);else{if(i=e.current.alternate,!(r&30)&&!EL(i)&&(t=kf(e,r),t===2&&(s=my(e),s!==0&&(r=s,t=Hy(e,s))),t===1))throw n=ou,Zs(e,0),Vi(e,r),gn(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Fs(e,cn,Yr);break;case 3:if(Vi(e,r),(r&130023424)===r&&(t=sx+500-st(),10<t)){if(cf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){en(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Iy(Fs.bind(null,e,cn,Yr),t);break}Fs(e,cn,Yr);break;case 4:if(Vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-rr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SL(r/1960))-r,10<r){e.timeoutHandle=Iy(Fs.bind(null,e,cn,Yr),r);break}Fs(e,cn,Yr);break;case 5:Fs(e,cn,Yr);break;default:throw Error(M(329))}}}return gn(e,st()),e.callbackNode===n?HC.bind(null,e):null}function Hy(e,t){var n=Cc;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),e=kf(e,t),e!==2&&(t=cn,cn=n,t!==null&&Wy(t)),e}function Wy(e){cn===null?cn=e:cn.push.apply(cn,e)}function EL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t){for(t&=~ix,t&=~Lp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rr(t),r=1<<n;e[n]=-1,t&=~r}}function OE(e){if(me&6)throw Error(M(327));ba();var t=cf(e,0);if(!(t&1))return gn(e,st()),null;var n=kf(e,t);if(e.tag!==0&&n===2){var r=my(e);r!==0&&(t=r,n=Hy(e,r))}if(n===1)throw n=ou,Zs(e,0),Vi(e,t),gn(e,st()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,cn,Yr),gn(e,st()),null}function ox(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Ha=st()+500,$p&&Es())}}function po(e){qi!==null&&qi.tag===0&&!(me&6)&&ba();var t=me;me|=1;var n=Hn.transition,r=ke;try{if(Hn.transition=null,ke=1,e)return e()}finally{ke=r,Hn.transition=n,me=t,!(me&6)&&Es()}}function ax(){vn=ha.current,Ue(ha)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZO(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(U1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:za(),Ue(fn),Ue(qt),Y1();break;case 5:Q1(r);break;case 4:za();break;case 13:Ue(Ge);break;case 19:Ue(Ge);break;case 10:W1(r.type._context);break;case 22:case 23:ax()}n=n.return}if(Tt=e,ct=e=rs(e.current,null),$t=vn=t,gt=0,ou=null,ix=Lp=fo=0,cn=Cc=null,Ws!==null){for(t=0;t<Ws.length;t++)if(n=Ws[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return e}function WC(e,t){do{var n=ct;try{if(H1(),Ph.current=Ef,Sf){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sf=!1}if(ho=0,St=pt=Ke=null,bc=!1,ru=0,rx.current=null,n===null||n.return===null){gt=1,ou=t,ct=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=EE(o);if(p!==null){p.flags&=-257,IE(p,o,a,s,t),p.mode&1&&SE(s,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){SE(s,u,t),lx();break e}l=Error(M(426))}}else if(He&&a.mode&1){var w=EE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),IE(w,o,a,s,t),z1(Ba(l,a));break e}}s=l=Ba(l,a),gt!==4&&(gt=2),Cc===null?Cc=[s]:Cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=CC(s,l,t);gE(s,m);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=AC(s,a,t);gE(s,S);break e}}s=s.return}while(s!==null)}KC(n)}catch(E){t=E,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function qC(){var e=If.current;return If.current=Ef,e===null?Ef:e}function lx(){(gt===0||gt===3||gt===2)&&(gt=4),Tt===null||!(fo&268435455)&&!(Lp&268435455)||Vi(Tt,$t)}function kf(e,t){var n=me;me|=2;var r=qC();(Tt!==e||$t!==t)&&(Yr=null,Zs(e,t));do try{IL();break}catch(i){WC(e,i)}while(!0);if(H1(),me=n,If.current=r,ct!==null)throw Error(M(261));return Tt=null,$t=0,gt}function IL(){for(;ct!==null;)GC(ct)}function TL(){for(;ct!==null&&!Y3();)GC(ct)}function GC(e){var t=YC(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?KC(e):ct=t,rx.current=null}function KC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vL(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ct=null;return}}else if(n=yL(n,t,vn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);gt===0&&(gt=5)}function Fs(e,t,n){var r=ke,i=Hn.transition;try{Hn.transition=null,ke=1,bL(e,t,n,r)}finally{Hn.transition=i,ke=r}return null}function bL(e,t,n,r){do ba();while(qi!==null);if(me&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oO(e,s),e===Tt&&(ct=Tt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,XC(lf,function(){return ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=ke;ke=1;var a=me;me|=4,rx.current=null,wL(e,n),zC(n,e),qO(Sy),uf=!!_y,Sy=_y=null,e.current=n,_L(n),X3(),me=a,ke=o,Hn.transition=s}else e.current=n;if(th&&(th=!1,qi=e,bf=i),s=e.pendingLanes,s===0&&(ts=null),eO(n.stateNode),gn(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tf)throw Tf=!1,e=zy,zy=null,e;return bf&1&&e.tag!==0&&ba(),s=e.pendingLanes,s&1?e===By?Ac++:(Ac=0,By=e):Ac=0,Es(),null}function ba(){if(qi!==null){var e=k2(bf),t=Hn.transition,n=ke;try{if(Hn.transition=null,ke=16>e?16:e,qi===null)var r=!1;else{if(e=qi,qi=null,bf=0,me&6)throw Error(M(331));var i=me;for(me|=4,B=e.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:kc(8,d,s)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var f=d.sibling,p=d.return;if(VC(d),d===u){B=null;break}if(f!==null){f.return=p,B=f;break}B=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kc(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,B=m;break e}B=s.return}}var v=e.current;for(B=v;B!==null;){o=B;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,B=x;else e:for(o=v;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Op(9,a)}}catch(E){et(a,a.return,E)}if(a===o){B=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,B=S;break e}B=a.return}}if(me=i,Es(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Cp,e)}catch{}r=!0}return r}finally{ke=n,Hn.transition=t}}return!1}function LE(e,t,n){t=Ba(n,t),t=CC(e,t,1),e=es(e,t,1),t=en(),e!==null&&(qu(e,1,t),gn(e,t))}function et(e,t,n){if(e.tag===3)LE(e,e,n);else for(;t!==null;){if(t.tag===3){LE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){e=Ba(n,e),e=AC(t,e,1),t=es(t,e,1),e=en(),t!==null&&(qu(t,1,e),gn(t,e));break}}t=t.return}}function kL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,Tt===e&&($t&n)===n&&(gt===4||gt===3&&($t&130023424)===$t&&500>st()-sx?Zs(e,0):ix|=n),gn(e,t)}function QC(e,t){t===0&&(e.mode&1?(t=Wd,Wd<<=1,!(Wd&130023424)&&(Wd=4194304)):t=1);var n=en();e=pi(e,t),e!==null&&(qu(e,t,n),gn(e,n))}function CL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QC(e,n)}function AL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),QC(e,n)}var YC;YC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,mL(e,t,n);dn=!!(e.flags&131072)}else dn=!1,He&&t.flags&1048576&&Z2(t,yf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jh(e,t),e=t.pendingProps;var i=Va(t,qt.current);Ta(t,n),i=J1(null,t,r,e,i,n);var s=Z1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pn(r)?(s=!0,gf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G1(t),i.updater=Np,t.stateNode=i,i._reactInternals=t,Ry(t,r,e,n),t=Ny(null,t,r,!0,s,n)):(t.tag=0,He&&s&&F1(t),Xt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=RL(r),e=Zn(r,e),i){case 0:t=$y(null,t,r,e,n);break e;case 1:t=kE(null,t,r,e,n);break e;case 11:t=TE(null,t,r,e,n);break e;case 14:t=bE(null,t,r,Zn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zn(r,i),$y(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zn(r,i),kE(e,t,r,i,n);case 3:e:{if($C(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,i=s.element,rC(e,t),wf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ba(Error(M(423)),t),t=CE(e,t,r,n,i);break e}else if(r!==i){i=Ba(Error(M(424)),t),t=CE(e,t,r,n,i);break e}else for(wn=Zi(t.stateNode.containerInfo.firstChild),kn=t,He=!0,tr=null,n=aC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===i){t=gi(e,t,n);break e}Xt(e,t,r,n)}t=t.child}return t;case 5:return lC(t),e===null&&Cy(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ey(r,i)?o=null:s!==null&&Ey(r,s)&&(t.flags|=32),jC(e,t),Xt(e,t,o,n),t.child;case 6:return e===null&&Cy(t),null;case 13:return NC(e,t,n);case 4:return K1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ua(t,null,r,n):Xt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zn(r,i),TE(e,t,r,i,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,je(vf,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!fn.current){t=gi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=li(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ay(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ay(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),i=qn(i),r=r(i),t.flags|=1,Xt(e,t,r,n),t.child;case 14:return r=t.type,i=Zn(r,t.pendingProps),i=Zn(r.type,i),bE(e,t,r,i,n);case 15:return PC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zn(r,i),jh(e,t),t.tag=1,pn(r)?(e=!0,gf(t)):e=!1,Ta(t,n),sC(t,r,i),Ry(t,r,i,n),Ny(null,t,r,!0,e,n);case 19:return MC(e,t,n);case 22:return RC(e,t,n)}throw Error(M(156,t.tag))};function XC(e,t){return E2(e,t)}function PL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,n,r){return new PL(e,t,n,r)}function cx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RL(e){if(typeof e=="function")return cx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C1)return 11;if(e===A1)return 14}return 2}function rs(e,t){var n=e.alternate;return n===null?(n=zn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")cx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case na:return eo(n.children,i,s,t);case k1:o=8,i|=8;break;case ty:return e=zn(12,n,t,i|2),e.elementType=ty,e.lanes=s,e;case ny:return e=zn(13,n,t,i),e.elementType=ny,e.lanes=s,e;case ry:return e=zn(19,n,t,i),e.elementType=ry,e.lanes=s,e;case o2:return Dp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case i2:o=10;break e;case s2:o=9;break e;case C1:o=11;break e;case A1:o=14;break e;case Mi:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=zn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function eo(e,t,n,r){return e=zn(7,e,r,t),e.lanes=n,e}function Dp(e,t,n,r){return e=zn(22,e,r,t),e.elementType=o2,e.lanes=n,e.stateNode={isHidden:!1},e}function qm(e,t,n){return e=zn(6,e,null,t),e.lanes=n,e}function Gm(e,t,n){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ux(e,t,n,r,i,s,o,a,l){return e=new jL(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=zn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G1(s),e}function $L(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function JC(e){if(!e)return hs;e=e._reactInternals;e:{if(jo(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(pn(n))return X2(e,n,t)}return t}function ZC(e,t,n,r,i,s,o,a,l){return e=ux(n,r,!0,e,i,s,o,a,l),e.context=JC(null),n=e.current,r=en(),i=ns(n),s=li(r,i),s.callback=t??null,es(n,s,i),e.current.lanes=i,qu(e,i,r),gn(e,r),e}function Vp(e,t,n,r){var i=t.current,s=en(),o=ns(i);return n=JC(n),t.context===null?t.context=n:t.pendingContext=n,t=li(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=es(i,t,o),e!==null&&(ir(e,i,o,s),Ah(e,i,o)),o}function Cf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dx(e,t){DE(e,t),(e=e.alternate)&&DE(e,t)}function NL(){return null}var eA=typeof reportError=="function"?reportError:function(e){console.error(e)};function hx(e){this._internalRoot=e}Fp.prototype.render=hx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Vp(e,t,null,null)};Fp.prototype.unmount=hx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;po(function(){Vp(null,e,null,null)}),t[fi]=null}};function Fp(e){this._internalRoot=e}Fp.prototype.unstable_scheduleHydration=function(e){if(e){var t=P2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Di.length&&t!==0&&t<Di[n].priority;n++);Di.splice(n,0,e),n===0&&j2(e)}};function fx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Up(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VE(){}function ML(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cf(o);s.call(u)}}var o=ZC(t,r,e,0,null,!1,!1,"",VE);return e._reactRootContainer=o,e[fi]=o.current,Jc(e.nodeType===8?e.parentNode:e),po(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Cf(l);a.call(u)}}var l=ux(e,0,!1,null,null,!1,!1,"",VE);return e._reactRootContainer=l,e[fi]=l.current,Jc(e.nodeType===8?e.parentNode:e),po(function(){Vp(t,l,n,r)}),l}function zp(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cf(o);a.call(l)}}Vp(t,o,e,i)}else o=ML(n,t,e,i,r);return Cf(o)}C2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uc(t.pendingLanes);n!==0&&(j1(t,n|1),gn(t,st()),!(me&6)&&(Ha=st()+500,Es()))}break;case 13:po(function(){var r=pi(e,1);if(r!==null){var i=en();ir(r,e,1,i)}}),dx(e,1)}};$1=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=en();ir(t,e,134217728,n)}dx(e,134217728)}};A2=function(e){if(e.tag===13){var t=ns(e),n=pi(e,t);if(n!==null){var r=en();ir(n,e,t,r)}dx(e,t)}};P2=function(){return ke};R2=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};fy=function(e,t,n){switch(t){case"input":if(oy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jp(r);if(!i)throw Error(M(90));l2(r),oy(r,i)}}}break;case"textarea":u2(e,n);break;case"select":t=n.value,t!=null&&_a(e,!!n.multiple,t,!1)}};y2=ox;v2=po;var OL={usingClientEntryPoint:!1,Events:[Ku,oa,jp,g2,m2,ox]},Jl={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LL={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_2(e),e===null?null:e.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||NL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Cp=nh.inject(LL),Pr=nh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL;$n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fx(t))throw Error(M(200));return $L(e,t,null,n)};$n.createRoot=function(e,t){if(!fx(e))throw Error(M(299));var n=!1,r="",i=eA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ux(e,1,!1,null,null,n,!1,r,i),e[fi]=t.current,Jc(e.nodeType===8?e.parentNode:e),new hx(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=_2(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return po(e)};$n.hydrate=function(e,t,n){if(!Up(t))throw Error(M(200));return zp(null,e,t,!0,n)};$n.hydrateRoot=function(e,t,n){if(!fx(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ZC(t,null,e,1,n??null,i,!1,s,o),e[fi]=t.current,Jc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fp(t)};$n.render=function(e,t,n){if(!Up(t))throw Error(M(200));return zp(null,e,t,!1,n)};$n.unmountComponentAtNode=function(e){if(!Up(e))throw Error(M(40));return e._reactRootContainer?(po(function(){zp(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0):!1};$n.unstable_batchedUpdates=ox;$n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Up(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return zp(e,t,n,!1,r)};$n.version="18.2.0-next-9e3b772b8-20220608";function tA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tA)}catch(e){console.error(e)}}tA(),Zk.exports=$n;var DL=Zk.exports,FE=DL;Z0.createRoot=FE.createRoot,Z0.hydrateRoot=FE.hydrateRoot;var It=function(){return It=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},It.apply(this,arguments)};function px(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function au(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Le="-ms-",Pc="-moz-",Ee="-webkit-",nA="comm",Bp="rule",gx="decl",VL="@import",rA="@keyframes",FL="@layer",UL=Math.abs,mx=String.fromCharCode,qy=Object.assign;function zL(e,t){return Et(e,0)^45?(((t<<2^Et(e,0))<<2^Et(e,1))<<2^Et(e,2))<<2^Et(e,3):0}function iA(e){return e.trim()}function Xr(e,t){return(e=t.exec(e))?e[0]:e}function oe(e,t,n){return e.replace(t,n)}function Oh(e,t){return e.indexOf(t)}function Et(e,t){return e.charCodeAt(t)|0}function Wa(e,t,n){return e.slice(t,n)}function _r(e){return e.length}function sA(e){return e.length}function hc(e,t){return t.push(e),e}function BL(e,t){return e.map(t).join("")}function UE(e,t){return e.filter(function(n){return!Xr(n,t)})}var Hp=1,qa=1,oA=0,Kn=0,lt=0,El="";function Wp(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Hp,column:qa,length:o,return:"",siblings:a}}function Ni(e,t){return qy(Wp("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function qo(e){for(;e.root;)e=Ni(e.root,{children:[e]});hc(e,e.siblings)}function HL(){return lt}function WL(){return lt=Kn>0?Et(El,--Kn):0,qa--,lt===10&&(qa=1,Hp--),lt}function sr(){return lt=Kn<oA?Et(El,Kn++):0,qa++,lt===10&&(qa=1,Hp++),lt}function to(){return Et(El,Kn)}function Lh(){return Kn}function qp(e,t){return Wa(El,e,t)}function Gy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qL(e){return Hp=qa=1,oA=_r(El=e),Kn=0,[]}function GL(e){return El="",e}function Km(e){return iA(qp(Kn-1,Ky(e===91?e+2:e===40?e+1:e)))}function KL(e){for(;(lt=to())&&lt<33;)sr();return Gy(e)>2||Gy(lt)>3?"":" "}function QL(e,t){for(;--t&&sr()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return qp(e,Lh()+(t<6&&to()==32&&sr()==32))}function Ky(e){for(;sr();)switch(lt){case e:return Kn;case 34:case 39:e!==34&&e!==39&&Ky(lt);break;case 40:e===41&&Ky(e);break;case 92:sr();break}return Kn}function YL(e,t){for(;sr()&&e+lt!==57;)if(e+lt===84&&to()===47)break;return"/*"+qp(t,Kn-1)+"*"+mx(e===47?e:sr())}function XL(e){for(;!Gy(to());)sr();return qp(e,Kn)}function JL(e){return GL(Dh("",null,null,null,[""],e=qL(e),0,[0],e))}function Dh(e,t,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,p=0,g=0,y=1,w=1,m=1,v=0,x="",S=i,E=s,T=r,I=x;w;)switch(g=v,v=sr()){case 40:if(g!=108&&Et(I,h-1)==58){Oh(I+=oe(Km(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:I+=Km(v);break;case 9:case 10:case 13:case 32:I+=KL(g);break;case 92:I+=QL(Lh()-1,7);continue;case 47:switch(to()){case 42:case 47:hc(ZL(YL(sr(),Lh()),t,n,l),l);break;default:I+="/"}break;case 123*y:a[u++]=_r(I)*m;case 125*y:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+d:m==-1&&(I=oe(I,/\f/g,"")),p>0&&_r(I)-h&&hc(p>32?BE(I+";",r,n,h-1,l):BE(oe(I," ","")+";",r,n,h-2,l),l);break;case 59:I+=";";default:if(hc(T=zE(I,t,n,u,d,i,a,x,S=[],E=[],h,s),s),v===123)if(d===0)Dh(I,t,T,T,S,s,h,a,E);else switch(f===99&&Et(I,3)===110?100:f){case 100:case 108:case 109:case 115:Dh(e,T,T,r&&hc(zE(e,T,T,0,0,i,a,x,i,S=[],h,E),E),i,E,h,a,r?S:E);break;default:Dh(I,T,T,T,[""],E,0,a,E)}}u=d=p=0,y=m=1,x=I="",h=o;break;case 58:h=1+_r(I),p=g;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&WL()==125)continue}switch(I+=mx(v),v*y){case 38:m=d>0?1:(I+="\f",-1);break;case 44:a[u++]=(_r(I)-1)*m,m=1;break;case 64:to()===45&&(I+=Km(sr())),f=to(),d=h=_r(x=I+=XL(Lh())),v++;break;case 45:g===45&&_r(I)==2&&(y=0)}}return s}function zE(e,t,n,r,i,s,o,a,l,u,d,h){for(var f=i-1,p=i===0?s:[""],g=sA(p),y=0,w=0,m=0;y<r;++y)for(var v=0,x=Wa(e,f+1,f=UL(w=o[y])),S=e;v<g;++v)(S=iA(w>0?p[v]+" "+x:oe(x,/&\f/g,p[v])))&&(l[m++]=S);return Wp(e,t,n,i===0?Bp:a,l,u,d,h)}function ZL(e,t,n,r){return Wp(e,t,n,nA,mx(HL()),Wa(e,2,-2),0,r)}function BE(e,t,n,r,i){return Wp(e,t,n,gx,Wa(e,0,r),Wa(e,r+1,-1),r,i)}function aA(e,t,n){switch(zL(e,t)){case 5103:return Ee+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ee+e+e;case 4789:return Pc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ee+e+Pc+e+Le+e+e;case 5936:switch(Et(e,t+11)){case 114:return Ee+e+Le+oe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ee+e+Le+oe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ee+e+Le+oe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ee+e+Le+e+e;case 6165:return Ee+e+Le+"flex-"+e+e;case 5187:return Ee+e+oe(e,/(\w+).+(:[^]+)/,Ee+"box-$1$2"+Le+"flex-$1$2")+e;case 5443:return Ee+e+Le+"flex-item-"+oe(e,/flex-|-self/g,"")+(Xr(e,/flex-|baseline/)?"":Le+"grid-row-"+oe(e,/flex-|-self/g,""))+e;case 4675:return Ee+e+Le+"flex-line-pack"+oe(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ee+e+Le+oe(e,"shrink","negative")+e;case 5292:return Ee+e+Le+oe(e,"basis","preferred-size")+e;case 6060:return Ee+"box-"+oe(e,"-grow","")+Ee+e+Le+oe(e,"grow","positive")+e;case 4554:return Ee+oe(e,/([^-])(transform)/g,"$1"+Ee+"$2")+e;case 6187:return oe(oe(oe(e,/(zoom-|grab)/,Ee+"$1"),/(image-set)/,Ee+"$1"),e,"")+e;case 5495:case 3959:return oe(e,/(image-set\([^]*)/,Ee+"$1$`$1");case 4968:return oe(oe(e,/(.+:)(flex-)?(.*)/,Ee+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ee+e+e;case 4200:if(!Xr(e,/flex-|baseline/))return Le+"grid-column-align"+Wa(e,t)+e;break;case 2592:case 3360:return Le+oe(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Xr(r.props,/grid-\w+-end/)})?~Oh(e+(n=n[t].value),"span")?e:Le+oe(e,"-start","")+e+Le+"grid-row-span:"+(~Oh(n,"span")?Xr(n,/\d+/):+Xr(n,/\d+/)-+Xr(e,/\d+/))+";":Le+oe(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Xr(r.props,/grid-\w+-start/)})?e:Le+oe(oe(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return oe(e,/(.+)-inline(.+)/,Ee+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_r(e)-1-t>6)switch(Et(e,t+1)){case 109:if(Et(e,t+4)!==45)break;case 102:return oe(e,/(.+:)(.+)-([^]+)/,"$1"+Ee+"$2-$3$1"+Pc+(Et(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Oh(e,"stretch")?aA(oe(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return oe(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Le+i+":"+s+u+(o?Le+i+"-span:"+(a?l:+l-+s)+u:"")+e});case 4949:if(Et(e,t+6)===121)return oe(e,":",":"+Ee)+e;break;case 6444:switch(Et(e,Et(e,14)===45?18:11)){case 120:return oe(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ee+(Et(e,14)===45?"inline-":"")+"box$3$1"+Ee+"$2$3$1"+Le+"$2box$3")+e;case 100:return oe(e,":",":"+Le)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return oe(e,"scroll-","scroll-snap-")+e}return e}function Af(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function eD(e,t,n,r){switch(e.type){case FL:if(e.children.length)break;case VL:case gx:return e.return=e.return||e.value;case nA:return"";case rA:return e.return=e.value+"{"+Af(e.children,r)+"}";case Bp:if(!_r(e.value=e.props.join(",")))return""}return _r(n=Af(e.children,r))?e.return=e.value+"{"+n+"}":""}function tD(e){var t=sA(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function nD(e){return function(t){t.root||(t=t.return)&&e(t)}}function rD(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case gx:e.return=aA(e.value,e.length,n);return;case rA:return Af([Ni(e,{value:oe(e.value,"@","@"+Ee)})],r);case Bp:if(e.length)return BL(n=e.props,function(i){switch(Xr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qo(Ni(e,{props:[oe(i,/:(read-\w+)/,":"+Pc+"$1")]})),qo(Ni(e,{props:[i]})),qy(e,{props:UE(n,r)});break;case"::placeholder":qo(Ni(e,{props:[oe(i,/:(plac\w+)/,":"+Ee+"input-$1")]})),qo(Ni(e,{props:[oe(i,/:(plac\w+)/,":"+Pc+"$1")]})),qo(Ni(e,{props:[oe(i,/:(plac\w+)/,Le+"input-$1")]})),qo(Ni(e,{props:[i]})),qy(e,{props:UE(n,r)});break}return""})}}var iD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yn={},Ga=typeof process<"u"&&yn!==void 0&&(yn.REACT_APP_SC_ATTR||yn.SC_ATTR)||"data-styled",yx=typeof window<"u"&&"HTMLElement"in window,sD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&yn!==void 0&&yn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&yn.REACT_APP_SC_DISABLE_SPEEDY!==""?yn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&yn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&yn!==void 0&&yn.SC_DISABLE_SPEEDY!==void 0&&yn.SC_DISABLE_SPEEDY!==""&&yn.SC_DISABLE_SPEEDY!=="false"&&yn.SC_DISABLE_SPEEDY),oD={},Gp=Object.freeze([]),Ka=Object.freeze({});function lA(e,t,n){return n===void 0&&(n=Ka),e.theme!==n.theme&&e.theme||t||n.theme}var cA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),aD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,lD=/(^-|-$)/g;function HE(e){return e.replace(aD,"-").replace(lD,"")}var cD=/(a)(d)/gi,WE=function(e){return String.fromCharCode(e+(e>25?39:97))};function Qy(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=WE(t%52)+n;return(WE(t%52)+n).replace(cD,"$1-$2")}var Qm,fa=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},uA=function(e){return fa(5381,e)};function dA(e){return Qy(uA(e)>>>0)}function uD(e){return e.displayName||e.name||"Component"}function Ym(e){return typeof e=="string"&&!0}var hA=typeof Symbol=="function"&&Symbol.for,fA=hA?Symbol.for("react.memo"):60115,dD=hA?Symbol.for("react.forward_ref"):60112,hD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pD=((Qm={})[dD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qm[fA]=pA,Qm);function qE(e){return("type"in(t=e)&&t.type.$$typeof)===fA?pA:"$$typeof"in e?pD[e.$$typeof]:hD;var t}var gD=Object.defineProperty,mD=Object.getOwnPropertyNames,GE=Object.getOwnPropertySymbols,yD=Object.getOwnPropertyDescriptor,vD=Object.getPrototypeOf,KE=Object.prototype;function gA(e,t,n){if(typeof t!="string"){if(KE){var r=vD(t);r&&r!==KE&&gA(e,r,n)}var i=mD(t);GE&&(i=i.concat(GE(t)));for(var s=qE(e),o=qE(t),a=0;a<i.length;++a){var l=i[a];if(!(l in fD||n&&n[l]||o&&l in o||s&&l in s)){var u=yD(t,l);try{gD(e,l,u)}catch{}}}}return e}function go(e){return typeof e=="function"}function vx(e){return typeof e=="object"&&"styledComponentId"in e}function Gs(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Yy(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function lu(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Xy(e,t,n){if(n===void 0&&(n=!1),!n&&!lu(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Xy(e[r],t[r]);else if(lu(t))for(var r in t)e[r]=Xy(e[r],t[r]);return e}function xx(e,t){Object.defineProperty(e,"toString",{value:t})}function fs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xD=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw fs(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},e}(),Vh=new Map,Pf=new Map,Fh=1,rh=function(e){if(Vh.has(e))return Vh.get(e);for(;Pf.has(Fh);)Fh++;var t=Fh++;return Vh.set(e,t),Pf.set(t,e),t},wD=function(e,t){Fh=t+1,Vh.set(e,t),Pf.set(t,e)},_D="style[".concat(Ga,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),SD=new RegExp("^".concat(Ga,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ED=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},ID=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(SD);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(wD(d,u),ED(e,d,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function TD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mA=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ga,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ga,"active"),r.setAttribute("data-styled-version","6.1.1");var o=TD();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},bD=function(){function e(t){this.element=mA(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw fs(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),kD=function(){function e(t){this.element=mA(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),CD=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),QE=yx,AD={isServer:!yx,useCSSOMInjection:!sD},Rf=function(){function e(t,n,r){t===void 0&&(t=Ka),n===void 0&&(n={});var i=this;this.options=It(It({},AD),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&yx&&QE&&(QE=!1,function(s){for(var o=document.querySelectorAll(_D),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Ga)!=="active"&&(ID(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),xx(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(h){var f=function(m){return Pf.get(m)}(h);if(f===void 0)return"continue";var p=s.names.get(f),g=o.getGroup(h);if(p===void 0||g.length===0)return"continue";var y="".concat(Ga,".g").concat(h,'[id="').concat(f,'"]'),w="";p!==void 0&&p.forEach(function(m){m.length>0&&(w+="".concat(m,","))}),l+="".concat(g).concat(y,'{content:"').concat(w,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return l}(i)})}return e.registerId=function(t){return rh(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(It(It({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new CD(i):r?new bD(i):new kD(i)}(this.options),new xD(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(rh(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(rh(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(rh(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),PD=/&/g,RD=/^\s*\/\/.*$/gm;function yA(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=yA(n.children,t)),n})}function jD(e){var t,n,r,i=e===void 0?Ka:e,s=i.options,o=s===void 0?Ka:s,a=i.plugins,l=a===void 0?Gp:a,u=function(f,p,g){return g===n||g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(t):f},d=l.slice();d.push(function(f){f.type===Bp&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(PD,n).replace(r,u))}),o.prefix&&d.push(rD),d.push(eD);var h=function(f,p,g,y){p===void 0&&(p=""),g===void 0&&(g=""),y===void 0&&(y="&"),t=y,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var w=f.replace(RD,""),m=JL(g||p?"".concat(g," ").concat(p," { ").concat(w," }"):w);o.namespace&&(m=yA(m,o.namespace));var v=[];return Af(m,tD(d.concat(nD(function(x){return v.push(x)})))),v};return h.hash=l.length?l.reduce(function(f,p){return p.name||fs(15),fa(f,p.name)},5381).toString():"",h}var $D=new Rf,Jy=jD(),vA=Ae.createContext({shouldForwardProp:void 0,styleSheet:$D,stylis:Jy});vA.Consumer;Ae.createContext(void 0);function Zy(){return b.useContext(vA)}var ND=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Jy);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,xx(this,function(){throw fs(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Jy),this.name+t.hash},e}(),MD=function(e){return e>="A"&&e<="Z"};function YE(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;MD(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var xA=function(e){return e==null||e===!1||e===""},wA=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!xA(s)&&(Array.isArray(s)&&s.isCss||go(s)?r.push("".concat(YE(i),":"),s,";"):lu(s)?r.push.apply(r,au(au(["".concat(i," {")],wA(s),!1),["}"],!1)):r.push("".concat(YE(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in iD||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function is(e,t,n,r){if(xA(e))return[];if(vx(e))return[".".concat(e.styledComponentId)];if(go(e)){if(!go(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return is(i,t,n,r)}var s;return e instanceof ND?n?(e.inject(n,r),[e.getName(r)]):[e]:lu(e)?wA(e):Array.isArray(e)?Array.prototype.concat.apply(Gp,e.map(function(o){return is(o,t,n,r)})):[e.toString()]}function _A(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(go(n)&&!vx(n))return!1}return!0}var OD=uA("6.1.1"),LD=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&_A(t),this.componentId=n,this.baseHash=fa(OD,n),this.baseStyle=r,Rf.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Gs(i,this.staticRulesId);else{var s=Yy(is(this.rules,t,n,r)),o=Qy(fa(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Gs(i,o),this.staticRulesId=o}else{for(var l=fa(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")u+=h;else if(h){var f=Yy(is(h,t,n,r));l=fa(l,f+d),u+=f}}if(u){var p=Qy(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(u,".".concat(p),void 0,this.componentId)),i=Gs(i,p)}}return i},e}(),Qa=Ae.createContext(void 0);Qa.Consumer;function Yn(){var e=b.useContext(Qa);if(!e)throw fs(18);return e}function DD(e){var t=Ae.useContext(Qa),n=b.useMemo(function(){return function(r,i){if(!r)throw fs(14);if(go(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw fs(8);return i?It(It({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?Ae.createElement(Qa.Provider,{value:n},e.children):null}var Xm={};function VD(e,t,n){var r=vx(e),i=e,s=!Ym(e),o=t.attrs,a=o===void 0?Gp:o,l=t.componentId,u=l===void 0?function(S,E){var T=typeof S!="string"?"sc":HE(S);Xm[T]=(Xm[T]||0)+1;var I="".concat(T,"-").concat(dA("6.1.1"+T+Xm[T]));return E?"".concat(E,"-").concat(I):I}(t.displayName,t.parentComponentId):l,d=t.displayName,h=d===void 0?function(S){return Ym(S)?"styled.".concat(S):"Styled(".concat(uD(S),")")}(e):d,f=t.displayName&&t.componentId?"".concat(HE(t.displayName),"-").concat(t.componentId):t.componentId||u,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var w=t.shouldForwardProp;g=function(S,E){return y(S,E)&&w(S,E)}}else g=y}var m=new LD(n,f,r?i.componentStyle:void 0);function v(S,E){return function(T,I,k){var R=T.attrs,j=T.componentStyle,K=T.defaultProps,ae=T.foldedComponentIds,se=T.styledComponentId,le=T.target,he=Ae.useContext(Qa),J=Zy(),Te=T.shouldForwardProp||J.shouldForwardProp,L=function(pe,Ne,Se){for(var Be,ht=It(It({},Ne),{className:void 0,theme:Se}),sn=0;sn<pe.length;sn+=1){var on=go(Be=pe[sn])?Be(ht):Be;for(var Me in on)ht[Me]=Me==="className"?Gs(ht[Me],on[Me]):Me==="style"?It(It({},ht[Me]),on[Me]):on[Me]}return Ne.className&&(ht.className=Gs(ht.className,Ne.className)),ht}(R,I,lA(I,he,K)||Ka),H=L.as||le,P={};for(var D in L)L[D]===void 0||D[0]==="$"||D==="as"||D==="theme"||(D==="forwardedAs"?P.as=L.forwardedAs:Te&&!Te(D,H)||(P[D]=L[D]));var q=function(pe,Ne){var Se=Zy(),Be=pe.generateAndInjectStyles(Ne,Se.styleSheet,Se.stylis);return Be}(j,L),ye=Gs(ae,se);return q&&(ye+=" "+q),L.className&&(ye+=" "+L.className),P[Ym(H)&&!cA.has(H)?"class":"className"]=ye,P.ref=k,b.createElement(H,P)}(x,S,E)}v.displayName=h;var x=Ae.forwardRef(v);return x.attrs=p,x.componentStyle=m,x.displayName=h,x.shouldForwardProp=g,x.foldedComponentIds=r?Gs(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=f,x.target=r?i.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(E){for(var T=[],I=1;I<arguments.length;I++)T[I-1]=arguments[I];for(var k=0,R=T;k<R.length;k++)Xy(E,R[k],!0);return E}({},i.defaultProps,S):S}}),xx(x,function(){return".".concat(x.styledComponentId)}),s&&gA(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function XE(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var JE=function(e){return Object.assign(e,{isCss:!0})};function SA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(go(e)||lu(e)){var r=e;return JE(is(XE(Gp,au([r],t,!0))))}var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?is(i):JE(is(XE(i,t)))}function ev(e,t,n){if(n===void 0&&(n=Ka),!t)throw fs(1,t);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,n,SA.apply(void 0,au([i],s,!1)))};return r.attrs=function(i){return ev(e,t,It(It({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return ev(e,t,It(It({},n),i))},r}var EA=function(e){return ev(VD,e)},_=EA;cA.forEach(function(e){_[e]=EA(e)});var FD=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=_A(t),Rf.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var s=i(Yy(is(this.rules,n,r,i)),""),o=this.componentId+t;r.insertRules(o,o,s)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&Rf.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function UD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=SA.apply(void 0,au([e],t,!1)),i="sc-global-".concat(dA(JSON.stringify(r))),s=new FD(r,i),o=function(l){var u=Zy(),d=Ae.useContext(Qa),h=Ae.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,d,u.stylis),Ae.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,d,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,d,u.stylis]),null};function a(l,u,d,h,f){if(s.isStatic)s.renderStyles(l,oD,d,f);else{var p=It(It({},u),{theme:lA(u,h,o.defaultProps)});s.renderStyles(l,p,d,f)}}return Ae.memo(o)}const zD=_.div`
  width: 100%;
  height: 100dvh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 10px;
  font-weight: 200;
`,BD=_.div`
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({theme:e})=>e.scheme.red.transparent};
  color: ${({theme:e})=>e.scheme.red.main};
  border-radius: 100%;

  svg {
    width: 30px;
    height: 30px;
  }
`,HD=_.h3`
  font-weight: 300;
  color: ${({theme:e})=>e.colors.textColor};
  font-size: 1.5rem;
`,WD=_.span`
  max-width: 350px;
  line-height: 1.4rem;
  text-align: center;
  font-size: 1rem;
  text-align: left;
  font-family: monospace;
  color: ${({theme:e})=>e.scheme.red.text};
  background: ${({theme:e})=>e.scheme.red.transparent};
  padding: 16px;
  border-radius: 10px;
`;var IA={exports:{}},qD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GD=qD,KD=GD;function TA(){}function bA(){}bA.resetWarningCache=TA;var QD=function(){function e(r,i,s,o,a,l){if(l!==KD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bA,resetWarningCache:TA};return n.PropTypes=n,n};IA.exports=QD();var YD=IA.exports;const Ls=bp(YD);var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},JD=Object.defineProperty,ZD=Object.defineProperties,e5=Object.getOwnPropertyDescriptors,jf=Object.getOwnPropertySymbols,kA=Object.prototype.hasOwnProperty,CA=Object.prototype.propertyIsEnumerable,ZE=(e,t,n)=>t in e?JD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eI=(e,t)=>{for(var n in t||(t={}))kA.call(t,n)&&ZE(e,n,t[n]);if(jf)for(var n of jf(t))CA.call(t,n)&&ZE(e,n,t[n]);return e},t5=(e,t)=>ZD(e,e5(t)),n5=(e,t)=>{var n={};for(var r in e)kA.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jf)for(var r of jf(e))t.indexOf(r)<0&&CA.call(e,r)&&(n[r]=e[r]);return n},O=(e,t,n)=>{const r=b.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:l=24,stroke:u=2,children:d}=o,h=n5(o,["color","size","stroke","children"]);return b.createElement("svg",eI(t5(eI({ref:s},XD),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),h),[...n.map(([f,p])=>b.createElement(f,p)),...d||[]])});return r.propTypes={color:Ls.string,size:Ls.oneOfType([Ls.string,Ls.number]),stroke:Ls.oneOfType([Ls.string,Ls.number])},r.displayName=`${t}`,r},r5=O("alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),i5=O("arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]),Yu=O("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),AA=O("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),s5=O("arrow-up-left","IconArrowUpLeft",[["path",{d:"M7 7l10 10",key:"svg-0"}],["path",{d:"M16 7l-9 0l0 9",key:"svg-1"}]]),o5=O("arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]),PA=O("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),a5=O("at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]),RA=O("brand-safari","IconBrandSafari",[["path",{d:"M8 16l2 -6l6 -2l-2 6l-6 2",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),l5=O("bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]]),c5=O("camera","IconCamera",[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),wx=O("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),u5=O("checks","IconChecks",[["path",{d:"M7 12l5 5l10 -10",key:"svg-0"}],["path",{d:"M2 12l5 5m5 -5l5 -5",key:"svg-1"}]]),d5=O("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]),_x=O("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),h5=O("circle-check-filled","IconCircleCheckFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),f5=O("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),p5=O("circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]),g5=O("circle-x-filled","IconCircleXFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),m5=O("circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]),y5=O("clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),jA=O("color-filter","IconColorFilter",[["path",{d:"M13.58 13.79c.27 .68 .42 1.43 .42 2.21c0 1.77 -.77 3.37 -2 4.46a5.93 5.93 0 0 1 -4 1.54c-3.31 0 -6 -2.69 -6 -6c0 -2.76 1.88 -5.1 4.42 -5.79",key:"svg-0"}],["path",{d:"M17.58 10.21c2.54 .69 4.42 3.03 4.42 5.79c0 3.31 -2.69 6 -6 6a5.93 5.93 0 0 1 -4 -1.54",key:"svg-1"}],["path",{d:"M12 8m-6 0a6 6 0 1 0 12 0a6 6 0 1 0 -12 0",key:"svg-2"}]]),v5=O("copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]),x5=O("disc-off","IconDiscOff",[["path",{d:"M20.044 16.04a9 9 0 0 0 -12.082 -12.085m-2.333 1.688a9 9 0 0 0 6.371 15.357c2.491 0 4.73 -1 6.36 -2.631",key:"svg-0"}],["path",{d:"M11.298 11.288a1 1 0 1 0 1.402 1.427",key:"svg-1"}],["path",{d:"M7 12c0 -1.38 .559 -2.629 1.462 -3.534m2.607 -1.38c.302 -.056 .613 -.086 .931 -.086",key:"svg-2"}],["path",{d:"M12 17a4.985 4.985 0 0 0 3.551 -1.48m1.362 -2.587c.057 -.302 .087 -.614 .087 -.933",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]]),w5=O("disc","IconDisc",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M7 12a5 5 0 0 1 5 -5",key:"svg-2"}],["path",{d:"M12 17a5 5 0 0 0 5 -5",key:"svg-3"}]]),Kp=O("discount-check-filled","IconDiscountCheckFilled",[["path",{d:"M12.01 2.011a3.2 3.2 0 0 1 2.113 .797l.154 .145l.698 .698a1.2 1.2 0 0 0 .71 .341l.135 .008h1a3.2 3.2 0 0 1 3.195 3.018l.005 .182v1c0 .27 .092 .533 .258 .743l.09 .1l.697 .698a3.2 3.2 0 0 1 .147 4.382l-.145 .154l-.698 .698a1.2 1.2 0 0 0 -.341 .71l-.008 .135v1a3.2 3.2 0 0 1 -3.018 3.195l-.182 .005h-1a1.2 1.2 0 0 0 -.743 .258l-.1 .09l-.698 .697a3.2 3.2 0 0 1 -4.382 .147l-.154 -.145l-.698 -.698a1.2 1.2 0 0 0 -.71 -.341l-.135 -.008h-1a3.2 3.2 0 0 1 -3.195 -3.018l-.005 -.182v-1a1.2 1.2 0 0 0 -.258 -.743l-.09 -.1l-.697 -.698a3.2 3.2 0 0 1 -.147 -4.382l.145 -.154l.698 -.698a1.2 1.2 0 0 0 .341 -.71l.008 -.135v-1l.005 -.182a3.2 3.2 0 0 1 3.013 -3.013l.182 -.005h1a1.2 1.2 0 0 0 .743 -.258l.1 -.09l.698 -.697a3.2 3.2 0 0 1 2.269 -.944zm3.697 7.282a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),$A=O("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),Sx=O("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),NA=O("edit-circle","IconEditCircle",[["path",{d:"M12 15l8.385 -8.415a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3z",key:"svg-0"}],["path",{d:"M16 5l3 3",key:"svg-1"}],["path",{d:"M9 7.07a7 7 0 0 0 1 13.93a7 7 0 0 0 6.929 -6",key:"svg-2"}]]),MA=O("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),_5=O("error-404-off","IconError404Off",[["path",{d:"M3 7v4a1 1 0 0 0 1 1h3",key:"svg-0"}],["path",{d:"M7 7v10",key:"svg-1"}],["path",{d:"M10 10v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2m0 -4v-2a1 1 0 0 0 -1 -1h-2",key:"svg-2"}],["path",{d:"M17 7v4a1 1 0 0 0 1 1h3",key:"svg-3"}],["path",{d:"M21 7v10",key:"svg-4"}],["path",{d:"M3 3l18 18",key:"svg-5"}]]),S5=O("error-404","IconError404",[["path",{d:"M3 7v4a1 1 0 0 0 1 1h3",key:"svg-0"}],["path",{d:"M7 7v10",key:"svg-1"}],["path",{d:"M10 8v8a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1z",key:"svg-2"}],["path",{d:"M17 7v4a1 1 0 0 0 1 1h3",key:"svg-3"}],["path",{d:"M21 7v10",key:"svg-4"}]]),OA=O("exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]),E5=O("eye-closed","IconEyeClosed",[["path",{d:"M21 9c-2.4 2.667 -5.4 4 -9 4c-3.6 0 -6.6 -1.333 -9 -4",key:"svg-0"}],["path",{d:"M3 15l2.5 -3.8",key:"svg-1"}],["path",{d:"M21 14.976l-2.492 -3.776",key:"svg-2"}],["path",{d:"M9 17l.5 -4",key:"svg-3"}],["path",{d:"M15 17l-.5 -4",key:"svg-4"}]]),I5=O("eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),T5=O("files","IconFiles",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]]),cu=O("headphones","IconHeadphones",[["path",{d:"M4 13m0 2a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M15 13m0 2a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M4 15v-3a8 8 0 0 1 16 0v3",key:"svg-2"}]]),b5=O("heart-broken","IconHeartBroken",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-2 4l4 3l-2 4v3",key:"svg-1"}]]),k5=O("heart-filled","IconHeartFilled",[["path",{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),Ex=O("heart","IconHeart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]),C5=O("history-off","IconHistoryOff",[["path",{d:"M3.05 11a8.975 8.975 0 0 1 2.54 -5.403m2.314 -1.697a9 9 0 0 1 12.113 12.112m-1.695 2.312a9 9 0 0 1 -14.772 -3.324m-.5 5v-5h5",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]),LA=O("history","IconHistory",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]),mo=O("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]),A5=O("keyframes","IconKeyframes",[["path",{d:"M9.225 18.412a1.595 1.595 0 0 1 -1.225 .588c-.468 0 -.914 -.214 -1.225 -.588l-4.361 -5.248a1.844 1.844 0 0 1 0 -2.328l4.361 -5.248a1.595 1.595 0 0 1 1.225 -.588c.468 0 .914 .214 1.225 .588l4.361 5.248a1.844 1.844 0 0 1 0 2.328l-4.361 5.248z",key:"svg-0"}],["path",{d:"M17 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836",key:"svg-1"}],["path",{d:"M13 5l4.586 5.836a1.844 1.844 0 0 1 0 2.328l-4.586 5.836",key:"svg-2"}]]),P5=O("language","IconLanguage",[["path",{d:"M4 5h7",key:"svg-0"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}]]),R5=O("link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]),j5=O("loader-2","IconLoader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]),Ix=O("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),$5=O("login","IconLogin",[["path",{d:"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M21 12h-13l3 -3",key:"svg-1"}],["path",{d:"M11 15l-3 -3",key:"svg-2"}]]),N5=O("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),DA=O("message-2","IconMessage2",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M9 18h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-3l-3 3l-3 -3z",key:"svg-2"}]]),M5=O("message-circle","IconMessageCircle",[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]]),O5=O("message-off","IconMessageOff",[["path",{d:"M8 9h1m4 0h3",key:"svg-0"}],["path",{d:"M8 13h5",key:"svg-1"}],["path",{d:"M8 4h10a3 3 0 0 1 3 3v8c0 .577 -.163 1.116 -.445 1.573m-2.555 1.427h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8c0 -1.085 .576 -2.036 1.439 -2.562",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]),VA=O("message-plus","IconMessagePlus",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]]),Jm=O("message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]),Tx=O("microphone-2","IconMicrophone2",[["path",{d:"M15 12.9a5 5 0 1 0 -3.902 -3.9",key:"svg-0"}],["path",{d:"M15 12.9l-3.902 -3.899l-7.513 8.584a2 2 0 1 0 2.827 2.83l8.588 -7.515z",key:"svg-1"}]]),tI=O("microphone","IconMicrophone",[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]]),FA=O("moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),tv=O("music-off","IconMusicOff",[["path",{d:"M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M14.42 14.45a3 3 0 1 0 4.138 4.119",key:"svg-1"}],["path",{d:"M9 17v-8m0 -4v-1h10v11",key:"svg-2"}],["path",{d:"M12 8h7",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]]),UA=O("music-plus","IconMusicPlus",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M9 17v-13h10v8",key:"svg-1"}],["path",{d:"M9 8h10",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]]),ka=O("music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]),L5=O("password","IconPassword",[["path",{d:"M12 10v4",key:"svg-0"}],["path",{d:"M10 13l4 -2",key:"svg-1"}],["path",{d:"M10 11l4 2",key:"svg-2"}],["path",{d:"M5 10v4",key:"svg-3"}],["path",{d:"M3 13l4 -2",key:"svg-4"}],["path",{d:"M3 11l4 2",key:"svg-5"}],["path",{d:"M19 10v4",key:"svg-6"}],["path",{d:"M17 13l4 -2",key:"svg-7"}],["path",{d:"M17 11l4 2",key:"svg-8"}]]),D5=O("photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),zA=O("player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),bx=O("player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),nI=O("player-track-next-filled","IconPlayerTrackNextFilled",[["path",{d:"M2 5v14c0 .86 1.012 1.318 1.659 .753l8 -7a1 1 0 0 0 0 -1.506l-8 -7c-.647 -.565 -1.659 -.106 -1.659 .753z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M13 5v14c0 .86 1.012 1.318 1.659 .753l8 -7a1 1 0 0 0 0 -1.506l-8 -7c-.647 -.565 -1.659 -.106 -1.659 .753z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),rI=O("player-track-prev-filled","IconPlayerTrackPrevFilled",[["path",{d:"M20.341 4.247l-8 7a1 1 0 0 0 0 1.506l8 7c.647 .565 1.659 .106 1.659 -.753v-14c0 -.86 -1.012 -1.318 -1.659 -.753z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M9.341 4.247l-8 7a1 1 0 0 0 0 1.506l8 7c.647 .565 1.659 .106 1.659 -.753v-14c0 -.86 -1.012 -1.318 -1.659 -.753z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),V5=O("playlist-add","IconPlaylistAdd",[["path",{d:"M19 8h-14",key:"svg-0"}],["path",{d:"M5 12h9",key:"svg-1"}],["path",{d:"M11 16h-6",key:"svg-2"}],["path",{d:"M15 16h6",key:"svg-3"}],["path",{d:"M18 13v6",key:"svg-4"}]]),kx=O("playlist","IconPlaylist",[["path",{d:"M14 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 17v-13h4",key:"svg-1"}],["path",{d:"M13 5h-10",key:"svg-2"}],["path",{d:"M3 9l10 0",key:"svg-3"}],["path",{d:"M9 13h-6",key:"svg-4"}]]),nv=O("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),BA=O("quote","IconQuote",[["path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-0"}],["path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-1"}]]),F5=O("repeat-once","IconRepeatOnce",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M11 11l1 -1v4",key:"svg-2"}]]),U5=O("repeat","IconRepeat",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}]]),bi=O("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),HA=O("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),yo=O("share-3","IconShare3",[["path",{d:"M13 4v4c-6.575 1.028 -9.02 6.788 -10 12c-.037 .206 5.384 -5.962 10 -6v4l8 -7l-8 -7z",key:"svg-0"}]]),z5=O("square-rounded-plus","IconSquareRoundedPlus",[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-0"}],["path",{d:"M15 12h-6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]),WA=O("sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]),Cx=O("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),B5=O("trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]),H5=O("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]),W5=O("user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]),q5=O("user-off","IconUserOff",[["path",{d:"M8.18 8.189a4.01 4.01 0 0 0 2.616 2.627m3.507 -.545a4 4 0 1 0 -5.59 -5.552",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4c.412 0 .81 .062 1.183 .178m2.633 2.618c.12 .38 .184 .785 .184 1.204v2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]),Qp=O("user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]),Zm=O("user-x","IconUserX",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h3.5",key:"svg-1"}],["path",{d:"M22 22l-5 -5",key:"svg-2"}],["path",{d:"M17 22l5 -5",key:"svg-3"}]]),rv=O("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),G5=O("users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]),Yp=O("vinyl","IconVinyl",[["path",{d:"M16 3.937a9 9 0 1 0 5 8.063",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M20 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M20 4l-3.5 10l-2.5 2",key:"svg-3"}]]),K5=O("volume","IconVolume",[["path",{d:"M15 8a5 5 0 0 1 0 8",key:"svg-0"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14",key:"svg-1"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5",key:"svg-2"}]]),Ax=O("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);class qA extends Ae.Component{constructor(n){super(n);xt(this,"state",{error:null});this.state={error:null}}static getDerivedStateFromError(n){return{error:n}}render(){return this.state.error?c.jsxs(zD,{children:[c.jsx(BD,{children:c.jsx(l5,{})}),c.jsx(HD,{children:"Something went wrong."}),c.jsx(WD,{children:this.state.error.message})]}):this.props.children}}const Q5=e=>e!=null;function Px(e,t){for(const n in e)t(e[n],n)}function _n(e,t){e.forEach(t)}function dt(e,t,n){if(!e)throw Error(`${n?n+": ":""}${t}`)}function mi({node:e=[],from:t,source:n,parent:r=t||n,to:i,target:s,child:o=i||s,scope:a={},meta:l={},family:u={type:"regular"},regional:d}={}){const h=fc(r),f=fc(u.links),p=fc(u.owners),g=[];_n(e,w=>w&&ni(g,w));const y={id:l6(),seq:g,next:fc(o),meta:l,scope:a,family:{type:u.type||"crosslink",links:f,owners:p}};return _n(f,w=>ni(Xp(w),y)),_n(p,w=>ni(Jp(w),y)),_n(h,w=>ni(w.next,y)),d&&Ca&&eg(Rc(Ca),[y]),y}function Ya(e,t,n){let r,i=br,s=null,o=Re;if(e.target&&(t=e.params,n=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(s=e.stack),o=pa(e)||o,e=e.target),o&&Re&&o!==Re&&(Re=null),Array.isArray(e))for(let g=0;g<e.length;g++)Ds("pure",i,cr(e[g]),s,t[g],o,r);else Ds("pure",i,cr(e),s,t,o,r);if(n&&!ih)return;const a={isRoot:ih,currentPage:br,scope:Re,isWatch:zh,isPure:Bh};let l,u,d,h,f,p;ih=0;e:for(;h=p6();){const{idx:g,stack:y,type:w}=h;d=y.node,br=f=y.page,Re=pa(y),f?p=f.reg:Re&&(p=Re.reg);const m=!!f,v=!!Re,x={fail:0,scope:d.scope};l=u=0;for(let S=g;S<d.seq.length&&!l;S++){const E=d.seq[S];if(E.order){const{priority:T,barrierID:I}=E.order,k=I?f?`${f.fullID}_${I}`:I:0;if(S!==g||w!==T){I?t0.has(k)||(t0.add(k),ov(S,y,T,I)):ov(S,y,T,0);continue e}I&&t0.delete(k)}switch(E.type){case"mov":{const I=E.data;let k;switch(I.from){case"stack":k=Rc(y);break;case"a":case"b":k=y[I.from];break;case"value":k=I.store;break;case"store":if(p&&!p[I.store.id])if(m){const R=tP(f,I.store.id);y.page=f=R,R?p=R.reg:v?(Za(Re,I.store,0,1,I.softRead),p=Re.reg):p=void 0}else v&&Za(Re,I.store,0,1,I.softRead);k=jc(p&&p[I.store.id]||I.store)}switch(I.to){case"stack":y.value=k;break;case"a":case"b":y[I.to]=k;break;case"store":g6(f,Re,I.target,0).current=k}break}case"compute":const T=E.data;if(T.fn){zh=d.meta.op==="watch",Bh=T.pure;const I=T.safe?(0,T.fn)(Rc(y),x.scope,y):y6(x,T.fn,y);T.filter?u=!I:y.value=I,zh=a.isWatch,Bh=a.isPure}}l=x.fail||u}if(!l){const S=Rc(y),E=pa(y);if(_n(d.next,T=>{Ds("child",f,T,y,S,E)}),E){d.meta.needFxCounter&&Ds("child",f,E.fxCount,y,S,E),d.meta.storeChange&&Ds("child",f,E.storeChange,y,S,E),d.meta.warnSerialize&&Ds("child",f,E.warnSerializeNode,y,S,E);const T=E.additionalLinks[d.id];T&&_n(T,I=>{Ds("child",f,I,y,S,E)})}}}ih=a.isRoot,br=a.currentPage,Re=pa(a)}function GA(e,t="combine"){let n=t+"(",r="",i=0;return Px(e,s=>{i<25&&(s!=null&&(n+=r,n+=ps(s)?KA(s).fullName:s.toString()),i+=1,r=", ")}),n+")"}function Y5(e,t){let n,r;const i=e;if(t){const s=KA(t);e.length===0?(n=s.path,r=s.fullName):(n=s.path.concat([e]),r=s.fullName.length===0?e:s.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:n}}function Is(e,t){if(!t||!t.name&&!t.named&&!t.loc)return e;let n=`[${e}]`;const r=t.named||t.name;r&&(n+=` unit '${r}'`);const i=t.loc;return!r&&i&&(n+=` (${i.file}:${i.line}:${i.column})`),n}function Rx(e,t){const n=t?e:e[0];JA(n);let r=n.or;const i=n.and;if(i){const s=t?i:i[0];if(dr(s)&&"and"in s){const o=Rx(i,t);e=o[0],r={...r,...o[1]}}else e=i}return[e,r]}function iv(e){const t=()=>e();return t.unsubscribe=()=>e(),t}function or(e,...t){const n=$x();if(n){const r=n.handlers[e];if(r)return r(n,...t)}}function V(e,t){const n=el({or:t,and:typeof e=="string"?{name:e}:e}),r=Is("event",n),i=(a,...l)=>(dt(!ss(i,"derived"),"call of derived event is not supported, use createEvent instead",r),dt(!Bh,"unit call from pure function is not supported, use operators like sample instead",r),br?((u,d,h,f)=>{const p=br;let g=null;if(d)for(g=br;g&&g.template!==d;)g=Xa(g);lI(g);const y=u.create(h,f);return lI(p),y})(i,s,a,l):i.create(a,l)),s=$x(),o=Object.assign(i,{graphite:mi({meta:iP(n.actualOp||"event",i,n),regional:1}),create:a=>(Ya({target:i,params:a,scope:Re}),a),watch:a=>rP(i,a),map:a=>n0(i,"map",a,[ri()]),filter:a=>n0(i,"filter",a.fn?a:a.fn,[ri(tg,1)]),filterMap:a=>n0(i,"filterMap",a,[ri(),ci(l=>!Bn(l),1)]),prepend(a){dt(i.targetable,".prepend of derived event is not supported, call source event instead",r);const l=V("* → "+i.shortName,{parent:Xa(i)});return or("eventPrepend",cr(l)),Il(l,i,[ri()],"prepend",a),v6(i,l),l}});return n!=null&&n.domain&&n.domain.hooks.event(o),ti(o,"id",o.graphite.id),XA(o.graphite),o}function iI(e,t,n,r,i){return Nf(n,`${i} ${t}`,"first argument"),dt(Sn(r),"second argument should be a function",i),uu(!ss(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`,i),_n(Array.isArray(n)?n:[n],s=>{e.off(s),$f(e).set(s,nP(sP(s,e,"on",h6,r)))}),e}function Z(e,t){const n=el(t),r=Ja(e),i=Is("store",n),s=V({named:"updates",derived:1});or("storeBase",r);const o=r.id,a="skipVoid"in n,l=a&&!n.skipVoid;uu(!(a&&n.skipVoid),"{skipVoid: true}","updateFilter",i);const u={subscribers:new Map,updates:s,defaultState:e,stateRef:r,getState(){let m,v=r;if(br){let x=br;for(;x&&!x.reg[o];)x=Xa(x);x&&(m=x)}return!m&&Re&&(Za(Re,r,1),m=Re),m&&(v=m.reg[o]),jc(v)},setState:m=>Ya({target:u,params:m,defer:1,scope:Re}),reset:(...m)=>(dt(u.targetable,".reset of derived store is not supported",i),_n(m,v=>iI(u,".reset",v,()=>u.defaultState,i)),u),on:(m,v)=>(dt(u.targetable,".on of derived store is not supported",i),iI(u,".on",m,v,i)),off(m){const v=$f(u).get(m);return v&&(v(),$f(u).delete(m)),u},map(m,v){let x,S;dr(m)&&(x=m,m=m.fn);const E=u.getState(),T=Bn(E);(!T||T&&l)&&(S=m(E));const I=Z(S,{name:`${u.shortName} → *`,derived:1,...v,and:x}),k=sP(u,I,"map",tg,m);return sv(jr(I),{type:"map",fn:m,from:r}),jr(I).noInit=1,or("storeMap",r,k),I},watch(m,v){if(uu(!v,"watch second argument","sample",i),!v||!ps(m)){const x=rP(u,m);return or("storeWatch",r,m)||m(u.getState()),x}return dt(Sn(v),"second argument should be a function",i),m.watch(x=>v(u.getState(),x))}},d=iP("store",u,n),h=u.defaultConfig.updateFilter;u.graphite=mi({scope:{state:r,fn:h},node:[ci((m,v,x)=>(x.scope&&!x.scope.reg[r.id]&&(x.b=1),m)),no(r),ci((m,v,{a:x,b:S})=>{const E=Bn(m);return E&&!a&&console.error(`${i}: ${Hh}`),(E&&l||!E)&&(m!==x||S)},1),h&&ri(ZA,1),Fn({from:"stack",target:r})],child:s,meta:{...d,defaultState:e},regional:1}),ti(u,"id",u.graphite.id),ti(u,"rootStateRefId",o);const f=ss(u,"serialize"),p=ss(u,"derived"),g=f==="ignore",y=ss(u,"sid");y&&(ti(u,"storeChange",1),r.sid=y),y||g||p||ti(u,"warnSerialize",1);const w=Bn(e);return dt(p||!w||w&&l,Hh,i),p&&w&&!a&&console.error(`${i}: ${Hh}`),eg(u,[s]),n!=null&&n.domain&&n.domain.hooks.store(u),p||(u.reinit=V({named:"reinit"}),u.reset(u.reinit)),r.meta=u.graphite.meta,XA(u.graphite),u}function X5(...e){let t,n,r;[e,r]=Rx(e);const i=Is("combine",r),s=e[e.length-1],o=!ur(s)&&dr(s),a=o&&s,l=o?e[e.length-2]:s;let u,d,h;if(Sn(l)?(n=e.slice(0,o?-2:-1),t=l):n=e,n.length===1){const f=n[0];ur(f)||(u=f,d=1)}if(!d&&(u=n,t)){h=1;const f=t;t=p=>f(...p)}return dt(dr(u),`${i}: shape should be an object`),x6(Array.isArray(u),!h,u,r,t,a)}function J5(){const e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function We(e,t={}){const n=el(Sn(e)?{handler:e}:e,t),r=Is("effect",n),i=V(Sn(e)?{handler:e}:e,{...t,actualOp:"effect"}),s=cr(i);ti(s,"op",i.kind="effect"),i.use=g=>(dt(Sn(g),".use argument should be a function",r),h.scope.handler=g,i),i.use.getCurrent=()=>h.scope.handler;const o=i.finally=V({named:"finally",derived:1}),a=i.done=o.filterMap({named:"done",fn({status:g,params:y,result:w}){if(g==="done")return{params:y,result:w}}}),l=i.fail=o.filterMap({named:"fail",fn({status:g,params:y,error:w}){if(g==="fail")return{params:y,error:w}}}),u=i.doneData=a.map({named:"doneData",fn:({result:g})=>g}),d=i.failData=l.map({named:"failData",fn:({error:g})=>g}),h=mi({scope:{handler:i.defaultConfig.handler||(()=>dt(0,`no handler used in ${i.compositeName.fullName}`))},node:[ci((g,y,w)=>{let m=y.handler;const v=pa(w);if(v){const x=v.handlers.unitMap.get(i)||v.handlers.sidMap[i.sid];x&&(m=x)}return g.handler=m,g},0,1),ci((g,y,w)=>{if(y.runnerFn&&!y.runnerFn(g,null,w))return;const{params:m,req:v,handler:x,args:S=[m]}=g,E=uI(m,v,1,o,w),T=uI(m,v,0,o,w),[I,k]=w6(x,T,S);I&&(dr(k)&&Sn(k.then)?k.then(E,T):E(k))},0,1)],meta:{op:"fx",fx:"runner"}});s.scope.runner=h,ni(s.seq,ci((g,{runner:y},w)=>{const m=Xa(w)?{params:g,req:{rs(v){},rj(v){}}}:g;return w.meta||(w.meta={fxID:c6()}),Ya({target:y,params:m,defer:1,scope:pa(w),meta:w.meta}),m.params})),i.create=g=>{const y=J5(),w={params:g,req:y};if(Re&&!zh){const m=Re;y.req.finally(()=>{lv(m)}).catch(()=>{})}return Ya({target:i,params:w,scope:Re}),y.req};const f=i.inFlight=Z(0,{serialize:"ignore",named:(ss(i,"name")||i.graphite.id)+".inFlight"}).on(i,g=>g+1).on(o,g=>g-1).map({fn:g=>g,named:"inFlight"});ti(o,"needFxCounter","dec"),ti(i,"needFxCounter",1);const p=i.pending=f.map({fn:g=>g>0,named:"pending"});return eg(i,[o,a,l,u,d,p,f]),n!=null&&n.domain&&n.domain.hooks.effect(i),i}function Z5(e,t){const n=Is("merge",t);Nf(e,n,"first argument");const r=V({name:GA(e,"merge"),derived:1,and:t});return Il(e,r,[],"merge"),r}function e6(e,t){let n=0;return _n(S6,r=>{r in e&&(dt(e[r]!=null,oP(t,r)),n=1)}),n}function N(...e){let t,n,r,i,[[s,o,a],l]=Rx(e),u=1;const d=Is("sample",l);return Bn(o)&&dr(s)&&e6(s,d)&&(o=s.clock,a=s.fn,"batch"in s?u=s.batch:(uu(!("greedy"in s),"greedy in sample","batch",d),u=!s.greedy),i=s.filter,t=s.target,n=s.name,r=s.sid,s=s.source),E6("sample",o,s,i,t,a,n,l,u,1,0,r)}function t6(e,{scope:t,safe:n}={}){dt(t||Re||n,"scopeBind: scope not found");const r=t||Re;return i=>{function s(){lv(l)}let o,a=0;const l=Re;lv(r);try{o=e(i)}catch(u){o=u,a=1}if(s(),a)throw o;return o instanceof Promise&&o.then(s,s),o}}function jx({unit:e,fn:t,scope:n,batch:r}){const i=[Uh.run({fn:o=>t(o)})];r&&i.unshift(Uh.compute({priority:"sampler",batch:1})),ur(e)&&i.unshift(Uh.mov({store:e.stateRef,to:"stack"}));const s=Array.isArray(e)?e:[e];if(n){const o=[],a=n.additionalLinks;return s.forEach(l=>{const u=a[l.graphite.id]||[];a[l.graphite.id]=u;const d=mi({node:n6(i,l),meta:{watchOp:l.kind}});u.push(d),o.push(()=>{const h=u.indexOf(d);h!==-1&&u.splice(h,1),uv(d)})}),iv(()=>{o.forEach(l=>l())})}{const o=mi({node:i,parent:s,family:{owners:s}});return iv(()=>{uv(o)})}}function n6(e,t){return ur(t)?[Uh.mov({store:t.stateRef,to:"stack"}),...e]:e}const r6=typeof Symbol<"u"&&Symbol.observable||"@@observable",cr=e=>e.graphite||e,Xp=e=>e.family.owners,Jp=e=>e.family.links,jr=e=>e.stateRef,Rc=e=>e.value,$f=e=>e.subscribers,Xa=e=>e.parent,pa=e=>e.scope,ss=(e,t)=>cr(e).meta[t],ti=(e,t,n)=>cr(e).meta[t]=n,KA=e=>e.compositeName,ps=e=>(Sn(e)||dr(e))&&"kind"in e,Xu=e=>t=>ps(t)&&t.kind===e,ur=Xu("store"),i6=Xu("event"),sI=Xu("effect"),s6=e=>ps(e)&&!!e.targetable,QA=Xu("domain"),o6=Xu("scope");var ga={__proto__:null,unit:ps,store:ur,event:i6,effect:sI,targetable:s6,domain:QA,scope:o6,attached:e=>sI(e)&&ss(e,"attached")==1};const e0=(e,t)=>{const n=e.indexOf(t);n!==-1&&e.splice(n,1)},ni=(e,t)=>e.push(t),uu=(e,t,n,r)=>!e&&console.error(`${r?r+": ":""}${t} is deprecated${n?`, use ${n} instead`:""}`),Zp=()=>{let e=0;return()=>""+ ++e},a6=Zp(),YA=Zp(),l6=Zp(),c6=Zp();let Ca=null;const XA=e=>{},$x=()=>Ca,u6=e=>(e&&Ca&&Ca.sidRoot&&(e=`${Ca.sidRoot}|${e}`),e),eg=(e,t)=>{const n=cr(e);_n(t,r=>{const i=cr(r);n.family.type!=="domain"&&(i.family.type="crosslink"),ni(Xp(i),n),ni(Jp(n),i)})},fc=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(cr),dr=e=>typeof e=="object"&&e!==null,Sn=e=>typeof e=="function",Bn=e=>e===void 0,JA=e=>dt(dr(e)||Sn(e),"expect first argument be an object"),oI=(e,t,n,r)=>dt(!(!dr(e)&&!Sn(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`),Nf=(e,t,n)=>{Array.isArray(e)?_n(e,(r,i)=>oI(r,t,`${i} item of ${n}`,"")):oI(e,t,n," or array of units")},d6=(e,t,n="target")=>_n(fc(t),r=>dt(!ss(r,"derived"),`${e}: derived unit in "${n}" is not supported, use createStore/createEvent instead"`)),ZA=(e,{fn:t},{a:n})=>t(e,n),h6=(e,{fn:t},{a:n})=>t(n,e),tg=(e,{fn:t})=>t(e),eP=(e,t,n,r)=>{const i={id:YA(),type:e,data:t};return n&&(i.order={priority:n},r&&(i.order.barrierID=++f6)),i};let f6=0;const Fn=({from:e="store",store:t,target:n,to:r=n?"store":"stack",batch:i,priority:s})=>eP("mov",{from:e,store:t,to:r,target:n},s,i),du=({fn:e,batch:t,priority:n,safe:r=0,filter:i=0,pure:s=0})=>eP("compute",{fn:e,safe:r,filter:i,pure:s},n,t),Nx=({fn:e})=>du({fn:e,priority:"effect"}),ci=(e,t,n)=>du({fn:e,safe:1,filter:t,priority:n&&"effect"}),no=(e,t,n)=>Fn({store:e,to:t?"stack":"a",priority:n&&"sampler",batch:1}),ri=(e=tg,t)=>du({fn:e,pure:1,filter:t}),Uh={mov:Fn,compute:du,filter:({fn:e,pure:t})=>du({fn:e,filter:1,pure:t}),run:Nx},Ja=e=>({id:YA(),current:e,initial:e}),jc=({current:e})=>e,sv=(e,t)=>{e.before||(e.before=[]),ni(e.before,t)};let ma=null;const Mx=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||av(e.v.type)>av(t.v.type))&&(n=e,e=t,t=n),n=Mx(e.r,t),e.r=e.l,e.l=n,e},Ox=[];let aI=0;for(;aI<6;)ni(Ox,{first:null,last:null,size:0}),aI+=1;const p6=()=>{for(let e=0;e<6;e++){const t=Ox[e];if(t.size>0){if(e===3||e===4){t.size-=1;const r=ma.v;return ma=Mx(ma.l,ma.r),r}t.size===1&&(t.last=null);const n=t.first;return t.first=n.r,t.size-=1,n.v}}},Ds=(e,t,n,r,i,s,o)=>ov(0,{a:null,b:null,node:n,parent:r,value:i,page:t,scope:s,meta:o},e,0),ov=(e,t,n,r)=>{const i=av(n),s=Ox[i],o={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};i===3||i===4?ma=Mx(ma,o):(s.size===0?s.first=o:s.last.r=o,s.last=o),s.size+=1},av=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},t0=new Set;let Re,ih=1,zh=0,Bh=0,br=null;const lv=e=>{Re=e},lI=e=>{br=e},tP=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=e.parent;if(e)return e}return null},g6=(e,t,n,r)=>{const i=tP(e,n.id);return i?i.reg[n.id]:t?(Za(t,n,r),t.reg[n.id]):n},m6=e=>e,Za=(e,t,n,r,i)=>{const s=e.reg;if(s[t.id])return;const o=t.sid,a={id:t.id,current:t.initial,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap)){var l;const u=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize;a.current=(e.fromSerialize&&u!=="ignore"&&(u==null?void 0:u.read)||m6)(e.values.sidMap[o])}else if(t.before&&!i){let u=0;const d=n||!t.noInit||r;_n(t.before,h=>{switch(h.type){case"map":{const f=h.from;if((f||h.fn)&&(f&&Za(e,f,n,r),d)){const p=f&&s[f.id].current;a.current=h.fn?h.fn(p):p}break}case"field":Za(e,h.from,n,r),u||(u=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),d&&(a.current[h.field]=s[s[h.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=a},y6=(e,t,n)=>{try{return t(Rc(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}},el=(e,t={})=>(dr(e)&&(el(e.or,t),Px(e,(n,r)=>{Bn(n)||r==="or"||r==="and"||(t[r]=n)}),el(e.and,t)),t),cI=(e,t)=>{e0(e.next,t),e0(Xp(e),t),e0(Jp(e),t)},cv=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=Jp(e);for(;r=i.pop();)cI(r,e),(t||n&&e.meta.op!=="sample"||r.family.type==="crosslink")&&cv(r,t,r.meta.op!=="on"&&n);for(i=Xp(e);r=i.pop();)cI(r,e),n&&r.family.type==="crosslink"&&cv(r,t,r.meta.op!=="on"&&n)},Zl=e=>e.clear(),uv=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),ur(e))Zl($f(e));else if(QA(e)){n=1;const r=e.history;Zl(r.events),Zl(r.effects),Zl(r.stores),Zl(r.domains)}cv(cr(e),!!t,n)},nP=e=>iv(()=>uv(e)),Il=(e,t,n,r,i)=>mi({node:n,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),rP=(e,t)=>(dt(Sn(t),".watch argument should be a function"),nP(mi({scope:{fn:t},node:[Nx({fn:tg})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),v6=(e,t,n="event")=>{Xa(e)&&Xa(e).hooks[n](t)},iP=(e,t,n)=>{const r=el(n),i=e==="domain",s=a6(),{sid:o=null,named:a=null,domain:l=null,parent:u=l}=r,d=a||r.name||(i?"":s),h=Y5(d,u),f={op:t.kind=e,name:t.shortName=d,sid:t.sid=u6(o),named:a,unitId:t.id=s,serialize:r.serialize,derived:r.derived,config:r};return t.targetable=!r.derived,t.parent=u,t.compositeName=h,t.defaultConfig=r,t.getType=()=>(uu(0,"getType","compositeName.fullName"),h.fullName),!i&&(t.subscribe=p=>(JA(p),t.watch(Sn(p)?p:g=>p.next&&p.next(g))),t[r6]=()=>t),f},n0=(e,t,n,r)=>{let i;dr(n)&&(i=n,n=n.fn);const s=V({name:`${e.shortName} → *`,derived:1,and:i});return Il(e,s,r,t,n),s},Hh="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",sP=(e,t,n,r,i)=>{const s=jr(t),o=Fn({store:s,to:"a",priority:"read"});n==="map"&&(o.data.softRead=1);const a=[o,ri(r)];return or("storeOnMap",s,a,ur(e)&&jr(e)),Il(e,t,a,n,i)},x6=(e,t,n,r,i,s)=>{const o=Is("combine",r),a=e?m=>[...m]:m=>({...m}),l=e?[]:{},u=a(l),d=Ja(u),h=Ja(1);d.type=e?"list":"shape",d.noInit=1,or("combineBase",d,h);const f=Z(u,{name:GA(n),derived:1,...s,and:r}),p=jr(f);p.noInit=1,ti(f,"isCombine",1);const g=no(d);g.order={priority:"barrier"};const y=Fn({store:p,to:"b",priority:"read"});y.data.softRead=1;const w=[ci((m,v,x)=>(x.scope&&!x.scope.reg[d.id]&&(x.c=1),m)),g,Fn({store:h,to:"b"}),ci((m,{key:v},x)=>{if(x.c||m!==x.a[v])return t&&x.b&&(x.a=a(x.a)),x.a[v]=m,1},1),Fn({from:"a",target:d}),Fn({from:"value",store:0,target:h}),Fn({from:"value",store:1,target:h,priority:"barrier",batch:1}),no(d,1,1),i&&ri(),y];if(Px(n,(m,v)=>{if(!ur(m))return dt(!ps(m)&&!Bn(m),`combine expects a store in a field ${v}`,o),void(u[v]=l[v]=m);l[v]=m.defaultState,u[v]=m.getState();const x=Il(m,f,w,"combine",i);x.scope.key=v;const S=jr(m);sv(d,{type:"field",field:v,from:S}),or("combineField",S,x)}),f.defaultShape=n,sv(p,{type:"map",from:d,fn:i}),!$x())if(i){const m=i(u);!Bn(m)||s&&"skipVoid"in s||console.error(`${o}: ${Hh}`),p.current=m,p.initial=m,f.defaultState=m}else f.defaultState=l;return f},w6=(e,t,n)=>{try{return[1,e(...n)]}catch(r){return t(r),[0,null]}},uI=(e,t,n,r,i)=>s=>{Ya({target:[r,_6],params:[n?{status:"done",params:e,result:s}:{status:"fail",params:e,error:s},{value:s,fn:n?t.rs:t.rj}],defer:1,page:i.page,scope:i.scope,meta:i.meta})},_6=mi({node:[Nx({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}}),S6=["source","clock","target"],oP=(e,t)=>e+`: ${t} should be defined`,E6=(e,t,n,r,i,s,o,a,l,u,d,h)=>{const f=Is(e,a),p=!!i;dt(!Bn(n)||!Bn(t),oP(f,"either source or clock"));let g=0;Bn(n)?g=1:ps(n)||(n=X5(n)),Bn(t)?t=n:(Nf(t,f,"clock"),Array.isArray(t)&&(t=Z5(t))),g&&(n=t),a||o||(o=n.shortName);let y="none";(d||r)&&(ps(r)?y="unit":(dt(Sn(r),"`filter` should be function or unit"),y="fn")),i?(Nf(i,f,"target"),d6(f,i)):y==="none"&&u&&ur(n)&&ur(t)?i=Z(s?s(jc(jr(n)),jc(jr(t))):jc(jr(n)),{name:o,sid:h,or:a}):(i=V({name:o,derived:1,or:a}),or("sampleTarget",cr(i)));const w=Ja();let m=[];if(y==="unit"){const[S,E,T]=dI(r,i,t,w,e);T||m.push(...r0(E)),m.push(...r0(S))}const v=[];if(g)l&&v.push(no(w,1,1));else{const[S,E,T]=dI(n,i,t,w,e);T||v.push(...r0(E)),v.push(no(S,1,l))}const x=Il(t,i,[or("sampleSourceLoader"),Fn({from:"stack",target:w}),...v,...m,no(w),y==="fn"&&ri((S,E,{a:T})=>r(S,T),1),s&&ri(ZA),or("sampleSourceUpward",p)],e,s);return eg(n,[x]),Object.assign(x.meta,a,{joint:1}),i},r0=e=>[no(e),ci((t,n,{a:r})=>r,1)],dI=(e,t,n,r,i)=>{const s=ur(e),o=s?jr(e):Ja(),a=Ja(s);return s||mi({parent:e,node:[Fn({from:"stack",target:o}),Fn({from:"value",store:1,target:a})],family:{owners:[e,t,n],links:t},meta:{op:i},regional:1}),or("sampleSource",a,o,r),[o,a,s]};var I6={},aP={exports:{}},lP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=b;function T6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b6=typeof Object.is=="function"?Object.is:T6,k6=tl.useState,C6=tl.useEffect,A6=tl.useLayoutEffect,P6=tl.useDebugValue;function R6(e,t){var n=t(),r=k6({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return A6(function(){i.value=n,i.getSnapshot=t,i0(i)&&s({inst:i})},[e,n,t]),C6(function(){return i0(i)&&s({inst:i}),e(function(){i0(i)&&s({inst:i})})},[e]),P6(n),n}function i0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!b6(e,n)}catch{return!0}}function j6(e,t){return t()}var $6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j6:R6;lP.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:$6;aP.exports=lP;var cP=aP.exports;const N6=bp(cP);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=b,M6=cP;function O6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L6=typeof Object.is=="function"?Object.is:O6,D6=M6.useSyncExternalStore,V6=ng.useRef,F6=ng.useEffect,U6=ng.useMemo,z6=ng.useDebugValue;I6.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=V6(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=U6(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,L6(d,p))return g;var y=r(p);return i!==void 0&&i(g,y)?g:(d=p,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=D6(e,s[0],s[1]);return F6(function(){o.hasValue=!0,o.value=a},[a]),z6(a),a};function B6(e,t){return t.displayName=e,t}function uP(e,t){const n=ga.unit(e);let r={};n?r={unit:e}:"@@unitShape"in e?typeof e["@@unitShape"]=="function"?r=e["@@unitShape"]():dv("expect @@unitShape to be a function"):r=e;const i=Array.isArray(r),s=Ae.useRef({stale:1,justSubscribed:0,scope:t}),[o,a,l,u,d]=Ae.useMemo(()=>{s.current.stale=1;const g=Array.isArray(r)?[]:{},y=[],w=[],m=[],v=[];for(const x in r){if(!{}.hasOwnProperty.call(r,x))continue;const S=r[x];ga.unit(S)||dv(`expect useUnit ${n?"argument":`value in key "${x}"`} to be a unit`),ga.event(S)||ga.effect(S)?(g[x]=t?t6(S,{scope:t}):S,m.push(x),v.push(S)):(g[x]=null,y.push(x),w.push(S))}return[g,y,w,m,v]},[s,t,...Object.keys(r),...Object.values(r)]),h=Ae.useRef({value:o,storeKeys:a,eventKeys:u,eventValues:d}),f=Ae.useCallback(g=>{const y=s.current;return y.justSubscribed=1,jx({unit:l,fn:()=>{y.stale||(y.stale=1,g())},scope:t,batch:1})},[l,t,h,s]),p=Ae.useCallback(()=>{const g=h.current,y=s.current;let w,m=0;const v=g.value,x=g.storeKeys,S=g.eventKeys,E=g.eventValues,T=t!==y.scope;if(y.stale||y.justSubscribed||T){m=!y.justSubscribed||T,w=i?[...o]:{...o},x.length===a.length&&S.length===u.length||(m=1);for(let I=0;I<a.length;I++){const k=q6(l[I],t),R=a[I];m||(m=x.includes(R)?v[R]!==k:1),w[R]=k}for(let I=0;I<u.length;I++){const k=d[I],R=u[I];m||(m=S.includes(R)?E[S.indexOf(R)]!==k:1)}}return m&&(g.value=w),g.storeKeys=a,g.eventKeys=u,g.eventValues=d,y.stale=0,y.justSubscribed=!m,y.scope=t,n?g.value.unit:g.value},[f,l,d,t,h,s]);return W6(f,p,p)}function dP(e,t={},n){const{open:r,close:i,set:s}=uP({open:e.open,close:e.close,set:e.set},n),o=Ae.useMemo(()=>({open:r,close:i,set:s}),[e,r]),a=Ae.useRef({value:null,count:0});hI(()=>(o.open(a.current.value),()=>o.close(a.current.value)),[o]),((l,u)=>{if(l===u)return 1;if(typeof l=="object"&&l!==null&&typeof u=="object"&&u!==null){const d=Object.keys(l),h=Object.keys(u);if(d.length!==h.length)return 0;for(let f=0;f<d.length;f++){const p=d[f];if(l[p]!==u[p])return 0}return 1}return 0})(a.current.value,t)||(a.current.value=t,a.current.count+=1),hI(()=>{o.set(a.current.value)},[a.current.count])}function Lx(e){const t=Ae.useContext(G6);return e&&!t&&dv("No scope found, consider adding <Provider> to app root"),t}function be(e,t){return uP(e,Lx(t==null?void 0:t.forceScope))}function Dx(e,t={},n){return dP(e,t,Lx(n==null?void 0:n.forceScope))}function hP(e,t){const n=t?e:e[0];var r;(o=>{if(!o)throw Error("expect first argument be an object")})(Aa(r=n)||(o=>typeof o=="function")(r));let i=n.or;const s=n.and;if(s){const o=t?s:s[0];if(Aa(o)&&"and"in o){const a=hP(s,t);e=a[0],i={...i,...a[1]}}else e=s}return[e,i]}function H6(e,t){const n=t&&Aa(r=t[0])&&(r.and||r.or)?t:[{and:t}];var r;const[[i,s],o]=hP(n);let a,l={},u={},d=o;var h;return typeof i=="string"?(u={name:i},Aa(h=s)&&"sid"in h||(l=s||{})):(f=>Aa(f)&&("domain"in f||"defaultState"in f||"name"in f))(i)&&(u=i,l=i.defaultState||{},a=i.domain),{hook:e,domain:a,defaultState:l,mainConfig:u,maybeConfig:d}}function Vx(...e){return(({domain:t,defaultState:n,hook:r,mainConfig:i,maybeConfig:s})=>{function o(g){return r(o,g,Lx()),null}const a=hv({or:s,and:i}),l=`${t?`${t.compositeName.fullName}/`:""}${a.name||"gate"}`,u=V({name:`${l}.set`,sid:a.sid?`${a.sid}|set`:void 0}),d=V({name:`${l}.open`,sid:a.sid?`${a.sid}|open`:void 0}),h=V({name:`${l}.close`,sid:a.sid?`${a.sid}|close`:void 0}),f=Z(!1,{name:`${l}.status`,serialize:"ignore"}).on(d,()=>!0).on(h,()=>!1),p=Z(n,{name:`${l}.state`,sid:a.sid}).on(u,(g,y)=>y).on(d,(g,y)=>y).reset(h);if(t){const{hooks:g}=t;Ya({target:[g.store,g.store,g.event,g.event,g.event],params:[f,p,d,h,u]})}return o.open=d,o.close=h,o.status=f,o.state=p,o.set=u,B6(`Gate:${l}`,o)})(H6(dP,e))}const dv=e=>{throw Error(e)},hI=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect,{useSyncExternalStore:W6}=N6,q6=(e,t)=>t?t.getState(e):e.getState(),G6=Ae.createContext(null),Aa=e=>typeof e=="object"&&e!==null,hv=(e,t={})=>(Aa(e)&&(hv(e.or,t),(n=>{for(const s in n)i=s,(o=>o===void 0)(r=n[s])||i==="or"||i==="and"||(t[i]=r);var r,i})(e),hv(e.and,t)),t),K6={currentSong:null,loaded:!1,state:null},Q6={currentTime:0,duration:0,isSliding:!1,lastRangeValue:null},Y6={currentSongIndex:null,songs:[],name:null,url:null,image:null,shuffle:!1,willGoToPrevTrack:!0},X6={lyrics:[],currentLyricIndex:0},J6=5;var Rt=(e=>(e[e.noloop=0]="noloop",e[e.loopall=1]="loopall",e[e.loopone=2]="loopone",e))(Rt||{});const fP=V(),pP=V(),Fx=V(),gP=V(),An=Z(Q6);N({clock:fP,source:An,fn:(e,t)=>({...e,currentTime:t}),target:An});N({clock:pP,source:An,fn:(e,t)=>({...e,duration:t}),target:An});N({clock:Fx,source:An,fn:(e,t)=>(console.log({lastRangeValue:t}),{...e,lastRangeValue:t}),target:An});N({clock:gP,source:An,fn:(e,t)=>({...e,isSliding:t}),target:An});const Z6=()=>be(An),e9=({queue:e,loop:t})=>{const{currentSongIndex:n,songs:r}=e;console.log(t);const i=n!==null?n+1:null;return t===Rt.loopone?e:typeof i=="number"&&i>r.length-1?t===Rt.noloop?e:t===Rt.loopall?{...e,currentSongIndex:0}:e:{...e,currentSongIndex:i}},t9=e=>{let t=Rt.noloop;return e===Rt.noloop&&(t=Rt.loopall),e===Rt.loopall&&(t=Rt.loopone),t},rg=V(),Tl=V(),mP=V(),yP=V(),gs=Z(Y6),hu=Z(Rt.noloop);N({clock:yP,source:gs,fn:(e,{queue:t})=>t??e,target:gs});N({clock:rg,source:{queue:gs,loop:hu},fn:e9,target:gs});N({clock:rg,source:hu,filter:e=>e===Rt.loopone,target:Tl});N({clock:mP,source:hu,fn:t9,target:hu});jx({unit:gs,fn:e=>{const{currentSongIndex:t,songs:n}=e;if(t!==null){const r=n[t];og({song:r,queue:void 0})}}});const n9=()=>be({queue:gs,loop:hu}),Ux=An.map(({currentTime:e})=>e<5e3),r9=Ux.map(e=>!e),zx=V(),vP=V();N({clock:Tl,source:Ux,filter:Boolean,target:zx});N({clock:Tl,source:Ux,filter:Boolean,target:zx});N({clock:Tl,source:r9,filter:Boolean,target:vP});N({clock:zx,source:gs,filter:e=>!!e.currentSongIndex,fn:e=>({...e,currentSongIndex:e.currentSongIndex-1}),target:gs});N({clock:vP,source:An,filter:Boolean,fn:e=>({...e,currentTime:0}),target:An});const i9=({lyrics:e},t)=>{console.log(e,t);const{lyrics:n}=e,r=n.findIndex((i,s,o)=>{var a;return(((a=o[s+1])==null?void 0:a.startTime)??-1/0)>t});return r===e.currentLyricIndex?e:{...e,currentLyricIndex:r}},s9=({lyrics:e},t)=>{console.log("test",e,t);const{lyrics:n,currentLyricIndex:r}=e;return!n.length||isNaN(n[0].startTime)?e:n[r+1].startTime<t?{...e,currentLyricIndex:r+1}:e},xP=V(),wP=V(),Bx=V(),Hx=V(),_P=V(),yi=Z(X6),ig=Z(!1);N({clock:xP,source:{shouldCalculateLyrics:ig,lyrics:yi},filter:({shouldCalculateLyrics:e})=>e,fn:i9,target:yi});N({clock:wP,source:{shouldCalculateLyrics:ig,lyrics:yi},filter:({shouldCalculateLyrics:e})=>e,fn:s9,target:yi});N({clock:Bx,source:yi,fn:(e,t)=>({...e,lyrics:t}),target:yi});N({clock:Hx,source:yi,fn:(e,t)=>({...e,currentLyricIndex:t}),target:yi});N({clock:_P,fn:e=>e,target:ig});const o9=()=>be([yi,ig]),a9=()=>{const[{loaded:e,state:t,currentSong:n},{currentTime:r}]=be([hr,An]);return{play:(i=n,s)=>i?!e||(i==null?void 0:i.id)!==(n==null?void 0:n.id)?og({song:i,queue:s}):t==="playing"?qx():sg():null,next:()=>{console.log("next"),rg()},previous:()=>{if(r<J6){Tl();return}console.log(t),Fx(0),Hx(0)}}},Wx=Z(!1),SP=V(),EP=V();N({clock:SP,fn:()=>!0,target:Wx});N({clock:EP,fn:()=>!1,target:Wx});const l9=()=>be(Wx),sg=V(),qx=V(),og=V(),IP=V(),hr=Z(K6);N({clock:sg,source:hr,fn:e=>({...e,state:"playing"}),target:hr});N({clock:qx,source:hr,fn:e=>({...e,state:"pause"}),target:hr});N({clock:IP,source:hr,fn:e=>({...e,loaded:!0}),target:[hr,sg]});N({clock:og,target:yP});jx({unit:hr,fn:({currentSong:e,state:t})=>{e&&e.lyrics&&t==="loading"&&(Bx(e.lyrics),Hx(0))}});N({clock:og,source:hr,fn:(e,{song:t})=>({...e,state:"loading",loaded:!1,currentSong:t}),target:hr});const G={useSong:()=>be(hr),useControls:a9,queue:{useQueue:n9,next:rg,previous:Tl,changeLoopMode:mP},playblack:{usePlayback:Z6,setCurrentTime:fP,setDuration:pP,setLastRangeValue:Fx,setIsSliding:gP},fullscreen:{useFullScreen:l9,open:SP,close:EP},lyrics:{useLyrics:o9,calculateCurrentLyric:xP,nextCurrentLyric:wP,setLyrics:Bx,setShouldCalculateLyrics:_P},events:{loaded:IP,play:sg,pause:qx}},c9=()=>{const{state:e}=G.useSong(),{loop:t,queue:n}=G.queue.useQueue(),{lastRangeValue:r,isSliding:i}=G.playblack.usePlayback(),{next:s,previous:o}=G.useControls(),a=b.useRef(null),l=h=>{G.events.loaded(),G.playblack.setDuration(h.currentTarget.duration),G.playblack.setLastRangeValue(null)},u=h=>{i||(G.playblack.setCurrentTime(h.currentTarget.currentTime),G.lyrics.nextCurrentLyric(h.currentTarget.currentTime))},d=()=>{if(console.log("ended"),t===Rt.noloop&&n.currentSongIndex===n.songs.length-1){o();return}s()};return b.useEffect(()=>{a.current&&Q5(r)&&!isNaN(r??0)&&(a.current.currentTime=+r)},[r]),b.useEffect(()=>{var h;a.current&&(e==="playing"?a.current.play():(h=a.current)==null||h.pause())},[e]),{audioRef:a,loop:t,handleEnded:d,handlePlaying:u,handleOnCanPlay:l}},u9=()=>{const{audioRef:e,loop:t,handleOnCanPlay:n,handlePlaying:r,handleEnded:i}=c9(),{currentSong:s}=G.useSong();return c.jsx("audio",{onEnded:i,src:s==null?void 0:s.songSrc,loop:t===Rt.loopone,ref:e,onTimeUpdate:r,onCanPlay:n})};/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(this,arguments)}var Gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gi||(Gi={}));const fI="popstate";function d9(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=$o(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Mf(s))}function r(i,s){ag(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return f9(t,n,r,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ag(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h9(){return Math.random().toString(36).substr(2,8)}function pI(e,t){return{usr:e.state,key:e.key,idx:t}}function fv(e,t,n,r){return n===void 0&&(n=null),fu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$o(t):t,{state:n,key:t&&t.key||r||h9()})}function Mf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f9(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(fu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gi.Pop;let w=d(),m=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:m})}function f(w,m){a=Gi.Push;let v=fv(y.location,w,m);n&&n(v,w),u=d()+1;let x=pI(v,u),S=y.createHref(v);try{o.pushState(x,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function p(w,m){a=Gi.Replace;let v=fv(y.location,w,m);n&&n(v,w),u=d();let x=pI(v,u),S=y.createHref(v);o.replaceState(x,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:Mf(w);return Qe(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let y={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fI,h),l=w,()=>{i.removeEventListener(fI,h),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return y}var gI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gI||(gI={}));function p9(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?$o(t):t,i=pu(r.pathname||"/",n);if(i==null)return null;let s=TP(e);g9(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=I9(s[a],b9(i));return o}function TP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=os([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TP(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:S9(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bP(s.path))i(s,o,l)}),t}function bP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function g9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:E9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m9=/^:\w+$/,y9=3,v9=2,x9=1,w9=10,_9=-2,mI=e=>e==="*";function S9(e,t){let n=e.split("/"),r=n.length;return n.some(mI)&&(r+=_9),t&&(r+=v9),n.filter(i=>!mI(i)).reduce((i,s)=>i+(m9.test(s)?y9:s===""?x9:w9),r)}function E9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function I9(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Of({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:os([i,d.pathname]),pathnameBase:R9(os([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=os([i,d.pathnameBase]))}return s}function Of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=k9(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function T9(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ag(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function b9(e){try{return decodeURI(e)}catch(t){return ag(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function k9(e,t){try{return decodeURIComponent(e)}catch(n){return ag(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function pu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C9(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$o(e):e;return{pathname:n?n.startsWith("/")?n:A9(n,t):t,search:j9(r),hash:$9(i)}}function A9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function s0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kP(e,t){let n=P9(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$o(e):(i=fu({},e),Qe(!i.pathname||!i.pathname.includes("?"),s0("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),s0("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),s0("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();i.pathname=f.join("/")}a="/"+h.join("/")}else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=C9(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const os=e=>e.join("/").replace(/\/\/+/g,"/"),R9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const AP=["post","put","patch","delete"];new Set(AP);const M9=["get",...AP];new Set(M9);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(this,arguments)}const lg=b.createContext(null),PP=b.createContext(null),Ts=b.createContext(null),cg=b.createContext(null),bs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),RP=b.createContext(null);function O9(e,t){let{relative:n}=t===void 0?{}:t;bl()||Qe(!1);let{basename:r,navigator:i}=b.useContext(Ts),{hash:s,pathname:o,search:a}=ug(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:os([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bl(){return b.useContext(cg)!=null}function zr(){return bl()||Qe(!1),b.useContext(cg).location}function L9(e){bl()||Qe(!1);let{pathname:t}=zr();return b.useMemo(()=>Of(e,t),[t,e])}function jP(e){b.useContext(Ts).static||b.useLayoutEffect(e)}function ki(){let{isDataRoute:e}=b.useContext(bs);return e?J9():D9()}function D9(){bl()||Qe(!1);let e=b.useContext(lg),{basename:t,future:n,navigator:r}=b.useContext(Ts),{matches:i}=b.useContext(bs),{pathname:s}=zr(),o=JSON.stringify(kP(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return jP(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=CP(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:os([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,s,e])}const V9=b.createContext(null);function F9(e){let t=b.useContext(bs).outlet;return t&&b.createElement(V9.Provider,{value:e},t)}function ug(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Ts),{matches:i}=b.useContext(bs),{pathname:s}=zr(),o=JSON.stringify(kP(i,r.v7_relativeSplatPath));return b.useMemo(()=>CP(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function U9(e,t){return z9(e,t)}function z9(e,t,n,r){bl()||Qe(!1);let{navigator:i}=b.useContext(Ts),{matches:s}=b.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=zr(),d;if(t){var h;let w=typeof t=="string"?$o(t):t;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Qe(!1),d=w}else d=u;let f=d.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",g=p9(e,{pathname:p}),y=G9(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:os([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:os([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&y?b.createElement(cg.Provider,{value:{location:gu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gi.Pop}},y):y}function B9(){let e=X9(),t=N9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,s)}const H9=b.createElement(B9,null);class W9 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(bs.Provider,{value:this.props.routeContext},b.createElement(RP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q9(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(lg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(bs.Provider,{value:t},r)}function G9(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.loader&&h.route.id&&n.loaderData[h.route.id]===void 0&&(!n.errors||n.errors[h.route.id]===void 0)){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}return o.reduceRight((d,h,f)=>{let p,g=!1,y=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||H9,l&&(u<0&&f===0?(Z9("route-fallback",!1),g=!0,w=null):u===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),v=()=>{let x;return p?x=y:g?x=w:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,b.createElement(q9,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(W9,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var $P=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($P||{}),Lf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lf||{});function K9(e){let t=b.useContext(lg);return t||Qe(!1),t}function Q9(e){let t=b.useContext(PP);return t||Qe(!1),t}function Y9(e){let t=b.useContext(bs);return t||Qe(!1),t}function NP(e){let t=Y9(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function X9(){var e;let t=b.useContext(RP),n=Q9(Lf.UseRouteError),r=NP(Lf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function J9(){let{router:e}=K9($P.UseNavigateStable),t=NP(Lf.UseNavigateStable),n=b.useRef(!1);return jP(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gu({fromRouteId:t},s)))},[e,t])}const yI={};function Z9(e,t,n){!t&&!yI[e]&&(yI[e]=!0)}function Gx(e){return F9(e.context)}function Df(e){Qe(!1)}function eV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Gi.Pop,navigator:s,static:o=!1,future:a}=e;bl()&&Qe(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:gu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=$o(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=b.useMemo(()=>{let w=pu(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return y==null?null:b.createElement(Ts.Provider,{value:u},b.createElement(cg.Provider,{children:n,value:y}))}function tV(e){let{children:t,location:n}=e;return U9(pv(t),n)}new Promise(()=>{});function pv(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,pv(r.props.children,s));return}r.type!==Df&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function MP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rV(e,t){return e.button===0&&(!t||t==="_self")&&!nV(e)}function gv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function iV(e,t){let n=gv(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const sV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oV=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],aV=b.createContext({isTransitioning:!1}),lV="startTransition",vI=C3[lV];function cV(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=d9({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&vI?vI(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(eV,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=t,f=MP(t,sV),{basename:p}=b.useContext(Ts),g,y=!1;if(typeof u=="string"&&dV.test(u)&&(g=u,uV))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=pu(S.pathname,p);S.origin===x.origin&&E!=null?u=E+S.search+S.hash:y=!0}catch{}let w=O9(u,{relative:i}),m=fV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||m(x)}return b.createElement("a",Vf({},f,{href:g||w,onClick:y||s?r:v,ref:n,target:l}))}),OP=b.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=t,h=MP(t,oV),f=ug(l,{relative:h.relative}),p=zr(),g=b.useContext(PP),{navigator:y}=b.useContext(Ts),w=g!=null&&pV(f)&&u===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(v=v.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase());const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=v===m||!o&&v.startsWith(m)&&v.charAt(S)==="/",T=x!=null&&(x===m||!o&&x.startsWith(m)&&x.charAt(m.length)==="/"),I={isActive:E,isPending:T,isTransitioning:w},k=E?r:void 0,R;typeof s=="function"?R=s(I):R=[s,E?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(I):a;return b.createElement(Br,Vf({},h,{"aria-current":k,className:R,ref:n,style:j,to:l,unstable_viewTransition:u}),typeof d=="function"?d(I):d)});var mv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mv||(mv={}));var xI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xI||(xI={}));function hV(e){let t=b.useContext(lg);return t||Qe(!1),t}function fV(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=ki(),u=zr(),d=ug(e,{relative:o});return b.useCallback(h=>{if(rV(h,n)){h.preventDefault();let f=r!==void 0?r:Mf(u)===Mf(d);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,e,s,o,a])}function LP(e){let t=b.useRef(gv(e)),n=b.useRef(!1),r=zr(),i=b.useMemo(()=>iV(r.search,n.current?null:t.current),[r.search]),s=ki(),o=b.useCallback((a,l)=>{const u=gv(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function pV(e,t){t===void 0&&(t={});let n=b.useContext(aV);n==null&&Qe(!1);let{basename:r}=hV(mv.useViewTransitionState),i=ug(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=pu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Of(i.pathname,o)!=null||Of(i.pathname,s)!=null}const gV=e=>e.map(t=>t.displayName).join(", "),mV=()=>{const{currentSong:e}=G.useSong(),{queue:t}=G.queue.useQueue(),{currentTime:n}=G.playblack.usePlayback(),r=b.useCallback(()=>{e&&navigator.mediaSession.setPositionState({duration:e.duration,playbackRate:30,position:n})},[e,n]);function i(){console.log("play"),G.events.play()}function s(){console.log("pause"),G.events.pause()}const o=()=>{G.queue.next()},a=()=>{G.queue.previous()};b.useEffect(()=>{"mediaSession"in navigator&&e!==null&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:e.name,artist:gV(e.authors),album:t.name??"-",artwork:[{src:e.cover,sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",i),navigator.mediaSession.setActionHandler("pause",s),navigator.mediaSession.setActionHandler("stop",s),navigator.mediaSession.setActionHandler("nexttrack",()=>{o(),r()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{a(),r()}))},[e,t.name,r])};function Sr(e){let t;if(e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){t=e.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=+("0x"+t.join(""));return[n>>16&255,n>>8&255,n&255].join(",")}throw new Error("Bad Hex")}}const U=_.button`
    border: none;
    background: ${({$background:e})=>e??"transparent"};
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    font-size: 0.94rem;
    width: ${({$width:e})=>e??"100%"};
    min-height: ${({$height:e})=>e??"40px"};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: ${({$align:e="center"})=>e==="left"?"flex-start":e==="right"?"flex-end":e};
    transition: 0.2s filter, 0.1s color, 0.1s opacity, 0.1s box-shadow;
    position: relative;
    color: ${({color:e})=>e};
    gap: 8px;
    user-select: none;

    &:disabled {
        filter: grayscale(1);
        opacity: 0.5;
        color: ${({theme:e})=>e.colors.textColor};
        pointer-events: none;

        & > * {
            opacity: 0.5;
        }
    }

    &.primary {
        background: ${({theme:e})=>e.scheme.blue.action};
        box-shadow: 0 10px 20px
            rgba(${({theme:e})=>Sr(e.scheme.blue.action)}, 0.3);
    }

    &.secondary {
        background: ${({theme:e})=>e.colors.hover};
        color: ${({theme:e})=>e.scheme.blue.action};
    }

    &.outline {
        background: ${({theme:e})=>e.colors.pageBackground};
        color: ${({theme:e})=>e.colors.textColor};
        border: 1px solid ${({theme:e})=>e.colors.border};
    }

    &:active {
        filter: brightness(0.85);
        transform: scale(0.99);

        &.primary {
            box-shadow: none;
        }
    }

    @media (hover: hover) {
        &:not(.primary) {
            &:hover {
                filter: brightness(0.9);
                background: ${({theme:e})=>e.colors.hover};
            }
        }

        &.primary:hover,
        &.outline:hover,
        &.secondary:hover {
            filter: brightness(0.9);
        }
    }

    @media (hover: none) {
        transition: 0.2s transform;

        &:not(.primary) {
            &:active {
                filter: brightness(0.9);
                background: ${({theme:e})=>e.colors.hover};
            }
        }

        &.primary:active,
        &.outline:active,
        &.secondary:active {
            filter: brightness(0.9);
        }
    }
`,yV=_(U)`
  position: absolute;
  top: 3%;
  right: 3%;
  border: none;
  background: transparent;
  width: 40px;
  height: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: ${({theme:e})=>e.colors.textColor};
  border-radius: ${({theme:e})=>e.borderRadius.mild};
  cursor: pointer;
  z-index: 10;

  svg {
    width: 20px;
    height: 20px;
  }

  &:hover {
    background: ${({theme:e})=>e.colors.hover};
  }
`,Kx=({onClick:e})=>c.jsx(yV,{onClick:e,children:c.jsx(Ax,{})}),vV=_.div`
    font-size: 0.8rem;
    opacity: 0.7;
    font-weight: 300;
    display: flex;
    align-items: center;
    gap: 4px;
    width: ${({$width:e})=>e??"100%"};
    opacity: 0.5;
    pointer-events: ${({$disableOnDesktop:e})=>e?"none":"all"};

    @media (max-width: 1000px) {
        pointer-events: ${({$disableOnMobile:e})=>e?"none":"all"};
    }
`,xV=_(Br)`
    text-decoration: none;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;

    &:hover {
        text-decoration: underline;
    }
`,nl=({authors:e,onAuthorClick:t,width:n,isUser:r=!1,authorsQuantity:i=4,disableOnDesktop:s=!1,disableOnMobile:o=!0})=>{var l;const a=u=>d=>{d.stopPropagation(),t==null||t(u)};return c.jsxs(vV,{className:"authors",$width:n,$disableOnDesktop:s,$disableOnMobile:o,children:[(l=e==null?void 0:e.slice(0,i))==null?void 0:l.map((u,d)=>{const h=r?`/user/${u.uid}`:`/author/${u.uid}`;return c.jsxs(c.Fragment,{children:[d!==0?"&":" ",c.jsx(xV,{onClick:a(u),to:h,children:u.displayName},u.uid+d)]})}),((e==null?void 0:e.length)??0)>i&&"...",!(e!=null&&e.length)&&"-"]})},C=_.div`
  display: flex;
  align-items: ${({ai:e})=>e??"center"};
  justify-content: ${({jc:e})=>e??"flex-start"};
  flex-direction: ${({d:e})=>e??"row"};
  flex-wrap: ${({wrap:e})=>e};
  gap: ${({gap:e})=>`${e??0}px`};
  width: ${({width:e})=>e??"fit-content"};
  height: ${({height:e})=>e??"fit-content"};
  padding: ${({padding:e})=>e??"0"};
`,No=_.div`
  background-color: ${({$colors:e})=>(e==null?void 0:e[1])??"grey"};
  animation: bg 15s infinite;
  background-size: 150% 150%;

  //linear-gradient(#000000b0, #00000057)
  background-image: linear-gradient(#00000042, #00000038),
    radial-gradient(
      at 40% 20%,
      ${({$colors:e})=>(e==null?void 0:e[0])??"grey"} 0px,
      transparent 50%
    ),
    radial-gradient(
      at 80% 0%,
      ${({$colors:e})=>(e==null?void 0:e[5])??"grey"} 0px,
      transparent 50%
    ),
    radial-gradient(
      at 0% 50%,
      ${({$colors:e})=>(e==null?void 0:e[2])??"darkgrey"} 0px,
      transparent 50%
    ),
    radial-gradient(
      at 80% 50%,
      ${({$colors:e})=>(e==null?void 0:e[5])??"lightgrey"} 0px,
      transparent 50%
    ),
    radial-gradient(
      at 0% 100%,
      ${({$colors:e})=>(e==null?void 0:e[2])??"grey"} 0px,
      transparent 50%
    );



  @keyframes bg {
    0% {
		  background-position: 0 0;
      background-size: 150% 150%;
    }
    50% {
		  background-position: 0 0;
      background-size: 130% 130%;
    }
    100% {
		  background-position: 0 0;
      background-size: 150% 150%;
    }
  }
`,wV=_.img`
    height: 100%;
    object-fit: cover;
    transition: 0.3s;
    opacity: ${({$coverLoaded:e})=>e?"1":"0"};
`,_V=_(No)`
    width: ${({$size:e})=>e??"var(--size)"};
    min-width: ${({$size:e})=>e??"var(--size)"};
    height: ${({$size:e})=>e??"var(--size)"};
    display: flex;
    justify-content: center;
    /* background: ${({$color1:e})=>e??"grey"}; */
    position: relative;
    border-radius: ${({$borderRadius:e})=>e};
    display: flex;
    align-items: center;
    justify-content: center;
    animation: none;
    background-size: 200% 200%;
    /* overflow: hidden; */

    img {
        border-radius: ${({$borderRadius:e})=>e};
        width: 100%;
    }

    .cover-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;

        svg {
            width: 50%;
            height: 50%;
            opacity: 0.7;
            color: #fff;
        }
    }
`,SV=({src:e})=>{const[t,n]=b.useState(!1),r=()=>{e&&n(!0)};return c.jsx(wV,{$coverLoaded:t,onLoad:r,loading:"lazy",src:e})},EV="https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/music-icon-mohammed-jabir-ap.jpg",dg=({src:e,colors:t,children:n,size:r,fallbackIcon:i,borderRadius:s})=>c.jsxs(_V,{className:"general-cover",$colors:t,$borderRadius:s,$size:r,$color1:t==null?void 0:t[0],children:[e&&e!==EV?c.jsx(SV,{src:e}):c.jsx("div",{className:"cover-icon",children:i}),c.jsx("div",{className:"cover-children",children:n})]}),IV={blue:{main:"#75a8fa",action:"#5193ff",text:"#92b8ff",mild:"#1b2c4e",transparent:"#5394ff4f",transparent2:"#5394ff2b"},purple:{main:"#d38eff",text:"#d38eff",transparent:"#d38eff"},red:{main:"#ff5b5b",text:"#ffb3b3",action:"#ff4949",transparent:"#ff636314"},orange:{main:"#ffa574",text:"#ffb3b3",transparent:"#ff636314"},green:{main:"#4de0aa",text:"#ffb3b3",transparent:"#ff636314"},grey:{main:"#8b8b8b",text:"#8b8b8b",transparent:"#4444444f"}},hg={borderRadius:{mild:"6px",middle:"10px",big:"14px",huge:"5%"},colors:{brightness:2.2,pageTopButton:"#171717",skeleton:"#ffffff1f",playerDarkening:"#000000cb",textColor:"#fff",textColorOppiste:"#000",hover:"#ffffff14",pageBackground:"#101010",pageBackground2:"#000000",pageBackground3:"#0b0b0b",pageBackground4:"#0a0a0a",context:"#252525",overlay:"#0e0e0ed4",input:"#202020",border:"#92929257",sidebar:"#161616",lightHover:"#ffffff1f",darkHover:"#0000002b",modal:"#101010",shadow:"0 0 40px #00000066",shadow2:"0 0 40px #00000066",greyText:"#a2a2a2",greyText2:"#6a6a6a",header:"#1010109e",player:"#c4c4c4"},scheme:{...IV}},TV={blue:{text:"#5275b5",main:"#5275b5",action:"#3481fe",mild:"#dfeaff",transparent:"#5394ff24",transparent2:"#5394ff2b"},purple:{main:"#9332d1",text:"#9332d1",transparent:"#9332d134"},red:{text:"#bc4242",action:"#f44f4f",transparent:"#ff636314",main:"#cf3737"},orange:{text:"#9e4e29",transparent:"#ff636314",main:"#d69c40"},green:{text:"#358e34",transparent:"#41d9831f",main:"#25a073"},grey:{main:"#595959",text:"#595959",transparent:"#dddddd4f"}},bV={borderRadius:{mild:"6px",middle:"10px",big:"14px",huge:"5%"},colors:{brightness:.7,pageTopButton:"#fff",skeleton:"#0000001a",playerDarkening:"#f1f1f1c9",textColor:"#000",textColorOppiste:"#fff",player:"#a3a3a3",hover:"#73737314",pageBackground:"#fff",pageBackground2:"#f7f7f7",pageBackground3:"#fff",pageBackground4:"#eeeeee",context:"#fff",overlay:"#0e0e0ed4",input:"#f0f0f0",border:"#b6b6b657",sidebar:"#f1f1f1",lightHover:"#ffffff80",darkHover:"#0000001c",modal:"#fff",shadow:"0 0 40px #00000012",shadow2:"0 0 40px #0000002b",header:"#ffffff9e",greyText:"#a2a2a2",greyText2:"#6a6a6a"},scheme:{...TV}},Qx=hg.borderRadius.mild,Yx=e=>c.jsx(dg,{fallbackIcon:c.jsx(ka,{}),...e,borderRadius:e.borderRadius??Qx}),kV=_(U)`
    color: ${({theme:e})=>e.colors.textColor};
    filter: brightness(1.2);

    &.liked {
        color: ${({$likeColor:e})=>e};
    }

    svg {
        width: 20px;
        height: 20px;
    }
`;var wI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},CV=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},VP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(DP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new AV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PV=function(e){const t=DP(e);return VP.encodeByteArray(t,!0)},Ff=function(e){return PV(e).replace(/\./g,"")},FP=function(e){try{return VP.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=()=>RV().__FIREBASE_DEFAULTS__,$V=()=>{if(typeof process>"u"||typeof wI>"u")return;const e=wI.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&FP(e[1]);return t&&JSON.parse(t)},Xx=()=>{try{return jV()||$V()||NV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UP=e=>{var t,n;return(n=(t=Xx())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},MV=e=>{const t=UP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},zP=()=>{var e;return(e=Xx())===null||e===void 0?void 0:e.config},BP=e=>{var t;return(t=Xx())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Ff(JSON.stringify(n)),Ff(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function VV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function FV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UV(){const e=Gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zV(){try{return typeof indexedDB=="object"}catch{return!1}}function BV(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="FirebaseError";class Hr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=HV,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?WV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hr(i,a,r)}}function WV(e,t){return e.replace(qV,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const qV=/\{\$([^}]+)}/g;function GV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(_I(s)&&_I(o)){if(!mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _I(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function gc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function KV(e,t){const n=new QV(e,t);return n.subscribe.bind(n)}class QV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YV(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=o0),i.error===void 0&&(i.error=o0),i.complete===void 0&&(i.complete=o0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function o0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){return e&&e._delegate?e._delegate:e}class ms{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new OV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZV(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JV(e){return e===Us?void 0:e}function ZV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(fe||(fe={}));const tF={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},nF=fe.INFO,rF={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},iF=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rF[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jx{constructor(t){this.name=t,this._logLevel=nF,this._logHandler=iF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const sF=(e,t)=>t.some(n=>e instanceof n);let SI,EI;function oF(){return SI||(SI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aF(){return EI||(EI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HP=new WeakMap,yv=new WeakMap,WP=new WeakMap,a0=new WeakMap,Zx=new WeakMap;function lF(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(as(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&HP.set(n,e)}).catch(()=>{}),Zx.set(t,e),t}function cF(e){if(yv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});yv.set(e,t)}let vv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return yv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||WP.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function uF(e){vv=e(vv)}function dF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(l0(this),t,...n);return WP.set(r,t.sort?t.sort():[t]),as(r)}:aF().includes(e)?function(...t){return e.apply(l0(this),t),as(HP.get(this))}:function(...t){return as(e.apply(l0(this),t))}}function hF(e){return typeof e=="function"?dF(e):(e instanceof IDBTransaction&&cF(e),sF(e,oF())?new Proxy(e,vv):e)}function as(e){if(e instanceof IDBRequest)return lF(e);if(a0.has(e))return a0.get(e);const t=hF(e);return t!==e&&(a0.set(e,t),Zx.set(t,e)),t}const l0=e=>Zx.get(e);function fF(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=as(o);return r&&o.addEventListener("upgradeneeded",l=>{r(as(o.result),l.oldVersion,l.newVersion,as(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],c0=new Map;function II(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(c0.get(t))return c0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return c0.set(t,s),s}uF(e=>({...e,get:(t,n,r)=>II(t,n)||e.get(t,n,r),has:(t,n)=>!!II(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yF(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xv="@firebase/app",TI="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Jx("@firebase/app"),vF="@firebase/app-compat",xF="@firebase/analytics-compat",wF="@firebase/analytics",_F="@firebase/app-check-compat",SF="@firebase/app-check",EF="@firebase/auth",IF="@firebase/auth-compat",TF="@firebase/database",bF="@firebase/database-compat",kF="@firebase/functions",CF="@firebase/functions-compat",AF="@firebase/installations",PF="@firebase/installations-compat",RF="@firebase/messaging",jF="@firebase/messaging-compat",$F="@firebase/performance",NF="@firebase/performance-compat",MF="@firebase/remote-config",OF="@firebase/remote-config-compat",LF="@firebase/storage",DF="@firebase/storage-compat",VF="@firebase/firestore",FF="@firebase/firestore-compat",UF="firebase",zF="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",BF={[xv]:"fire-core",[vF]:"fire-core-compat",[wF]:"fire-analytics",[xF]:"fire-analytics-compat",[SF]:"fire-app-check",[_F]:"fire-app-check-compat",[EF]:"fire-auth",[IF]:"fire-auth-compat",[TF]:"fire-rtdb",[bF]:"fire-rtdb-compat",[kF]:"fire-fn",[CF]:"fire-fn-compat",[AF]:"fire-iid",[PF]:"fire-iid-compat",[RF]:"fire-fcm",[jF]:"fire-fcm-compat",[$F]:"fire-perf",[NF]:"fire-perf-compat",[MF]:"fire-rc",[OF]:"fire-rc-compat",[LF]:"fire-gcs",[DF]:"fire-gcs-compat",[VF]:"fire-fst",[FF]:"fire-fst-compat","fire-js":"fire-js",[UF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,_v=new Map;function HF(e,t){try{e.container.addComponent(t)}catch(n){vo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xo(e){const t=e.name;if(_v.has(t))return vo.debug(`There were multiple attempts to register component ${t}.`),!1;_v.set(t,e);for(const n of Uf.values())HF(n,e);return!0}function fg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ls=new Ju("app","Firebase",WF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=zF;function qP(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(n||(n=zP()),!n)throw ls.create("no-options");const s=Uf.get(i);if(s){if(mu(n,s.options)&&mu(r,s.config))return s;throw ls.create("duplicate-app",{appName:i})}const o=new eF(i);for(const l of _v.values())o.addComponent(l);const a=new qF(n,r,o);return Uf.set(i,a),a}function GP(e=wv){const t=Uf.get(e);if(!t&&e===wv&&zP())return qP();if(!t)throw ls.create("no-app",{appName:e});return t}function $r(e,t,n){var r;let i=(r=BF[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vo.warn(a.join(" "));return}xo(new ms(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="firebase-heartbeat-database",KF=1,yu="firebase-heartbeat-store";let u0=null;function KP(){return u0||(u0=fF(GF,KF,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(yu)}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),u0}async function QF(e){try{return await(await KP()).transaction(yu).objectStore(yu).get(QP(e))}catch(t){if(t instanceof Hr)vo.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vo.warn(n.message)}}}async function bI(e,t){try{const r=(await KP()).transaction(yu,"readwrite");await r.objectStore(yu).put(t,QP(e)),await r.done}catch(n){if(n instanceof Hr)vo.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(r.message)}}}function QP(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=1024,XF=30*24*60*60*1e3;class JF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kI();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=XF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kI(),{heartbeatsToSend:r,unsentEntries:i}=ZF(this._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function kI(){return new Date().toISOString().substring(0,10)}function ZF(e,t=YF){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CI(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CI(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eU{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zV()?BV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bI(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bI(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function CI(e){return Ff(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(e){xo(new ms("platform-logger",t=>new mF(t),"PRIVATE")),xo(new ms("heartbeat",t=>new JF(t),"PRIVATE")),$r(xv,TI,e),$r(xv,TI,"esm2017"),$r("fire-js","")}tU("");var nU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,ew=ew||{},ne=nU||self;function pg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ed(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function rU(e){return Object.prototype.hasOwnProperty.call(e,d0)&&e[d0]||(e[d0]=++iU)}var d0="closure_uid_"+(1e9*Math.random()>>>0),iU=0;function sU(e,t,n){return e.call.apply(e.bind,arguments)}function oU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Bt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=sU:Bt=oU,Bt.apply(null,arguments)}function sh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function kt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}var aU=0;ks.prototype.s=!1;ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),aU!=0)&&rU(this)};ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YP=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function tw(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function AI(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pg(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ht(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var lU=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};ne.addEventListener("test",n,t),ne.removeEventListener("test",n,t)}catch{}return e}();function vu(e){return/^[\s\xa0]*$/.test(e)}function gg(){var e=ne.navigator;return e&&(e=e.userAgent)?e:""}function Tr(e){return gg().indexOf(e)!=-1}function nw(e){return nw[" "](e),e}nw[" "]=function(){};function cU(e,t){var n=t8;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var uU=Tr("Opera"),rl=Tr("Trident")||Tr("MSIE"),XP=Tr("Edge"),Sv=XP||rl,JP=Tr("Gecko")&&!(gg().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),dU=gg().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge");function ZP(){var e=ne.document;return e?e.documentMode:void 0}var Ev;e:{var h0="",f0=function(){var e=gg();if(JP)return/rv:([^\);]+)(\)|;)/.exec(e);if(XP)return/Edge\/([\d\.]+)/.exec(e);if(rl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(dU)return/WebKit\/(\S+)/.exec(e);if(uU)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(f0&&(h0=f0?f0[1]:""),rl){var p0=ZP();if(p0!=null&&p0>parseFloat(h0)){Ev=String(p0);break e}}Ev=h0}var Iv;if(ne.document&&rl){var PI=ZP();Iv=PI||parseInt(Ev,10)||void 0}else Iv=void 0;var hU=Iv;function xu(e,t){if(Ht.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(JP){e:{try{nw(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:fU[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xu.$.h.call(this)}}kt(xu,Ht);var fU={2:"touch",3:"pen",4:"mouse"};xu.prototype.h=function(){xu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),pU=0;function gU(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++pU,this.fa=this.ia=!1}function mg(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rw(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function mU(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function eR(e){const t={};for(const n in e)t[n]=e[n];return t}const RI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tR(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<RI.length;s++)n=RI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yg(e){this.src=e,this.g={},this.h=0}yg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=bv(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new gU(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Tv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=YP(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bv(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var iw="closure_lm_"+(1e6*Math.random()|0),g0={};function nR(e,t,n,r,i){if(r&&r.once)return iR(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nR(e,t[s],n,r,i);return null}return n=aw(n),e&&e[td]?e.O(t,n,ed(r)?!!r.capture:!!r,i):rR(e,t,n,!1,r,i)}function rR(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ed(i)?!!i.capture:!!i,a=ow(e);if(a||(e[iw]=a=new yg(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=yU(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lU||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oR(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yU(){function e(n){return t.call(e.src,e.listener,n)}const t=vU;return e}function iR(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)iR(e,t[s],n,r,i);return null}return n=aw(n),e&&e[td]?e.P(t,n,ed(r)?!!r.capture:!!r,i):rR(e,t,n,!0,r,i)}function sR(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)sR(e,t[s],n,r,i);else r=ed(r)?!!r.capture:!!r,n=aw(n),e&&e[td]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=bv(s,n,r,i),-1<n&&(mg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=ow(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bv(t,n,r,i)),(n=-1<e?t[e]:null)&&sw(n))}function sw(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[td])Tv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oR(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ow(t))?(Tv(n,e),n.h==0&&(n.src=null,t[iw]=null)):mg(e)}}}function oR(e){return e in g0?g0[e]:g0[e]="on"+e}function vU(e,t){if(e.fa)e=!0;else{t=new xu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&sw(e),e=n.call(r,t)}return e}function ow(e){return e=e[iw],e instanceof yg?e:null}var m0="__closure_events_fn_"+(1e9*Math.random()>>>0);function aw(e){return typeof e=="function"?e:(e[m0]||(e[m0]=function(t){return e.handleEvent(t)}),e[m0])}function bt(){ks.call(this),this.i=new yg(this),this.S=this,this.J=null}kt(bt,ks);bt.prototype[td]=!0;bt.prototype.removeEventListener=function(e,t,n,r){sR(this,e,t,n,r)};function Nt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ht(t,e);else if(t instanceof Ht)t.target=t.target||e;else{var i=t;t=new Ht(r,e),tR(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oh(o,r,!0,t)&&i}if(o=t.g=e,i=oh(o,r,!0,t)&&i,i=oh(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=oh(o,r,!1,t)&&i}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)mg(n[r]);delete e.g[t],e.h--}}this.J=null};bt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};bt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function oh(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tv(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var lw=ne.JSON.stringify;class xU{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function wU(){var e=cw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class _U{constructor(){this.h=this.g=null}add(t,n){const r=aR.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aR=new xU(()=>new SU,e=>e.reset());class SU{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function EU(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function IU(e){ne.setTimeout(()=>{throw e},0)}let wu,_u=!1,cw=new _U,lR=()=>{const e=ne.Promise.resolve(void 0);wu=()=>{e.then(TU)}};var TU=()=>{for(var e;e=wU();){try{e.h.call(e.g)}catch(n){IU(n)}var t=aR;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_u=!1};function vg(e,t){bt.call(this),this.h=e||1,this.g=t||ne,this.j=Bt(this.qb,this),this.l=Date.now()}kt(vg,bt);F=vg.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(uw(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}F.N=function(){vg.$.N.call(this),uw(this),delete this.g};function dw(e,t,n){if(typeof e=="function")n&&(e=Bt(e,n));else if(e&&typeof e.handleEvent=="function")e=Bt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ne.setTimeout(e,t||0)}function cR(e){e.g=dw(()=>{e.g=null,e.i&&(e.i=!1,cR(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class bU extends ks{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cR(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Su(e){ks.call(this),this.h=e,this.g={}}kt(Su,ks);var jI=[];function uR(e,t,n,r){Array.isArray(n)||(n&&(jI[0]=n.toString()),n=jI);for(var i=0;i<n.length;i++){var s=nR(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function dR(e){rw(e.g,function(t,n){this.g.hasOwnProperty(n)&&sw(t)},e),e.g={}}Su.prototype.N=function(){Su.$.N.call(this),dR(this)};Su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xg(){this.g=!0}xg.prototype.Ea=function(){this.g=!1};function kU(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function CU(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ya(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+PU(e,n)+(r?" "+r:"")})}function AU(e,t){e.info(function(){return"TIMEOUT: "+t})}xg.prototype.info=function(){};function PU(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return lw(n)}catch{return t}}var Oo={},$I=null;function wg(){return $I=$I||new bt}Oo.Ta="serverreachability";function hR(e){Ht.call(this,Oo.Ta,e)}kt(hR,Ht);function Eu(e){const t=wg();Nt(t,new hR(t))}Oo.STAT_EVENT="statevent";function fR(e,t){Ht.call(this,Oo.STAT_EVENT,e),this.stat=t}kt(fR,Ht);function Zt(e){const t=wg();Nt(t,new fR(t,e))}Oo.Ua="timingevent";function pR(e,t){Ht.call(this,Oo.Ua,e),this.size=t}kt(pR,Ht);function nd(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){e()},t)}var _g={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hw(){}hw.prototype.h=null;function NI(e){return e.h||(e.h=e.i())}function mR(){}var rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fw(){Ht.call(this,"d")}kt(fw,Ht);function pw(){Ht.call(this,"c")}kt(pw,Ht);var kv;function Sg(){}kt(Sg,hw);Sg.prototype.g=function(){return new XMLHttpRequest};Sg.prototype.i=function(){return{}};kv=new Sg;function id(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Su(this),this.P=RU,e=Sv?125:void 0,this.V=new vg(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yR}function yR(){this.i=null,this.g="",this.h=!1}var RU=45e3,vR={},Cv={};F=id.prototype;F.setTimeout=function(e){this.P=e};function Av(e,t,n){e.L=1,e.A=Ig(vi(t)),e.u=n,e.S=!0,xR(e,null)}function xR(e,t){e.G=Date.now(),sd(e),e.B=vi(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),kR(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yR,e.g=KR(e.l,n?t:null,!e.u),0<e.O&&(e.M=new bU(Bt(e.Pa,e,e.g),e.O)),uR(e.U,e.g,"readystatechange",e.nb),t=e.I?eR(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Eu(),kU(e.j,e.v,e.B,e.m,e.W,e.u)}F.nb=function(e){e=e.target;const t=this.M;t&&kr(e)==3?t.l():this.Pa(e)};F.Pa=function(e){try{if(e==this.g)e:{const d=kr(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Sv||this.g&&(this.h.h||this.g.ja()||DI(this.g)))){this.J||d!=4||t==7||(t==8||0>=h?Eu(3):Eu(2)),Eg(this);var n=this.g.da();this.ca=n;t:if(wR(this)){var r=DI(this.g);e="";var i=r.length,s=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),$c(this);var o="";break t}this.h.i=new ne.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,CU(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vu(a)){var u=a;break t}}u=null}if(n=u)ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pv(this,n);else{this.i=!1,this.s=3,Zt(12),Ks(this),$c(this);break e}}this.S?(_R(this,d,o),Sv&&this.i&&d==3&&(uR(this.U,this.V,"tick",this.mb),this.V.start())):(ya(this.j,this.m,o,null),Pv(this,o)),d==4&&Ks(this),this.i&&!this.J&&(d==4?HR(this.l,this):(this.i=!1,sd(this)))}else JU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Ks(this),$c(this)}}}catch{}finally{}};function wR(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function _R(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=jU(e,n),i==Cv){t==4&&(e.s=4,Zt(14),r=!1),ya(e.j,e.m,null,"[Incomplete Response]");break}else if(i==vR){e.s=4,Zt(15),ya(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ya(e.j,e.m,i,null),Pv(e,i);wR(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Zt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ww(t),t.M=!0,Zt(11))):(ya(e.j,e.m,n,"[Invalid Chunked Response]"),Ks(e),$c(e))}F.mb=function(){if(this.g){var e=kr(this.g),t=this.g.ja();this.o<t.length&&(Eg(this),_R(this,e,t),this.i&&e!=4&&sd(this))}};function jU(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Cv:(n=Number(t.substring(n,r)),isNaN(n)?vR:(r+=1,r+n>t.length?Cv:(t=t.slice(r,r+n),e.o=r+n,t)))}F.cancel=function(){this.J=!0,Ks(this)};function sd(e){e.Y=Date.now()+e.P,SR(e,e.P)}function SR(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=nd(Bt(e.lb,e),t)}function Eg(e){e.C&&(ne.clearTimeout(e.C),e.C=null)}F.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(AU(this.j,this.B),this.L!=2&&(Eu(),Zt(17)),Ks(this),this.s=2,$c(this)):SR(this,this.Y-e)};function $c(e){e.l.H==0||e.J||HR(e.l,e)}function Ks(e){Eg(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,uw(e.V),dR(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Pv(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Rv(n.i,e))){if(!e.K&&Rv(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Hf(n),Cg(n);else break e;xw(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nd(Bt(n.ib,n),6e3));if(1>=PR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qs(n,11)}else if((e.K||n.g==e)&&Hf(n),!vu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(gw(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ve(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=GR(r,r.J?r.pa:null,r.Y),o.K){RR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Eg(a),sd(a)),r.g=o}else zR(r);0<n.j.length&&Ag(n)}else u[0]!="stop"&&u[0]!="close"||Qs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Qs(n,7):vw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Eu(4)}catch{}}function $U(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(pg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function NU(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(pg(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function ER(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pg(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=NU(e),r=$U(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var IR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MU(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ro(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ro){this.h=e.h,zf(this,e.j),this.s=e.s,this.g=e.g,Bf(this,e.m),this.l=e.l;var t=e.i,n=new Iu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),MI(this,n),this.o=e.o}else e&&(t=String(e).match(IR))?(this.h=!1,zf(this,t[1]||"",!0),this.s=mc(t[2]||""),this.g=mc(t[3]||"",!0),Bf(this,t[4]),this.l=mc(t[5]||"",!0),MI(this,t[6]||"",!0),this.o=mc(t[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}ro.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yc(t,OI,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(yc(t,OI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(yc(n,n.charAt(0)=="/"?DU:LU,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yc(n,FU)),e.join("")};function vi(e){return new ro(e)}function zf(e,t,n){e.j=n?mc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function MI(e,t,n){t instanceof Iu?(e.i=t,UU(e.i,e.h)):(n||(t=yc(t,VU)),e.i=new Iu(t,e.h))}function Ve(e,t,n){e.i.set(t,n)}function Ig(e){return Ve(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,OU),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function OU(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var OI=/[#\/\?@]/g,LU=/[#\?:]/g,DU=/[#\?]/g,VU=/[#\?@]/g,FU=/#/g;function Iu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cs(e){e.g||(e.g=new Map,e.h=0,e.i&&MU(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=Iu.prototype;F.add=function(e,t){Cs(this),this.i=null,e=kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function TR(e,t){Cs(e),t=kl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bR(e,t){return Cs(e),t=kl(e,t),e.g.has(t)}F.forEach=function(e,t){Cs(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};F.ta=function(){Cs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};F.Z=function(e){Cs(this);let t=[];if(typeof e=="string")bR(this,e)&&(t=t.concat(this.g.get(kl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return Cs(this),this.i=null,e=kl(this,e),bR(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function kR(e,t,n){TR(e,t),0<n.length&&(e.i=null,e.g.set(kl(e,t),tw(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function UU(e,t){t&&!e.j&&(Cs(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TR(this,r),kR(this,i,n))},e)),e.j=t}var zU=class{constructor(e,t){this.g=e,this.map=t}};function CR(e){this.l=e||BU,ne.PerformanceNavigationTiming?(e=ne.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var BU=10;function AR(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function PR(e){return e.h?1:e.g?e.g.size:0}function Rv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function gw(e,t){e.g?e.g.add(t):e.h=t}function RR(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}CR.prototype.cancel=function(){if(this.i=jR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function jR(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return tw(e.i)}var HU=class{stringify(e){return ne.JSON.stringify(e,void 0)}parse(e){return ne.JSON.parse(e,void 0)}};function WU(){this.g=new HU}function qU(e,t,n){const r=n||"";try{ER(e,function(i,s){let o=i;ed(i)&&(o=lw(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function GU(e,t){const n=new xg;if(ne.Image){const r=new Image;r.onload=sh(ah,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sh(ah,n,r,"TestLoadImage: error",!1,t),r.onabort=sh(ah,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sh(ah,n,r,"TestLoadImage: timeout",!1,t),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ah(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Tg(e){this.l=e.ec||null,this.j=e.ob||!1}kt(Tg,hw);Tg.prototype.g=function(){return new bg(this.l,this.j)};Tg.prototype.i=function(e){return function(){return e}}({});function bg(e,t){bt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=mw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(bg,bt);var mw=0;F=bg.prototype;F.open=function(e,t){if(this.readyState!=mw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tu(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ne).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,od(this)),this.readyState=mw};F.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$R(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function $R(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}F.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?od(this):Tu(this),this.readyState==3&&$R(this)}};F.Za=function(e){this.g&&(this.response=this.responseText=e,od(this))};F.Ya=function(e){this.g&&(this.response=e,od(this))};F.ka=function(){this.g&&od(this)};function od(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tu(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Tu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var KU=ne.JSON.parse;function tt(e){bt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NR,this.L=this.M=!1}kt(tt,bt);var NR="",QU=/^https?$/i,YU=["POST","PUT"];F=tt.prototype;F.Oa=function(e){this.M=e};F.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kv.g(),this.C=this.u?NI(this.u):NI(kv),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){LI(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ne.FormData&&e instanceof ne.FormData,!(0<=YP(YU,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LR(this),0<this.B&&((this.L=XU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=dw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){LI(this,s)}};function XU(e){return rl&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.ua=function(){typeof ew<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function LI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,MR(e),kg(e)}function MR(e){e.F||(e.F=!0,Nt(e,"complete"),Nt(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nt(this,"complete"),Nt(this,"abort"),kg(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kg(this,!0)),tt.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?OR(this):this.kb())};F.kb=function(){OR(this)};function OR(e){if(e.h&&typeof ew<"u"&&(!e.C[1]||kr(e)!=4||e.da()!=2)){if(e.v&&kr(e)==4)dw(e.La,0,e);else if(Nt(e,"readystatechange"),kr(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(IR)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!QU.test(i?i.toLowerCase():"")}n=r}if(n)Nt(e,"complete"),Nt(e,"success");else{e.m=6;try{var s=2<kr(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",MR(e)}}finally{kg(e)}}}}function kg(e,t){if(e.g){LR(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nt(e,"ready");try{n.onreadystatechange=r}catch{}}}function LR(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ne.clearTimeout(e.A),e.A=null)}F.isActive=function(){return!!this.g};function kr(e){return e.g?e.g.readyState:0}F.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),KU(t)}};function DI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case NR:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function JU(e){const t={};e=(e.g&&2<=kr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(vu(e[r]))continue;var n=EU(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}mU(t,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DR(e){let t="";return rw(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function yw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DR(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ve(e,t,n))}function ec(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function VR(e){this.Ga=0,this.j=[],this.l=new xg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,e),this.hb=ec("retryDelaySeedMs",1e4,e),this.eb=ec("forwardChannelMaxRetries",2,e),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new CR(e&&e.concurrentRequestLimit),this.Ja=new WU,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=VR.prototype;F.ra=8;F.H=1;function vw(e){if(FR(e),e.H==3){var t=e.W++,n=vi(e.I);if(Ve(n,"SID",e.K),Ve(n,"RID",t),Ve(n,"TYPE","terminate"),ad(e,n),t=new id(e,e.l,t),t.L=2,t.A=Ig(vi(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&ne.Image&&(new Image().src=t.A,n=!0),n||(t.g=KR(t.l,null),t.g.ha(t.A)),t.G=Date.now(),sd(t)}qR(e)}function Cg(e){e.g&&(ww(e),e.g.cancel(),e.g=null)}function FR(e){Cg(e),e.u&&(ne.clearTimeout(e.u),e.u=null),Hf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ne.clearTimeout(e.m),e.m=null)}function Ag(e){if(!AR(e.i)&&!e.m){e.m=!0;var t=e.Na;wu||lR(),_u||(wu(),_u=!0),cw.add(t,e),e.C=0}}function ZU(e,t){return PR(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=nd(Bt(e.Na,e,t),WR(e,e.C)),e.C++,!0)}F.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new id(this,this.l,e);let s=this.s;if(this.U&&(s?(s=eR(s),tR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=UR(this,i,t),n=vi(this.I),Ve(n,"RID",e),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),ad(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(DR(s)))+"&"+t:this.o&&yw(n,this.o,s)),gw(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",t),Ve(n,"SID","null"),i.aa=!0,Av(i,n,null)):Av(i,n,t),this.H=2}}else this.H==3&&(e?VI(this,e):this.j.length==0||AR(this.i)||VI(this))};function VI(e,t){var n;t?n=t.m:n=e.W++;const r=vi(e.I);Ve(r,"SID",e.K),Ve(r,"RID",n),Ve(r,"AID",e.V),ad(e,r),e.o&&e.s&&yw(r,e.o,e.s),n=new id(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=UR(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gw(e.i,n),Av(n,r,t)}function ad(e,t){e.na&&rw(e.na,function(n,r){Ve(t,r,n)}),e.h&&ER({},function(n,r){Ve(t,r,n)})}function UR(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Bt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{qU(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function zR(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;wu||lR(),_u||(wu(),_u=!0),cw.add(t,e),e.A=0}}function xw(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=nd(Bt(e.Ma,e),WR(e,e.A)),e.A++,!0)}F.Ma=function(){if(this.u=null,BR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nd(Bt(this.jb,this),e)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),Cg(this),BR(this))};function ww(e){e.B!=null&&(ne.clearTimeout(e.B),e.B=null)}function BR(e){e.g=new id(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=vi(e.wa);Ve(t,"RID","rpc"),Ve(t,"SID",e.K),Ve(t,"AID",e.V),Ve(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ve(t,"TO",e.qa),Ve(t,"TYPE","xmlhttp"),ad(e,t),e.o&&e.s&&yw(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Ig(vi(t)),n.u=null,n.S=!0,xR(n,e)}F.ib=function(){this.v!=null&&(this.v=null,Cg(this),xw(this),Zt(19))};function Hf(e){e.v!=null&&(ne.clearTimeout(e.v),e.v=null)}function HR(e,t){var n=null;if(e.g==t){Hf(e),ww(e),e.g=null;var r=2}else if(Rv(e.i,t))n=t.F,RR(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=wg(),Nt(r,new pR(r,n)),Ag(e)}else zR(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&ZU(e,t)||r==2&&xw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qs(e,5);break;case 4:Qs(e,10);break;case 3:Qs(e,6);break;default:Qs(e,2)}}}function WR(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Qs(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Bt(e.pb,e);n||(n=new ro("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||zf(n,"https"),Ig(n)),GU(n.toString(),r)}else Zt(2);e.H=0,e.h&&e.h.za(t),qR(e),FR(e)}F.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))};function qR(e){if(e.H=0,e.ma=[],e.h){const t=jR(e.i);(t.length!=0||e.j.length!=0)&&(AI(e.ma,t),AI(e.ma,e.j),e.i.i.length=0,tw(e.j),e.j.length=0),e.h.ya()}}function GR(e,t,n){var r=n instanceof ro?vi(n):new ro(n);if(r.g!="")t&&(r.g=t+"."+r.g),Bf(r,r.m);else{var i=ne.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ro(null);r&&zf(s,r),t&&(s.g=t),i&&Bf(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Ve(r,n,t),Ve(r,"VER",e.ra),ad(e,r),r}function KR(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new tt(new Tg({ob:n})):new tt(e.va),t.Oa(e.J),t}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function QR(){}F=QR.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Wf(){if(rl&&!(10<=Number(hU)))throw Error("Environmental error: no available transport.")}Wf.prototype.g=function(e,t){return new Pn(e,t)};function Pn(e,t){bt.call(this),this.g=new VR(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vu(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cl(this)}kt(Pn,bt);Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Zt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=GR(e,null,e.Y),Ag(e)};Pn.prototype.close=function(){vw(this.g)};Pn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=lw(e),e=n);t.j.push(new zU(t.fb++,e)),t.H==3&&Ag(t)};Pn.prototype.N=function(){this.g.h=null,delete this.j,vw(this.g),delete this.g,Pn.$.N.call(this)};function YR(e){fw.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}kt(YR,fw);function XR(){pw.call(this),this.status=1}kt(XR,pw);function Cl(e){this.g=e}kt(Cl,QR);Cl.prototype.Ba=function(){Nt(this.g,"a")};Cl.prototype.Aa=function(e){Nt(this.g,new YR(e))};Cl.prototype.za=function(e){Nt(this.g,new XR)};Cl.prototype.ya=function(){Nt(this.g,"b")};function e8(){this.blockSize=-1}function fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(fr,e8);fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function y0(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}fr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)y0(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){y0(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){y0(this,r),i=0;break}}this.h=i,this.i+=t};fr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ce(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var t8={};function _w(e){return-128<=e&&128>e?cU(e,function(t){return new Ce([t|0],0>t?-1:0)}):new Ce([e|0],0>e?-1:0)}function Cr(e){if(isNaN(e)||!isFinite(e))return Pa;if(0>e)return Pt(Cr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=jv;return new Ce(t,0)}function JR(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Pt(JR(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cr(Math.pow(t,8)),r=Pa,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Cr(Math.pow(t,s)),r=r.R(s).add(Cr(o))):(r=r.R(n),r=r.add(Cr(o)))}return r}var jv=4294967296,Pa=_w(0),$v=_w(1),FI=_w(16777216);F=Ce.prototype;F.ea=function(){if(Un(this))return-Pt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:jv+r)*t,t*=jv}return e};F.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ii(this))return"0";if(Un(this))return"-"+Pt(this).toString(e);for(var t=Cr(Math.pow(e,6)),n=this,r="";;){var i=Gf(n,t).g;n=qf(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,ii(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};F.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ii(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Un(e){return e.h==-1}F.X=function(e){return e=qf(this,e),Un(e)?-1:ii(e)?0:1};function Pt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ce(n,~e.h).add($v)}F.abs=function(){return Un(this)?Pt(this):this};F.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function qf(e,t){return e.add(Pt(t))}F.R=function(e){if(ii(this)||ii(e))return Pa;if(Un(this))return Un(e)?Pt(this).R(Pt(e)):Pt(Pt(this).R(e));if(Un(e))return Pt(this.R(Pt(e)));if(0>this.X(FI)&&0>e.X(FI))return Cr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,lh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,lh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ce(n,0)};function lh(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function tc(e,t){this.g=e,this.h=t}function Gf(e,t){if(ii(t))throw Error("division by zero");if(ii(e))return new tc(Pa,Pa);if(Un(e))return t=Gf(Pt(e),t),new tc(Pt(t.g),Pt(t.h));if(Un(t))return t=Gf(e,Pt(t)),new tc(Pt(t.g),t.h);if(30<e.g.length){if(Un(e)||Un(t))throw Error("slowDivide_ only works with positive integers.");for(var n=$v,r=t;0>=r.X(e);)n=UI(n),r=UI(r);var i=Go(n,1),s=Go(r,1);for(r=Go(r,2),n=Go(n,2);!ii(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Go(r,1),n=Go(n,1)}return t=qf(e,i.R(t)),new tc(i,t)}for(i=Pa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Cr(n),o=s.R(t);Un(o)||0<o.X(e);)n-=r,s=Cr(n),o=s.R(t);ii(s)&&(s=$v),i=i.add(s),e=qf(e,o)}return new tc(i,e)}F.gb=function(e){return Gf(this,e).h};F.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ce(n,this.h&e.h)};F.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ce(n,this.h|e.h)};F.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ce(n,this.h^e.h)};function UI(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ce(n,e.h)}function Go(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ce(i,e.h)}Wf.prototype.createWebChannel=Wf.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;_g.NO_ERROR=0;_g.TIMEOUT=8;_g.HTTP_ERROR=6;gR.COMPLETE="complete";mR.EventType=rd;rd.OPEN="a";rd.CLOSE="b";rd.ERROR="c";rd.MESSAGE="d";bt.prototype.listen=bt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;fr.prototype.digest=fr.prototype.l;fr.prototype.reset=fr.prototype.reset;fr.prototype.update=fr.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Cr;Ce.fromString=JR;var n8=function(){return new Wf},r8=function(){return wg()},v0=_g,i8=gR,s8=Oo,zI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ch=mR,o8=tt,a8=fr,Ra=Ce;const BI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Jx("@firebase/firestore");function nc(){return wo.logLevel}function W(e,...t){if(wo.logLevel<=fe.DEBUG){const n=t.map(Sw);wo.debug(`Firestore (${Al}): ${e}`,...n)}}function xi(e,...t){if(wo.logLevel<=fe.ERROR){const n=t.map(Sw);wo.error(`Firestore (${Al}): ${e}`,...n)}}function bu(e,...t){if(wo.logLevel<=fe.WARN){const n=t.map(Sw);wo.warn(`Firestore (${Al}): ${e}`,...n)}}function Sw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e="Unexpected state"){const t=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+e;throw xi(t),new Error(t)}function $e(e,t){e||te()}function ie(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Hr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class c8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class u8{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ui,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ui)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new l8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new ln(t)}}class d8{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h8{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new d8(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p8{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new f8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=g8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function we(e,t){return e<t?-1:e>t?1:0}function il(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yt.fromMillis(Date.now())}static fromDate(t){return yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.timestamp=t}static fromTimestamp(t){return new re(t)}static min(){return new re(new yt(0,0))}static max(){return new re(new yt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,n,r){n===void 0?n=0:n>t.length&&te(),r===void 0?r=t.length-n:r>t.length-n&&te(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ku.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ku?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Fe extends ku{construct(t,n,r){return new Fe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new z(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const m8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ku{construct(t,n,r){return new jt(t,n,r)}static isValidIdentifier(t){return m8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new z(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(Fe.fromString(t))}static fromName(t){return new Q(Fe.fromString(t).popFirst(5))}static empty(){return new Q(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new Fe(t.slice()))}}function y8(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new ys(i,Q.empty(),t)}function v8(e){return new ys(e.readTime,e.key,-1)}class ys{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ys(re.min(),Q.empty(),-1)}static max(){return new ys(re.max(),Q.empty(),-1)}}function x8(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==w8)throw e;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,r)=>{n(t)})}static reject(t){return new $((n,r)=>{r(t)})}static waitFor(t){return new $((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new $((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new $((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function cd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Ew._e=-1;function Pg(e){return e==null}function Kf(e){return e===0&&1/e==-1/0}function S8(e){return typeof e=="number"&&Number.isInteger(e)&&!Kf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ej(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n){this.comparator=t,this.root=n||At.EMPTY}insert(t,n){return new Je(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(t){return new Je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,At.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uh(this.root,t,this.comparator,!0)}}class uh{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class At{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new At(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const t=this.left.check();if(t!==this.right.check())throw te();return t+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(t,n,r,i,s){return this}insert(t,n,r){return new At(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.comparator=t,this.data=new Je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new WI(this.data.getIterator())}getIteratorFrom(t){return new WI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Mt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Mt(this.comparator);return n.data=t,n}}class WI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(jt.comparator)}static empty(){return new En([])}unionWith(t){let n=new Mt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new En(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tj("Invalid base64 string: "+s):s}}(t);return new Kt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Kt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const E8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(e){if($e(!!e),typeof e=="string"){let t=0;const n=E8.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:at(e.seconds),nanos:at(e.nanos)}}function at(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _o(e){return typeof e=="string"?Kt.fromBase64String(e):Kt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tw(e){const t=e.mapValue.fields.__previous_value__;return Iw(t)?Tw(t):t}function Cu(e){const t=vs(e.mapValue.fields.__local_write_time__.timestampValue);return new yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Au{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iw(e)?4:T8(e)?9007199254740991:10:te()}function Vr(e,t){if(e===t)return!0;const n=So(e);if(n!==So(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cu(e).isEqual(Cu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vs(i.timestampValue),a=vs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return _o(i.bytesValue).isEqual(_o(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Kf(o)===Kf(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],Vr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HI(o)!==HI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vr(o[l],a[l])))return!1;return!0}(e,t);default:return te()}}function Pu(e,t){return(e.values||[]).find(n=>Vr(n,t))!==void 0}function sl(e,t){if(e===t)return 0;const n=So(e),r=So(t);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return qI(e.timestampValue,t.timestampValue);case 4:return qI(Cu(e),Cu(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(s,o){const a=_o(s),l=_o(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=we(a[u],l[u]);if(d!==0)return d}return we(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=we(at(s.latitude),at(o.latitude));return a!==0?a:we(at(s.longitude),at(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=sl(a[u],l[u]);if(d)return d}return we(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===dh.mapValue&&o===dh.mapValue)return 0;if(s===dh.mapValue)return 1;if(o===dh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=we(l[h],d[h]);if(f!==0)return f;const p=sl(a[l[h]],u[d[h]]);if(p!==0)return p}return we(l.length,d.length)}(e.mapValue,t.mapValue);default:throw te()}}function qI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const n=vs(e),r=vs(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function ol(e){return Nv(e)}function Nv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return _o(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Nv(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Nv(n.fields[o])}`;return i+"}"}(e.mapValue):te()}function GI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mv(e){return!!e&&"integerValue"in e}function bw(e){return!!e&&"arrayValue"in e}function KI(e){return!!e&&"nullValue"in e}function QI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wh(e){return!!e&&"mapValue"in e}function Nc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Lo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Nc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function T8(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(n)}setAll(t){let n=jt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Lo(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new un(Nc(this.value))}}function nj(e){const t=[];return Lo(e.fields,(n,r)=>{const i=new jt([n]);if(Wh(r)){const s=nj(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new zt(t,0,re.min(),re.min(),re.min(),un.empty(),0)}static newFoundDocument(t,n,r,i){return new zt(t,1,n,re.min(),r,i,0)}static newNoDocument(t,n){return new zt(t,2,n,re.min(),re.min(),un.empty(),0)}static newUnknownDocument(t,n){return new zt(t,3,n,re.min(),re.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n){this.position=t,this.inclusive=n}}function YI(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=sl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n="asc"){this.field=t,this.dir=n}}function b8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{}class ut extends rj{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new C8(t,n,r):n==="array-contains"?new R8(t,r):n==="in"?new j8(t,r):n==="not-in"?new $8(t,r):n==="array-contains-any"?new N8(t,r):new ut(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new A8(t,r):new P8(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sl(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends rj{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new pr(t,n)}matches(t){return ij(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ij(e){return e.op==="and"}function sj(e){return k8(e)&&ij(e)}function k8(e){for(const t of e.filters)if(t instanceof pr)return!1;return!0}function Ov(e){if(e instanceof ut)return e.field.canonicalString()+e.op.toString()+ol(e.value);if(sj(e))return e.filters.map(t=>Ov(t)).join(",");{const t=e.filters.map(n=>Ov(n)).join(",");return`${e.op}(${t})`}}function oj(e,t){return e instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(e,t):e instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oj(o,i.filters[a]),!0):!1}(e,t):void te()}function aj(e){return e instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(e):e instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(aj).join(" ,")+"}"}(e):"Filter"}class C8 extends ut{constructor(t,n,r){super(t,n,r),this.key=Q.fromName(r.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class A8 extends ut{constructor(t,n){super(t,"in",n),this.keys=lj("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class P8 extends ut{constructor(t,n){super(t,"not-in",n),this.keys=lj("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lj(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class R8 extends ut{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bw(n)&&Pu(n.arrayValue,this.value)}}class j8 extends ut{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class $8 extends ut{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Pu(this.value.arrayValue,n)}}class N8 extends ut{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function JI(e,t=null,n=[],r=[],i=null,s=null,o=null){return new M8(e,t,n,r,i,s,o)}function kw(e){const t=ie(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ol(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ol(r)).join(",")),t.ce=n}return t.ce}function Cw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!b8(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!oj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!XI(e.startAt,t.startAt)&&XI(e.endAt,t.endAt)}function Lv(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function O8(e,t,n,r,i,s,o,a){return new Pl(e,t,n,r,i,s,o,a)}function Rg(e){return new Pl(e)}function ZI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function cj(e){return e.collectionGroup!==null}function Mc(e){const t=ie(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Mt(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Ru(s,r))}),n.has(jt.keyField().canonicalString())||t.le.push(new Ru(jt.keyField(),r))}return t.le}function Nr(e){const t=ie(e);return t.he||(t.he=L8(t,Mc(e))),t.he}function L8(e,t){if(e.limitType==="F")return JI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ru(i.field,s)});const n=e.endAt?new Qf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qf(e.startAt.position,e.startAt.inclusive):null;return JI(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Dv(e,t){const n=e.filters.concat([t]);return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yf(e,t,n){return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jg(e,t){return Cw(Nr(e),Nr(t))&&e.limitType===t.limitType}function uj(e){return`${kw(Nr(e))}|lt:${e.limitType}`}function Xo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aj(i)).join(", ")}]`),Pg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ol(i)).join(",")),`Target(${r})`}(Nr(e))}; limitType=${e.limitType})`}function $g(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Mc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=YI(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Mc(r),i)||r.endAt&&!function(o,a,l){const u=YI(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Mc(r),i))}(e,t)}function D8(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dj(e){return(t,n)=>{let r=!1;for(const i of Mc(e)){const s=V8(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function V8(e,t,n){const r=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?sl(l,u):te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Lo(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return ej(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=new Je(Q.comparator);function wi(){return F8}const hj=new Je(Q.comparator);function vc(...e){let t=hj;for(const n of e)t=t.insert(n.key,n);return t}function fj(e){let t=hj;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ys(){return Oc()}function pj(){return Oc()}function Oc(){return new Rl(e=>e.toString(),(e,t)=>e.isEqual(t))}const U8=new Je(Q.comparator),z8=new Mt(Q.comparator);function ue(...e){let t=z8;for(const n of e)t=t.add(n);return t}const B8=new Mt(we);function H8(){return B8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(t)?"-0":t}}function mj(e){return{integerValue:""+e}}function yj(e,t){return S8(t)?mj(t):gj(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this._=void 0}}function W8(e,t,n){return e instanceof Xf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iw(s)&&(s=Tw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof al?xj(e,t):e instanceof ju?wj(e,t):function(i,s){const o=vj(i,s),a=eT(o)+eT(i.Ie);return Mv(o)&&Mv(i.Ie)?mj(a):gj(i.serializer,a)}(e,t)}function q8(e,t,n){return e instanceof al?xj(e,t):e instanceof ju?wj(e,t):n}function vj(e,t){return e instanceof $u?function(r){return Mv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Xf extends Ng{}class al extends Ng{constructor(t){super(),this.elements=t}}function xj(e,t){const n=_j(t);for(const r of e.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends Ng{constructor(t){super(),this.elements=t}}function wj(e,t){let n=_j(t);for(const r of e.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class $u extends Ng{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function eT(e){return at(e.integerValue||e.doubleValue)}function _j(e){return bw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,n){this.field=t,this.transform=n}}function G8(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ju&&i instanceof ju?il(r.elements,i.elements,Vr):r instanceof $u&&i instanceof $u?Vr(r.Ie,i.Ie):r instanceof Xf&&i instanceof Xf}(e.transform,t.transform)}class K8{constructor(t,n){this.version=t,this.transformResults=n}}class Mr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Mr}static exists(t){return new Mr(void 0,t)}static updateTime(t){return new Mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mg{}function Ej(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Tj(e.key,Mr.none()):new ud(e.key,e.data,Mr.none());{const n=e.data,r=un.empty();let i=new Mt(jt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new As(e.key,r,new En(i.toArray()),Mr.none())}}function Q8(e,t,n){e instanceof ud?function(i,s,o){const a=i.value.clone(),l=nT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof As?function(i,s,o){if(!qh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ij(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Lc(e,t,n,r){return e instanceof ud?function(s,o,a,l){if(!qh(s.precondition,o))return a;const u=s.value.clone(),d=rT(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof As?function(s,o,a,l){if(!qh(s.precondition,o))return a;const u=rT(s.fieldTransforms,l,o),d=o.data;return d.setAll(Ij(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return qh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Y8(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=vj(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function tT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&il(r,i,(s,o)=>G8(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ud extends Mg{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends Mg{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ij(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function nT(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,q8(o,a,n[i]))}return r}function rT(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,W8(s,o,t))}return r}class Tj extends Mg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X8 extends Mg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Q8(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Lc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Lc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=pj();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ej(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ue())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,(n,r)=>tT(n,r))&&il(this.baseMutations,t.baseMutations,(n,r)=>tT(n,r))}}class Aw{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return U8}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Aw(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z8=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ge;function tz(e){switch(e){default:return te();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function bj(e){if(e===void 0)return xi("GRPC error has no .code"),A.UNKNOWN;switch(e){case ot.OK:return A.OK;case ot.CANCELLED:return A.CANCELLED;case ot.UNKNOWN:return A.UNKNOWN;case ot.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case ot.INTERNAL:return A.INTERNAL;case ot.UNAVAILABLE:return A.UNAVAILABLE;case ot.UNAUTHENTICATED:return A.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case ot.NOT_FOUND:return A.NOT_FOUND;case ot.ALREADY_EXISTS:return A.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return A.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case ot.ABORTED:return A.ABORTED;case ot.OUT_OF_RANGE:return A.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return A.UNIMPLEMENTED;case ot.DATA_LOSS:return A.DATA_LOSS;default:return te()}}(ge=ot||(ot={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Ra([4294967295,4294967295],0);function iT(e){const t=nz().encode(e),n=new a8;return n.update(t),new Uint8Array(n.digest())}function sT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ra([n,r],0),new Ra([i,s],0)]}class Pw{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(r<0)throw new xc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Ra.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Ra.fromNumber(r)));return i.compare(rz)===1&&(i=new Ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=iT(t),[r,i]=sT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Pw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=iT(t),[r,i]=sT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,dd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Og(re.min(),i,new Je(we),wi(),ue())}}class dd{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new dd(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class kj{constructor(t,n){this.targetId=t,this.fe=n}}class Cj{constructor(t,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oT{constructor(){this.ge=0,this.pe=lT(),this.ye=Kt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new dd(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=lT()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,$e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class iz{constructor(t){this.Le=t,this.ke=new Map,this.qe=wi(),this.Qe=aT(),this.Ke=new Je(we)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:te()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Lv(s))if(r===0){const o=new Q(s.path);this.We(n,o,zt.newNoDocument(o,re.min()))}else $e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_o(r).toUint8Array()}catch(l){if(l instanceof tj)return bu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pw(o,i,s)}catch(l){return bu(l instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Lv(a.target)){const l=new Q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,zt.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Og(t,n,this.Ke,this.qe,r);return this.qe=wi(),this.Qe=aT(),this.Ke=new Je(we),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new oT,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Mt(we),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||W("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new oT),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function aT(){return new Je(Q.comparator)}function lT(){return new Je(Q.comparator)}const sz={asc:"ASCENDING",desc:"DESCENDING"},oz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},az={and:"AND",or:"OR"};class lz{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vv(e,t){return e.useProto3Json||Pg(t)?t:{value:t}}function Jf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Aj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cz(e,t){return Jf(e,t.toTimestamp())}function Or(e){return $e(!!e),re.fromTimestamp(function(n){const r=vs(n);return new yt(r.seconds,r.nanos)}(e))}function Rw(e,t){return function(r){return new Fe(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Pj(e){const t=Fe.fromString(e);return $e(Nj(t)),t}function Fv(e,t){return Rw(e.databaseId,t.path)}function x0(e,t){const n=Pj(t);if(n.get(1)!==e.databaseId.projectId)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(Rj(n))}function Uv(e,t){return Rw(e.databaseId,t)}function uz(e){const t=Pj(e);return t.length===4?Fe.emptyPath():Rj(t)}function zv(e){return new Fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rj(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cT(e,t,n){return{name:Fv(e,t),fields:n.value.mapValue.fields}}function dz(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string"),Kt.fromBase64String(d||"")):($e(d===void 0||d instanceof Uint8Array),Kt.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const d=u.code===void 0?A.UNKNOWN:bj(u.code);return new z(d,u.message||"")}(o);n=new Cj(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=x0(e,r.document.name),s=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):re.min(),a=new un({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Gh(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=x0(e,r.document),s=r.readTime?Or(r.readTime):re.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gh([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=x0(e,r.document),s=r.removedTargetIds||[];n=new Gh([],s,i,null)}else{if(!("filter"in t))return te();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ez(i,s),a=r.targetId;n=new kj(a,o)}}return n}function hz(e,t){let n;if(t instanceof ud)n={update:cT(e,t.key,t.value)};else if(t instanceof Tj)n={delete:Fv(e,t.key)};else if(t instanceof As)n={update:cT(e,t.key,t.data),updateMask:_z(t.fieldMask)};else{if(!(t instanceof X8))return te();n={verify:Fv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw te()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(e,t.precondition)),n}function fz(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Or(i.updateTime):Or(s);return o.isEqual(re.min())&&(o=Or(s)),new K8(o,i.transformResults||[])}(n,t))):[]}function pz(e,t){return{documents:[Uv(e,t.path)]}}function gz(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Uv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Uv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $j(pr.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Jo(h.field),direction:vz(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Vv(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function mz(e){let t=uz(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=jj(h);return f instanceof pr&&sj(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Ru(Zo(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Pg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Qf(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Qf(p,f)}(n.endAt)),O8(t,i,o,s,a,"F",l,u)}function yz(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jj(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zo(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zo(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(e):e.fieldFilter!==void 0?function(n){return ut.create(Zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>jj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(e):te()}function vz(e){return sz[e]}function xz(e){return oz[e]}function wz(e){return az[e]}function Jo(e){return{fieldPath:e.canonicalString()}}function Zo(e){return jt.fromServerFormat(e.fieldPath)}function $j(e){return e instanceof ut?function(n){if(n.op==="=="){if(QI(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(KI(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QI(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(KI(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:xz(n.op),value:n.value}}}(e):e instanceof pr?function(n){const r=n.getFilters().map(i=>$j(i));return r.length===1?r[0]:{compositeFilter:{op:wz(n.op),filters:r}}}(e):te()}function _z(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Nj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,n,r,i,s=re.min(),o=re.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ki(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(t){this.ut=t}}function Ez(e){const t=mz({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Yf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.on=new Tz}addToCollectionParentIndex(t,n){return this.on.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(ys.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(ys.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class Tz{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Mt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Mt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ll(0)}static Nn(){return new ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.changes=new Rl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,zt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Lc(r.mutation,i,En.empty(),yt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ue()){const i=Ys();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=vc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Ys();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=wi();const o=Oc(),a=function(){return Oc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof As)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Lc(d.mutation,u,d.mutation.getFieldMask(),yt.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new kz(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Oc();let i=new Je((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||En.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=pj();d.forEach(f=>{if(!s.has(f)){const p=Ej(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cj(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):$.resolve(Ys());let a=-1,l=s;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(t,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ue())).next(d=>({batchId:a,changes:fj(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=vc();return this.indexManager.getCollectionParents(t,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new Pl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=vc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Lc(d.mutation,u,En.empty(),yt.now()),$g(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return $.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Ez(i.bundledQuery),readTime:Or(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.overlays=new Je(Q.comparator),this.lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ys();return $.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),$.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const i=Ys(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Je((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ys(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z8(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.hr=new Mt(_t.Pr),this.Ir=new Mt(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new _t(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new _t(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Q(new Fe([])),r=new _t(n,t),i=new _t(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Q(new Fe([])),r=new _t(n,t),i=new _t(n,t+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new _t(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class _t{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Q.comparator(t.key,n.key)||we(t.gr,n.gr)}static Tr(t,n){return we(t.gr,n.gr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Mt(_t.Pr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,n){return $.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Mt(we);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),$.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new _t(new Q(s),0);let a=new Mt(we);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),$.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return $.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new _t(n,0),i=this.yr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(t){this.Cr=t,this.docs=function(){return new Je(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(t,n){let r=wi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=wi();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||x8(v8(d),r)<=0||(i.has(d.key)||$g(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(t,n,r,i){te()}vr(t,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new $z(this)}getSize(t){return $.resolve(this.size)}}class $z extends bz{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),$.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(t){this.persistence=t,this.Fr=new Rl(n=>kw(n),Cw),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new jw,this.targetCount=0,this.Nr=ll.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),$.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new ll(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.kn(n),$.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),$.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Ew(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Nz(this),this.indexManager=new Iz,this.remoteDocumentCache=function(i){return new jz(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Sz(n),this.Kr=new Az(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Pz,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Rz(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){W("MemoryPersistence","Starting transaction:",t);const i=new Oz(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return $.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Oz extends _8{constructor(t){super(),this.currentSequenceNumber=t}}class $w{constructor(t){this.persistence=t,this.Gr=new jw,this.zr=null}static jr(t){return new $w(t)}get Hr(){if(this.zr)return this.zr;throw te()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),$.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Hr,r=>{const i=Q.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return $.or([()=>$.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nw(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Lz;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(nc()<=fe.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),$.resolve()):(nc()<=fe.DEBUG&&W("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(nc()<=fe.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nr(n))):$.resolve())}zi(t,n){if(ZI(n))return $.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yf(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,Yf(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return ZI(n)||i.isEqual(re.min())?$.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?$.resolve(null):(nc()<=fe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xo(n)),this.Xi(t,o,n,y8(i,-1)).next(a=>a))})}Yi(t,n){let r=new Mt(dj(t));return n.forEach((i,s)=>{$g(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return nc()<=fe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.Gi.getDocumentsMatchingQuery(t,n,ys.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Je(we),this.ns=new Rl(s=>kw(s),Cw),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Cz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Fz(e,t,n,r){return new Vz(e,t,n,r)}async function Mj(e,t){const n=ie(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function Uz(e,t){const n=ie(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);$e(w!==null),y.version.compareTo(w)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Oj(e){const t=ie(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function zz(e,t){const n=ie(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Kt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(y,w,m){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&a.push(n.qr.updateTargetData(s,p))});let l=wi(),u=ue();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Bz(s,o,t.documentUpdates).next(d=>{l=d.us,u=d.cs})),!r.isEqual(re.min())){const d=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function Bz(e,t,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=wi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function Hz(e,t){const n=ie(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Wz(e,t){const n=ie(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,$.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ki(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Bv(e,t,n){const r=ie(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cd(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function uT(e,t,n){const r=ie(e);let i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ie(l),f=h.ns.get(d);return f!==void 0?$.resolve(h.ts.get(f)):h.qr.getTargetData(u,d)}(r,o,Nr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:re.min(),n?s:ue())).next(a=>(qz(r,D8(t),a),{documents:a,ls:s})))}function qz(e,t,n){let r=e.rs.get(t)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class dT{constructor(){this.activeTargetIds=H8()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Gz{constructor(){this.eo=new dT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new dT,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function w0(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class Xz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=w0(),l=this.So(n,r);W("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(d=>(W("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw bu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Qz[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=w0();return new Promise((o,a)=>{const l=new o8;l.setWithCredentials(!0),l.listenOnce(i8.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case v0.NO_ERROR:const d=l.getResponseJson();W(Vt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case v0.TIMEOUT:W(Vt,`RPC '${t}' ${s} timed out`),a(new z(A.DEADLINE_EXCEEDED,"Request time out"));break;case v0.HTTP_ERROR:const h=l.getStatus();if(W(Vt,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(p.status);a(new z(g,p.message))}else a(new z(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(A.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{W(Vt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);W(Vt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=w0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=n8(),a=r8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");W(Vt,`Creating RPC '${t}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const g=new Yz({co:w=>{p?W(Vt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(f||(W(Vt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),W(Vt,`RPC '${t}' stream ${i} sending:`,w),h.send(w))},lo:()=>h.close()}),y=(w,m,v)=>{w.listen(m,x=>{try{v(x)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,ch.EventType.OPEN,()=>{p||W(Vt,`RPC '${t}' stream ${i} transport opened.`)}),y(h,ch.EventType.CLOSE,()=>{p||(p=!0,W(Vt,`RPC '${t}' stream ${i} transport closed`),g.Ro())}),y(h,ch.EventType.ERROR,w=>{p||(p=!0,bu(Vt,`RPC '${t}' stream ${i} transport errored:`,w),g.Ro(new z(A.UNAVAILABLE,"The operation could not be completed")))}),y(h,ch.EventType.MESSAGE,w=>{var m;if(!p){const v=w.data[0];$e(!!v);const x=v,S=x.error||((m=x[0])===null||m===void 0?void 0:m.error);if(S){W(Vt,`RPC '${t}' stream ${i} received error:`,S);const E=S.status;let T=function(R){const j=ot[R];if(j!==void 0)return bj(j)}(E),I=S.message;T===void 0&&(T=A.INTERNAL,I="Unknown error status: "+E+" with message "+S.message),p=!0,g.Ro(new z(T,I)),h.close()}else W(Vt,`RPC '${t}' stream ${i} received:`,v),g.Vo(v)}}),y(a,s8.STAT_EVENT,w=>{w.stat===zI.PROXY?W(Vt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===zI.NOPROXY&&W(Vt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function _0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e){return new lz(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Lj(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new z(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return W("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jz extends Dj{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=dz(this.serializer,t),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Or(o.readTime):re.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=zv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lv(l)?{documents:pz(s,l)}:{query:gz(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Aj(s,o.resumeToken);const u=Vv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Jf(s,o.snapshotVersion.toTimestamp());const u=Vv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=yz(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=zv(this.serializer),n.removeTarget=t,this.e_(n)}}class Zz extends Dj{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=fz(t.writeResults,t.commitTime),r=Or(t.commitTime);return this.listener.I_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=zv(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>hz(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(A.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(A.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class tB{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xi(n),this.f_=!1):W("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Do(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ie(l);u.C_.add(4),await hd(u),u.M_.set("Unknown"),u.C_.delete(4),await Dg(u)}(this))})}),this.M_=new tB(r,i)}}async function Dg(e){if(Do(e))for(const t of e.v_)await t(!0)}async function hd(e){for(const t of e.v_)await t(!1)}function Vj(e,t){const n=ie(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Lw(n)?Ow(n):jl(n).Ho()&&Mw(n,t))}function Fj(e,t){const n=ie(e),r=jl(n);n.D_.delete(t),r.Ho()&&Uj(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Do(n)&&n.M_.set("Unknown"))}function Mw(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jl(e).u_(t)}function Uj(e,t){e.x_.Oe(t),jl(e).c_(t)}function Ow(e){e.x_=new iz({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),jl(e).start(),e.M_.g_()}function Lw(e){return Do(e)&&!jl(e).jo()&&e.D_.size>0}function Do(e){return ie(e).C_.size===0}function zj(e){e.x_=void 0}async function rB(e){e.D_.forEach((t,n)=>{Mw(e,t)})}async function iB(e,t){zj(e),Lw(e)?(e.M_.w_(t),Ow(e)):e.M_.set("Unknown")}async function sB(e,t,n){if(e.M_.set("Online"),t instanceof Cj&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zf(e,r)}else if(t instanceof Gh?e.x_.$e(t):t instanceof kj?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(re.min()))try{const r=await Oj(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(u);d&&s.D_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Kt.EMPTY_BYTE_STRING,d.snapshotVersion)),Uj(s,l);const h=new Ki(d.target,l,u,d.sequenceNumber);Mw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Zf(e,r)}}async function Zf(e,t,n){if(!cd(t))throw t;e.C_.add(1),await hd(e),e.M_.set("Offline"),n||(n=()=>Oj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Dg(e)})}function Bj(e,t){return t().catch(n=>Zf(e,n,t))}async function Vg(e){const t=ie(e),n=xs(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;oB(t);)try{const i=await Hz(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,aB(t,i)}catch(i){await Zf(t,i)}Hj(t)&&Wj(t)}function oB(e){return Do(e)&&e.b_.length<10}function aB(e,t){e.b_.push(t);const n=xs(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Hj(e){return Do(e)&&!xs(e).jo()&&e.b_.length>0}function Wj(e){xs(e).start()}async function lB(e){xs(e).E_()}async function cB(e){const t=xs(e);for(const n of e.b_)t.P_(n.mutations)}async function uB(e,t,n){const r=e.b_.shift(),i=Aw.from(r,t,n);await Bj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Vg(e)}async function dB(e,t){t&&xs(e).h_&&await async function(r,i){if(function(o){return tz(o)&&o!==A.ABORTED}(i.code)){const s=r.b_.shift();xs(r).Yo(),await Bj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vg(r)}}(e,t),Hj(e)&&Wj(e)}async function fT(e,t){const n=ie(e);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Do(n);n.C_.add(3),await hd(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Dg(n)}async function hB(e,t){const n=ie(e);t?(n.C_.delete(2),await Dg(n)):t||(n.C_.add(2),await hd(n),n.M_.set("Unknown"))}function jl(e){return e.O_||(e.O_=function(n,r,i){const s=ie(n);return s.A_(),new Jz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:rB.bind(null,e),Io:iB.bind(null,e),a_:sB.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Lw(e)?Ow(e):e.M_.set("Unknown")):(await e.O_.stop(),zj(e))})),e.O_}function xs(e){return e.N_||(e.N_=function(n,r,i){const s=ie(n);return s.A_(),new Zz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:lB.bind(null,e),Io:dB.bind(null,e),T_:cB.bind(null,e),I_:uB.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Vg(e)):(await e.N_.stop(),e.b_.length>0&&(W("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Dw(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vw(e,t){if(xi("AsyncQueue",`${t}: ${e}`),cd(e))return new z(A.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new Je(this.comparator)}static emptySet(t){return new ja(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.B_=new Je(Q.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):te():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class cl{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cl(t,n,ja.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.k_=void 0,this.listeners=[]}}class pB{constructor(){this.queries=new Rl(t=>uj(t),jg),this.onlineState="Unknown",this.q_=new Set}}async function Fw(e,t){const n=ie(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new fB),i)try{s.k_=await n.onListen(r)}catch(o){const a=Vw(o,`Initialization of query '${Xo(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&zw(n)}async function Uw(e,t){const n=ie(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gB(e,t){const n=ie(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&zw(n)}function mB(e,t,n){const r=ie(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function zw(e){e.q_.forEach(t=>{t.next()})}class Bw{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new cl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.key=t}}class Gj{constructor(t){this.key=t}}class yB{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=dj(t),this.aa=new ja(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new pT,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,h)=>{const f=i.get(d),p=$g(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),w=!0):this.ha(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this._a(p,l)>0||u&&this._a(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((d,h)=>function(p,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return y(p)-y(g)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new cl(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new pT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Gj(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new qj(r))}),n}da(t){this.ia=t.ls,this.oa=ue();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return cl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class vB{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class xB{constructor(t){this.key=t,this.Ra=!1}}class wB{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Rl(a=>uj(a),jg),this.fa=new Map,this.ga=new Set,this.pa=new Je(Q.comparator),this.ya=new Map,this.wa=new jw,this.Sa={},this.ba=new Map,this.Da=ll.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function _B(e,t){const n=RB(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Wz(n.localStore,Nr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await SB(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Vj(n.remoteStore,o)}return i}async function SB(e,t,n,r,i){e.va=(h,f,p)=>async function(y,w,m,v){let x=w.view.ca(m);x.Zi&&(x=await uT(y.localStore,w.query,!1).then(({documents:I})=>w.view.ca(I,x)));const S=v&&v.targetChanges.get(w.targetId),E=v&&v.targetMismatches.get(w.targetId)!=null,T=w.view.applyChanges(x,y.isPrimaryClient,S,E);return mT(y,w.targetId,T.Ta),T.snapshot}(e,h,f,p);const s=await uT(e.localStore,t,!0),o=new yB(t,s.ls),a=o.ca(s.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);mT(e,n,u.Ta);const d=new vB(t,n,o);return e.ma.set(t,d),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function EB(e,t){const n=ie(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!jg(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Bv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Fj(n.remoteStore,r.targetId),Hv(n,r.targetId)}).catch(ld)):(Hv(n,r.targetId),await Bv(n.localStore,r.targetId,!0))}async function IB(e,t,n){const r=jB(e);try{const i=await function(o,a){const l=ie(o),u=yt.now(),d=a.reduce((p,g)=>p.add(g.key),ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=wi(),y=ue();return l.ss.getEntries(p,d).next(w=>{g=w,g.forEach((m,v)=>{v.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const m=[];for(const v of a){const x=Y8(v,h.get(v.key).overlayedDocument);x!=null&&m.push(new As(v.key,x,nj(x.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:fj(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Je(we)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await fd(r,i.changes),await Vg(r.remoteStore)}catch(i){const s=Vw(i,"Failed to persist write");n.reject(s)}}async function Kj(e,t){const n=ie(e);try{const r=await zz(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?$e(o.Ra):i.removedDocuments.size>0&&($e(o.Ra),o.Ra=!1))}),await fd(n,r,t)}catch(r){await ld(r)}}function gT(e,t,n){const r=ie(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.Q_(a)&&(u=!0)}),u&&zw(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TB(e,t,n){const r=ie(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Je(Q.comparator);o=o.insert(s,zt.newNoDocument(s,re.min()));const a=ue().add(s),l=new Og(re.min(),new Map,new Je(we),o,a);await Kj(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Hw(r)}else await Bv(r.localStore,t,!1).then(()=>Hv(r,t,n)).catch(ld)}async function bB(e,t){const n=ie(e),r=t.batch.batchId;try{const i=await Uz(n.localStore,t);Yj(n,r,null),Qj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fd(n,i)}catch(i){await ld(i)}}async function kB(e,t,n){const r=ie(e);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>($e(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,t);Yj(r,t,n),Qj(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fd(r,i)}catch(i){await ld(i)}}function Qj(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Yj(e,t,n){const r=ie(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Hv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Xj(e,r)})}function Xj(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Fj(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Hw(e))}function mT(e,t,n){for(const r of n)r instanceof qj?(e.wa.addReference(r.key,t),CB(e,r)):r instanceof Gj?(W("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Xj(e,r.key)):te()}function CB(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(W("SyncEngine","New document in limbo: "+n),e.ga.add(r),Hw(e))}function Hw(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Q(Fe.fromString(t)),r=e.Da.next();e.ya.set(r,new xB(n)),e.pa=e.pa.insert(n,r),Vj(e.remoteStore,new Ki(Nr(Rg(n.path)),r,"TargetPurposeLimboResolution",Ew._e))}}async function fd(e,t,n){const r=ie(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Nw.Qi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const d=ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>$.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!cd(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);d.ts=d.ts.insert(f,y)}}}(r.localStore,s))}async function AB(e,t){const n=ie(e);if(!n.currentUser.isEqual(t)){W("SyncEngine","User change. New user:",t.toKey());const r=await Mj(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new z(A.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await fd(n,r._s)}}function PB(e,t){const n=ie(e),r=n.ya.get(t);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function RB(e){const t=ie(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TB.bind(null,t),t.Va.a_=gB.bind(null,t.eventManager),t.Va.Fa=mB.bind(null,t.eventManager),t}function jB(e){const t=ie(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kB.bind(null,t),t}class yT{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Lg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Fz(this.persistence,new Dz,t.initialUser,this.serializer)}createPersistence(t){return new Mz($w.jr,this.serializer)}createSharedClientState(t){return new Gz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $B{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,this.syncEngine),await hB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new pB}()}createDatastore(t){const n=Lg(t.databaseInfo.databaseId),r=function(s){return new Xz(s)}(t.databaseInfo);return function(s,o,a,l){return new eB(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new nB(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>gT(this.syncEngine,n,0),function(){return hT.D()?new hT:new Kz}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,d){const h=new wB(i,s,o,a,l,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ie(n);W("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await hd(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):xi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=ZR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Vw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function S0(e,t){e.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mj(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await OB(e);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>fT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>fT(t.remoteStore,s)),e._onlineComponents=t}function MB(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function OB(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await S0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!MB(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await S0(e,new yT)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await S0(e,new yT);return e._offlineComponents}async function Jj(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await vT(e,e._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await vT(e,new $B))),e._onlineComponents}function LB(e){return Jj(e).then(t=>t.syncEngine)}async function ep(e){const t=await Jj(e),n=t.eventManager;return n.onListen=_B.bind(null,t.syncEngine),n.onUnlisten=EB.bind(null,t.syncEngine),n}function DB(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Ww({next:f=>{o.enqueueAndForget(()=>Uw(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new z(A.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new z(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Bw(Rg(a.path),d,{includeMetadataChanges:!0,J_:!0});return Fw(s,h)}(await ep(e),e.asyncQueue,t,n,r)),r.promise}function VB(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Ww({next:f=>{o.enqueueAndForget(()=>Uw(s,h)),f.fromCache&&l.source==="server"?u.reject(new z(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Bw(a,d,{includeMetadataChanges:!0,J_:!0});return Fw(s,h)}(await ep(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(e,t,n){if(!n)throw new z(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function FB(e,t,n,r){if(t===!0&&r===!0)throw new z(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wT(e){if(!Q.isDocumentKey(e))throw new z(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _T(e){if(Q.isDocumentKey(e))throw new z(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":te()}function ar(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new z(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(e);throw new z(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function UB(e,t){if(t<=0)throw new z(A.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new z(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zj((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qw{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new z(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c8;switch(r.type){case"firstParty":return new h8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xT.get(n);r&&(W("ComponentProvider","Removing Datastore"),xT.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ci(this.firestore,t,this._query)}}class Wt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wt(this.firestore,t,this._key)}}class cs extends Ci{constructor(t,n,r){super(t,n,Rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wt(this.firestore,null,new Q(t))}withConverter(t){return new cs(this.firestore,t,this._path)}}function ET(e,t,...n){if(e=Xe(e),e$("collection","path",t),e instanceof qw){const r=Fe.fromString(t,...n);return _T(r),new cs(e,null,r)}{if(!(e instanceof Wt||e instanceof cs))throw new z(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Fe.fromString(t,...n));return _T(r),new cs(e.firestore,null,r)}}function Kh(e,t,...n){if(e=Xe(e),arguments.length===1&&(t=ZR.newId()),e$("doc","path",t),e instanceof qw){const r=Fe.fromString(t,...n);return wT(r),new Wt(e,null,new Q(r))}{if(!(e instanceof Wt||e instanceof cs))throw new z(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Fe.fromString(t,...n));return wT(r),new Wt(e.firestore,e instanceof cs?e.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Lj(this,"async_queue_retry"),this.iu=()=>{const n=_0();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=_0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new ui;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!cd(t))throw t;W("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=Dw.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&te()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function IT(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Eo extends qw{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new zB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t$(this),this._firestoreClient.terminate()}}function BB(e,t,n){n||(n="(default)");const r=fg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(mu(s,t))return i;throw new z(A.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new z(A.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Ug(e){return e._firestoreClient||t$(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function t$(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,d){return new I8(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Zj(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new NB(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ul(Kt.fromBase64String(t))}catch(n){throw new z(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ul(Kt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new z(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new z(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new z(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=/^__.*__$/;class WB{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new As(t,this.data,this.fieldMask,n,this.fieldTransforms):new ud(t,this.data,n,this.fieldTransforms)}}class n${constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new As(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function r$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Bg{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return tp(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(r$(this.Iu)&&HB.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class qB{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Lg(t)}pu(t,n,r,i=!1){return new Bg({Iu:t,methodName:n,gu:r,path:jt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kw(e){const t=e._freezeSettings(),n=Lg(e._databaseId);return new qB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GB(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Qw("Data must be an object, but it was:",o,r);const a=i$(r,o);let l,u;if(s.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Wv(t,h,n);if(!o.contains(f))throw new z(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);o$(d,f)||d.push(f)}l=new En(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new WB(new un(a),l,u)}class Hg extends pd{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hg}}function KB(e,t,n){return new Bg({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class QB extends pd{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=KB(this,t,!0),r=this.yu.map(s=>$l(s,n)),i=new al(r);return new Sj(t.path,i)}isEqual(t){return this===t}}class YB extends pd{constructor(t,n){super(t),this.wu=n}_toFieldTransform(t){const n=new $u(t.serializer,yj(t.serializer,this.wu));return new Sj(t.path,n)}isEqual(t){return this===t}}function XB(e,t,n,r){const i=e.pu(1,t,n);Qw("Data must be an object, but it was:",i,r);const s=[],o=un.empty();Lo(r,(l,u)=>{const d=Yw(t,l,n);u=Xe(u);const h=i.Ru(d);if(u instanceof Hg)s.push(d);else{const f=$l(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new En(s);return new n$(o,a,i.fieldTransforms)}function JB(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[Wv(t,r,n)],l=[i];if(s.length%2!=0)throw new z(A.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wv(t,s[f])),l.push(s[f+1]);const u=[],d=un.empty();for(let f=a.length-1;f>=0;--f)if(!o$(u,a[f])){const p=a[f];let g=l[f];g=Xe(g);const y=o.Ru(p);if(g instanceof Hg)u.push(p);else{const w=$l(g,y);w!=null&&(u.push(p),d.set(p,w))}}const h=new En(u);return new n$(d,h,o.fieldTransforms)}function ZB(e,t,n,r=!1){return $l(n,e.pu(r?4:3,t))}function $l(e,t){if(s$(e=Xe(e)))return Qw("Unsupported field value:",t,e),i$(e,t);if(e instanceof pd)return function(r,i){if(!r$(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$l(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=yt.fromDate(r);return{timestampValue:Jf(i.serializer,s)}}if(r instanceof yt){const s=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(i.serializer,s)}}if(r instanceof Gw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ul)return{bytesValue:Aj(i.serializer,r._byteString)};if(r instanceof Wt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Fg(r)}`)}(e,t)}function i$(e,t){const n={};return ej(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lo(e,(r,i)=>{const s=$l(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function s$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof yt||e instanceof Gw||e instanceof ul||e instanceof Wt||e instanceof pd)}function Qw(e,t,n){if(!s$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fg(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Wv(e,t,n){if((t=Xe(t))instanceof zg)return t._internalPath;if(typeof t=="string")return Yw(e,t);throw tp("Field path arguments must be of type string or ",e,!1,void 0,n)}const e7=new RegExp("[~\\*/\\[\\]]");function Yw(e,t,n){if(t.search(e7)>=0)throw tp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zg(...t.split("."))._internalPath}catch{throw tp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function tp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(A.INVALID_ARGUMENT,a+e+l)}function o$(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t7 extends a${data(){return super.data()}}function Wg(e,t){return typeof t=="string"?Yw(e,t):t instanceof zg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new z(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{}class Jw extends Xw{}function In(e,t,...n){let r=[];t instanceof Xw&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof md).length,a=s.filter(l=>l instanceof gd).length;if(o>1||o>0&&a>0)throw new z(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class gd extends Jw{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new gd(t,n,r)}_apply(t){const n=this._parse(t);return c$(t._query,n),new Ci(t.firestore,t.converter,Dv(t._query,n))}_parse(t){const n=Kw(t.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kT(h,d);const p=[];for(const g of h)p.push(bT(l,s,g));f={arrayValue:{values:p}}}else f=bT(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kT(h,d),f=ZB(a,o,h,d==="in"||d==="not-in");return ut.create(u,d,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function xn(e,t,n){const r=t,i=Wg("where",e);return gd._create(i,r,n)}class md extends Xw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new md(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)c$(o,l),o=Dv(o,l)}(t._query,n),new Ci(t.firestore,t.converter,Dv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TT(...e){return e.forEach(t=>n7("and",t)),md._create("and",e)}class Zw extends Jw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zw(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new z(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(s,o)}(t._query,this._field,this._direction);return new Ci(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Pl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function si(e,t="asc"){const n=t,r=Wg("orderBy",e);return Zw._create(r,n)}class e_ extends Jw{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new e_(t,n,r)}_apply(t){return new Ci(t.firestore,t.converter,Yf(t._query,this._limit,this._limitType))}}function $a(e){return UB("limit",e),e_._create("limit",e,"F")}function bT(e,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new z(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cj(t)&&n.indexOf("/")!==-1)throw new z(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Fe.fromString(n));if(!Q.isDocumentKey(r))throw new z(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GI(e,new Q(r))}if(n instanceof Wt)return GI(e,n._key);throw new z(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(n)}.`)}function kT(e,t){if(!Array.isArray(e)||e.length===0)throw new z(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function c$(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new z(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new z(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function n7(e,t){if(!(t instanceof gd||t instanceof md))throw new z(A.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class r7{convertValue(t,n="none"){switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return at(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw te()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Lo(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Gw(at(t.latitude),at(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Tw(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const n=vs(t);return new yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Fe.fromString(t);$e(Nj(r));const i=new Au(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||xi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class u$ extends a${constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qh extends u${data(t={}){return super.data(t)}}class d${constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Qh(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Qh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Qh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:s7(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(e){e=ar(e,Wt);const t=ar(e.firestore,Eo);return DB(Ug(t),e._key).then(n=>p$(t,e,n))}class t_ extends r7{constructor(t){super(),this.firestore=t}convertBytes(t){return new ul(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Tn(e){e=ar(e,Ci);const t=ar(e.firestore,Eo),n=Ug(t),r=new t_(t);return l$(e._query),VB(n,e._query).then(i=>new d$(t,r,e,i))}function h$(e,t,n){e=ar(e,Wt);const r=ar(e.firestore,Eo),i=i7(e.converter,t,n);return f$(r,[GB(Kw(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Mr.none())])}function a7(e,t,n,...r){e=ar(e,Wt);const i=ar(e.firestore,Eo),s=Kw(i);let o;return o=typeof(t=Xe(t))=="string"||t instanceof zg?JB(s,"updateDoc",e._key,t,n,r):XB(s,"updateDoc",e._key,t),f$(i,[o.toMutation(e._key,Mr.exists(!0))])}function l7(e,...t){var n,r,i;e=Xe(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||IT(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(IT(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(e instanceof Wt)u=ar(e.firestore,Eo),d=Rg(e._key.path),l={next:h=>{t[o]&&t[o](p$(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=ar(e,Ci);u=ar(h.firestore,Eo),d=h._query;const f=new t_(u);l={next:p=>{t[o]&&t[o](new d$(u,f,h,p))},error:t[o+1],complete:t[o+2]},l$(e._query)}return function(f,p,g,y){const w=new Ww(y),m=new Bw(p,w,g);return f.asyncQueue.enqueueAndForget(async()=>Fw(await ep(f),m)),()=>{w.Na(),f.asyncQueue.enqueueAndForget(async()=>Uw(await ep(f),m))}}(Ug(u),d,a,l)}function f$(e,t){return function(r,i){const s=new ui;return r.asyncQueue.enqueueAndForget(async()=>IB(await LB(r),i,s)),s.promise}(Ug(e),t)}function p$(e,t,n){const r=n.docs.get(t._key),i=new t_(e);return new u$(e,i,t._key,r,new wc(n.hasPendingWrites,n.fromCache),t.converter)}function CT(...e){return new QB("arrayUnion",e)}function c7(e){return new YB("increment",e)}(function(t,n=!0){(function(i){Al=i})(Mo),xo(new ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Eo(new u8(r.getProvider("auth-internal")),new p8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$r(BI,"4.4.0",t),$r(BI,"4.4.0","esm2017")})();var u7="firebase",d7="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(u7,d7,"app");function g$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h7=g$,m$=new Ju("auth","Firebase",g$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Jx("@firebase/auth");function f7(e,...t){np.logLevel<=fe.WARN&&np.warn(`Auth (${Mo}): ${e}`,...t)}function Yh(e,...t){np.logLevel<=fe.ERROR&&np.error(`Auth (${Mo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,...t){throw n_(e,...t)}function Lr(e,...t){return n_(e,...t)}function p7(e,t,n){const r=Object.assign(Object.assign({},h7()),{[t]:n});return new Ju("auth","Firebase",r).create(t,{appName:e.name})}function n_(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return m$.create(e,...t)}function ee(e,t,...n){if(!e)throw n_(t,...n)}function oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yh(t),new Error(t)}function _i(e,t){e||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function g7(){return AT()==="http:"||AT()==="https:"}function AT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g7()||VV()||"connection"in navigator)?navigator.onLine:!0}function y7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n){this.shortDelay=t,this.longDelay=n,_i(n>t,"Short delay should be less than long delay!"),this.isMobile=DV()||FV()}get(){return m7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(e,t){_i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=new yd(3e4,6e4);function Ps(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rs(e,t,n,r,i={}){return v$(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zu(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),y$.fetch()(x$(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function v$(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},v7),t);try{const i=new _7(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fh(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw p7(e,d,u);gr(e,d)}}catch(i){if(i instanceof Hr)throw i;gr(e,"network-request-failed",{message:String(i)})}}async function vd(e,t,n,r,i={}){const s=await Rs(e,t,n,r,i);return"mfaPendingCredential"in s&&gr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function x$(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?r_(e.config,i):`${e.config.apiScheme}://${i}`}function w7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _7{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),x7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(e,t,r);return i.customData._tokenResponse=n,i}function PT(e){return e!==void 0&&e.enterprise!==void 0}class S7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return w7(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function E7(e,t){return Rs(e,"GET","/v2/recaptchaConfig",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(e,t){return Rs(e,"POST","/v1/accounts:delete",t)}async function T7(e,t){return Rs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function b7(e,t=!1){const n=Xe(e),r=await n.getIdToken(t),i=i_(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(E0(i.auth_time)),issuedAtTime:Dc(E0(i.iat)),expirationTime:Dc(E0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function E0(e){return Number(e)*1e3}function i_(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=FP(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k7(e){const t=i_(e);return ee(t,"internal-error"),ee(typeof t.exp<"u","internal-error"),ee(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Hr&&C7(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function C7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Nu(e,T7(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?j7(s.providerUserInfo):[],a=R7(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new w$(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function P7(e){const t=Xe(e);await rp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function R7(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function j7(e){return e.map(t=>{var{providerId:n}=t,r=px(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(e,t){const n=await v$(e,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=x$(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y$.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N7(e,t){return Rs(e,"POST","/v2/accounts:revokeToken",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ee(t.idToken,"internal-error"),ee(typeof t.idToken<"u","internal-error"),ee(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k7(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ee(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $7(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mu;return r&&(ee(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){ee(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class io{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=px(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new w$(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,t));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return b7(this,t)}reload(){return P7(this)}_assign(t){this!==t&&(ee(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new io(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Nu(this,I7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:S,isAnonymous:E,providerData:T,stsTokenManager:I}=n;ee(x&&I,t,"internal-error");const k=Mu.fromJSON(this.name,I);ee(typeof x=="string",t,"internal-error"),ji(h,t.name),ji(f,t.name),ee(typeof S=="boolean",t,"internal-error"),ee(typeof E=="boolean",t,"internal-error"),ji(p,t.name),ji(g,t.name),ji(y,t.name),ji(w,t.name),ji(m,t.name),ji(v,t.name);const R=new io({uid:x,auth:t,email:f,emailVerified:S,displayName:h,isAnonymous:E,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:k,createdAt:m,lastLoginAt:v});return T&&Array.isArray(T)&&(R.providerData=T.map(j=>Object.assign({},j))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const s=new io({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await rp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function ai(e){_i(e instanceof Function,"Expected a class definition");let t=RT.get(e);return t?(_i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,RT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_$.type="NONE";const jT=_$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e,t,n){return`firebase:${e}:${t}:${n}`}class Na{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?io._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Na(ai(jT),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ai(jT);const o=Xh(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=io._fromJSON(t,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Na(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Na(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(I$(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(S$(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b$(t))return"Blackberry";if(k$(t))return"Webos";if(s_(t))return"Safari";if((t.includes("chrome/")||E$(t))&&!t.includes("edge/"))return"Chrome";if(T$(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S$(e=Gt()){return/firefox\//i.test(e)}function s_(e=Gt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E$(e=Gt()){return/crios\//i.test(e)}function I$(e=Gt()){return/iemobile/i.test(e)}function T$(e=Gt()){return/android/i.test(e)}function b$(e=Gt()){return/blackberry/i.test(e)}function k$(e=Gt()){return/webos/i.test(e)}function qg(e=Gt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function M7(e=Gt()){var t;return qg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function O7(){return UV()&&document.documentMode===10}function C$(e=Gt()){return qg(e)||T$(e)||k$(e)||b$(e)||/windows phone/i.test(e)||I$(e)}function L7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(e,t=[]){let n;switch(e){case"Browser":n=$T(Gt());break;case"Worker":n=`${$T(Gt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(e,t={}){return Rs(e,"GET","/v2/passwordPolicy",Ps(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=6;class U7{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new D7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Na.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=y7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Xe(t):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ee(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V7(this),n=new U7(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ju("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N7(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&f7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(e){return Xe(e)}class NT{constructor(t){this.auth=t,this.observer=null,this.addObserver=KV(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function P$(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B7().appendChild(r)})}function H7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const W7="https://www.google.com/recaptcha/enterprise.js?render=",q7="recaptcha-enterprise",G7="NO_RECAPTCHA";class K7{constructor(t){this.type=q7,this.auth=Vo(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{E7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new S7(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;PT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(G7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}P$(W7+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function MT(e,t,n,r=!1){const i=new K7(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gv(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await MT(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await MT(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(e,t){const n=fg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mu(s,t??{}))return i;gr(i,"already-initialized")}return n.initialize({options:t})}function Y7(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function X7(e,t,n){const r=Vo(e);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=R$(t),{host:o,port:a}=J7(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z7()}function R$(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function J7(e){const t=R$(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:OT(o)}}}function OT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Z7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}async function eH(e,t){return Rs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(e,t){return vd(e,"POST","/v1/accounts:signInWithPassword",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(e,t){return vd(e,"POST","/v1/accounts:signInWithEmailLink",Ps(e,t))}async function rH(e,t){return vd(e,"POST","/v1/accounts:signInWithEmailLink",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends o_{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ou(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ou(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(t,n,"signInWithPassword",tH);case"emailLink":return nH(t,{email:this._email,oobCode:this._password});default:gr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(t,r,"signUpPassword",eH);case"emailLink":return rH(t,{idToken:n,email:this._email,oobCode:this._password});default:gr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(e,t){return vd(e,"POST","/v1/accounts:signInWithIdp",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="http://localhost";class Io extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Io(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=px(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Io(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ma(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ma(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ma(t,n)}buildRequest(){const t={requestUri:iH,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oH(e){const t=pc(gc(e)).link,n=t?pc(gc(t)).deep_link_id:null,r=pc(gc(e)).deep_link_id;return(r?pc(gc(r)).link:null)||r||n||t||e}class a_{constructor(t){var n,r,i,s,o,a;const l=pc(gc(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=sH((i=l.mode)!==null&&i!==void 0?i:null);ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=oH(t);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(t,n){return Ou._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=a_.parseLink(n);return ee(r,"argument-error"),Ou._fromEmailAndCode(t,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends j${constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends xd{constructor(){super("facebook.com")}static credential(t){return Io._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends xd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Io._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xd{constructor(){super("github.com")}static credential(t){return Io._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zi.credential(t.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends xd{constructor(){super("twitter.com")}static credential(t,n){return Io._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(e,t){return vd(e,"POST","/v1/accounts:signUp",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await io._fromIdTokenResponse(t,r,i),o=LT(r);return new To({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=LT(r);return new To({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function LT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Hr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new ip(t,n,r,i)}}function $$(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(e,s,t,r):s})}async function lH(e,t,n=!1){const r=await Nu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return To._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Nu(e,$$(r,i,t,e),n);ee(s.idToken,r,"internal-error");const o=i_(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(e.uid===a,r,"user-mismatch"),To._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(e,t,n=!1){const r="signIn",i=await $$(e,r,t),s=await To._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function uH(e,t){return N$(Vo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(e){const t=Vo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dH(e,t,n){const r=Vo(e),o=await Gv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&M$(e),l}),a=await To._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function hH(e,t,n){return uH(Xe(e),Nl.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M$(e),r})}function fH(e,t,n,r){return Xe(e).onIdTokenChanged(t,n,r)}function pH(e,t,n){return Xe(e).beforeAuthStateChanged(t,n)}function gH(e,t,n,r){return Xe(e).onAuthStateChanged(t,n,r)}function mH(e){return Xe(e).signOut()}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(){const e=Gt();return s_(e)||qg(e)}const vH=1e3,xH=10;class L$ extends O${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yH()&&L7(),this.fallbackToPolling=C$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);O7()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,xH):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},vH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}L$.type="LOCAL";const wH=L$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D$ extends O${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}D$.type="SESSION";const V$=D$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Gg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _H(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=l_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function EH(e){Dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function IH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TH(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function bH(){return F$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebaseLocalStorageDb",kH=1,op="firebaseLocalStorage",z$="fbase_key";class wd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kg(e,t){return e.transaction([op],t?"readwrite":"readonly").objectStore(op)}function CH(){const e=indexedDB.deleteDatabase(U$);return new wd(e).toPromise()}function Kv(){const e=indexedDB.open(U$,kH);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(op,{keyPath:z$})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(op)?t(r):(r.close(),await CH(),t(await Kv()))})})}async function DT(e,t,n){const r=Kg(e,!0).put({[z$]:t,value:n});return new wd(r).toPromise()}async function AH(e,t){const n=Kg(e,!1).get(t),r=await new wd(n).toPromise();return r===void 0?null:r.value}function VT(e,t){const n=Kg(e,!0).delete(t);return new wd(n).toPromise()}const PH=800,RH=3;class B${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>RH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(bH()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await IH(),!this.activeServiceWorker)return;this.sender=new SH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kv();return await DT(t,sp,"1"),await VT(t,sp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>AH(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Kg(i,!1).getAll();return new wd(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B$.type="LOCAL";const jH=B$;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(e,t){return t?ai(t):(ee(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends o_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ma(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ma(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function NH(e){return N$(e.auth,new c_(e),e.bypassAuthState)}function MH(e){const{auth:t,user:n}=e;return ee(n,t,"internal-error"),cH(n,new c_(e),e.bypassAuthState)}async function OH(e){const{auth:t,user:n}=e;return ee(n,t,"internal-error"),lH(n,new c_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NH;case"linkViaPopup":case"linkViaRedirect":return OH;case"reauthViaPopup":case"reauthViaRedirect":return MH;default:gr(this.auth,"internal-error")}}resolve(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new yd(2e3,1e4);class va extends H${constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ee(t,this.auth,"internal-error"),t}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const t=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LH.get())};t()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="pendingRedirect",Jh=new Map;class VH extends H${constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const r=await FH(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FH(e,t){const n=BH(t),r=zH(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UH(e,t){Jh.set(e._key(),t)}function zH(e){return ai(e._redirectPersistence)}function BH(e){return Xh(DH,e.config.apiKey,e.name)}async function HH(e,t,n=!1){const r=Vo(e),i=$H(r,t),o=await new VH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=10*60*1e3;class qH{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GH(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!W$(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WH&&this.cachedEventUids.clear(),this.cachedEventUids.has(FT(t))}saveEventToCache(t){this.cachedEventUids.add(FT(t)),this.lastProcessedEventTime=Date.now()}}function FT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function W$({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function GH(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W$(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(e,t={}){return Rs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YH=/^https?/;async function XH(e){if(e.config.emulator)return;const{authorizedDomains:t}=await KH(e);for(const n of t)try{if(JH(n))return}catch{}gr(e,"unauthorized-domain")}function JH(e){const t=qv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YH.test(n))return!1;if(QH.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=new yd(3e4,6e4);function UT(){const e=Dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function eW(e){return new Promise((t,n)=>{var r,i,s;function o(){UT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UT(),n(Lr(e,"network-request-failed"))},timeout:ZH.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Dr().gapi)===null||s===void 0)&&s.load)o();else{const a=H7("iframefcb");return Dr()[a]=()=>{gapi.load?o():n(Lr(e,"network-request-failed"))},P$(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Zh=null,t})}let Zh=null;function tW(e){return Zh=Zh||eW(e),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=new yd(5e3,15e3),rW="__/auth/iframe",iW="emulator/auth/iframe",sW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aW(e){const t=e.config;ee(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?r_(t,iW):`https://${e.config.authDomain}/${rW}`,r={apiKey:t.apiKey,appName:e.name,v:Mo},i=oW.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zu(r).slice(1)}`}async function lW(e){const t=await tW(e),n=Dr().gapi;return ee(n,e,"internal-error"),t.open({where:document.body,url:aW(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(e,"network-request-failed"),a=Dr().setTimeout(()=>{s(o)},nW.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uW=500,dW=600,hW="_blank",fW="http://localhost";class zT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pW(e,t,n,r=uW,i=dW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=E$(u)?hW:n),S$(u)&&(t=t||fW,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(M7(u)&&a!=="_self")return gW(t||"",a),new zT(null);const h=window.open(t||"",a,d);ee(h,e,"popup-blocked");try{h.focus()}catch{}return new zT(h)}function gW(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="__/auth/handler",yW="emulator/auth/handler",vW=encodeURIComponent("fac");async function BT(e,t,n,r,i,s){ee(e.config.authDomain,e,"auth-domain-config-required"),ee(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(t instanceof j$){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",GV(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(t instanceof xd){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),u=l?`#${vW}=${encodeURIComponent(l)}`:"";return`${xW(e)}?${Zu(a).slice(1)}${u}`}function xW({config:e}){return e.emulator?r_(e,yW):`https://${e.authDomain}/${mW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="webStorageSupport";class wW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V$,this._completeRedirectFn=HH,this._overrideRedirectResult=UH}async _openPopup(t,n,r,i){var s;_i((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await BT(t,n,r,qv(),i);return pW(t,o,l_())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await BT(t,n,r,qv(),i);return EH(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_i(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await lW(t),r=new qH(t);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(I0,{type:I0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[I0];o!==void 0&&n(!!o),gr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XH(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return C$()||s_()||qg()}}const _W=wW;var HT="@firebase/auth",WT="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function IW(e){xo(new ms("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A$(e)},u=new z7(r,i,s,l);return Y7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),xo(new ms("auth-internal",t=>{const n=Vo(t.getProvider("auth").getImmediate());return(r=>new SW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(HT,WT,EW(e)),$r(HT,WT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=5*60,bW=BP("authIdTokenMaxAge")||TW;let qT=null;const kW=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bW)return;const i=n==null?void 0:n.token;qT!==i&&(qT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CW(e=GP()){const t=fg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Q7(e,{popupRedirectResolver:_W,persistence:[jH,wH,V$]}),r=BP("authTokenSyncURL");if(r){const s=kW(r);pH(n,s,()=>s(n.currentUser)),fH(n,o=>s(o))}const i=UP("auth");return i&&X7(n,`http://${i}`),n}IW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="firebasestorage.googleapis.com",G$="storageBucket",AW=2*60*1e3,PW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Hr{constructor(t,n,r=0){super(T0(t),`Firebase Storage: ${n} (${T0(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return T0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function T0(e){return"storage/"+e}function u_(){const e="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,e)}function RW(e){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function jW(e){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $W(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,e)}function NW(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MW(e){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function OW(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LW(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function DW(e){return new rt(nt.INVALID_URL,"Invalid URL '"+e+"'.")}function VW(e){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function FW(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G$+"' property when initializing the app?")}function UW(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zW(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BW(e){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qv(e){return new rt(nt.INVALID_ARGUMENT,e)}function K$(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function HW(e){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(e,t){return new rt(nt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function rc(e){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=bn.makeFromUrl(t,n)}catch{return new bn(t,"")}if(r.path==="")return r;throw VW(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===q$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${w}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<x.length;S++){const E=x[S],T=E.regex.exec(t);if(T){const I=T[E.indices.bucket];let k=T[E.indices.path];k||(k=""),r=new bn(I,k),E.postModify(r);break}}if(r==null)throw DW(t);return r}}class WW{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,t.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,e(p,l())},w)}function f(){s&&clearTimeout(s)}function p(w,...m){if(u){f();return}if(w){f(),d.call(null,w,...m);return}if(l()||o){f(),d.call(null,w,...m);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function y(w){g||(g=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function GW(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(e){return e!==void 0}function QW(e){return typeof e=="object"&&!Array.isArray(e)}function d_(e){return typeof e=="string"||e instanceof String}function GT(e){return h_()&&e instanceof Blob}function h_(){return typeof Blob<"u"}function KT(e,t,n,r){if(r<t)throw Qv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Qv(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Q$(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(t,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new ph(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===so.NO_ERROR,l=s.getStatus();if(!a||YW(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===so.ABORT;r(!1,new ph(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ph(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());KW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=u_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?K$():LW();o(l)}else{const l=OW();o(l)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=qW(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&GW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function JW(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function ZW(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function eq(e,t){t&&(e["X-Firebase-GMPID"]=t)}function tq(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function nq(e,t,n,r,i,s,o=!0){const a=Q$(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return eq(u,t),JW(u,n),ZW(u,s),tq(u,r),new XW(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iq(...e){const t=rq();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(h_())return new Blob(e);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sq(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(e){if(typeof atob>"u")throw BW("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class b0{constructor(t,n){this.data=t,this.contentType=n||null}}function aq(e,t){switch(e){case Ar.RAW:return new b0(Y$(t));case Ar.BASE64:case Ar.BASE64URL:return new b0(X$(e,t));case Ar.DATA_URL:return new b0(cq(t),uq(t))}throw u_()}function Y$(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function lq(e){let t;try{t=decodeURIComponent(e)}catch{throw Vc(Ar.DATA_URL,"Malformed data URL.")}return Y$(t)}function X$(e,t){switch(e){case Ar.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Vc(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ar.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Vc(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oq(t)}catch(i){throw i.message.includes("polyfill")?i:Vc(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J${constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Vc(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function cq(e){const t=new J$(e);return t.base64?X$(Ar.BASE64,t.rest):lq(t.rest)}function uq(e){return new J$(e).contentType}function dq(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n){let r=0,i="";GT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(GT(this.data_)){const r=this.data_,i=sq(r,t,n);return i===null?null:new Hi(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Hi(r,!0)}}static getBlob(...t){if(h_()){const n=t.map(r=>r instanceof Hi?r.data_:r);return new Hi(iq.apply(null,n))}else{const n=t.map(o=>d_(o)?aq(Ar.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Hi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(e){let t;try{t=JSON.parse(e)}catch{return null}return QW(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function fq(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function e4(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(e,t){return t}class Yt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pq}}let gh=null;function gq(e){return!d_(e)||e.length<2?e:e4(e)}function t4(){if(gh)return gh;const e=[];e.push(new Yt("bucket")),e.push(new Yt("generation")),e.push(new Yt("metageneration")),e.push(new Yt("name","fullPath",!0));function t(s,o){return gq(o)}const n=new Yt("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Yt("size");return i.xform=r,e.push(i),e.push(new Yt("timeCreated")),e.push(new Yt("updated")),e.push(new Yt("md5Hash",null,!0)),e.push(new Yt("cacheControl",null,!0)),e.push(new Yt("contentDisposition",null,!0)),e.push(new Yt("contentEncoding",null,!0)),e.push(new Yt("contentLanguage",null,!0)),e.push(new Yt("contentType",null,!0)),e.push(new Yt("metadata","customMetadata",!0)),gh=e,gh}function mq(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new bn(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function yq(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return mq(r,e),r}function n4(e,t,n){const r=Z$(t);return r===null?null:yq(e,r,n)}function vq(e,t,n,r){const i=Z$(t);if(i===null||!d_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=e.bucket,h=e.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=f_(f,n,r),g=Q$({alt:"media",token:u});return p+g})[0]}function xq(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class r4{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e){if(!e)throw u_()}function wq(e,t){function n(r,i){const s=n4(e,i,t);return i4(s!==null),s}return n}function _q(e,t){function n(r,i){const s=n4(e,i,t);return i4(s!==null),vq(s,i,e.host,e._protocol)}return n}function s4(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=NW():i=$W():n.getStatus()===402?i=jW(e.bucket):n.getStatus()===403?i=MW(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Sq(e){const t=s4(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=RW(e.path)),s.serverResponse=i.serverResponse,s}return n}function Eq(e,t,n){const r=t.fullServerUrl(),i=f_(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new r4(i,s,_q(e,n),o);return a.errorHandler=Sq(t),a}function Iq(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Tq(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Iq(null,t)),r}function bq(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let S=0;S<2;S++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Tq(t,r,i),d=xq(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Hi.getBlob(h,r,f);if(p===null)throw UW();const g={name:u.fullPath},y=f_(s,e.host,e._protocol),w="POST",m=e.maxUploadRetryTime,v=new r4(y,w,wq(e,n),m);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=s4(t),v}class kq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw rc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Cq extends kq{initXhr(){this.xhr_.responseType="text"}}function o4(){return new Cq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this._service=t,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new bo(t,n)}get root(){const t=new bn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e4(this._location.path)}get storage(){return this._service}get parent(){const t=hq(this._location.path);if(t===null)return null;const n=new bn(this._location.bucket,t);return new bo(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw HW(t)}}function Aq(e,t,n){e._throwIfRoot("uploadBytes");const r=bq(e.storage,e._location,t4(),new Hi(t,!0),n);return e.storage.makeRequestWithTokens(r,o4).then(i=>({metadata:i,ref:e}))}function Pq(e){e._throwIfRoot("getDownloadURL");const t=Eq(e.storage,e._location,t4());return e.storage.makeRequestWithTokens(t,o4).then(n=>{if(n===null)throw zW();return n})}function Rq(e,t){const n=fq(e._location.path,t),r=new bn(e._location.bucket,n);return new bo(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(e){return/^[A-Za-z]+:\/\//.test(e)}function $q(e,t){return new bo(e,t)}function a4(e,t){if(e instanceof p_){const n=e;if(n._bucket==null)throw FW();const r=new bo(n,n._bucket);return t!=null?a4(r,t):r}else return t!==void 0?Rq(e,t):e}function Nq(e,t){if(t&&jq(t)){if(e instanceof p_)return $q(e,t);throw Qv("To use ref(service, url), the first argument must be a Storage instance.")}else return a4(e,t)}function QT(e,t){const n=t==null?void 0:t[G$];return n==null?null:bn.makeFromBucketSpec(n,e)}function Mq(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:LV(i,e.app.options.projectId))}class p_{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=q$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AW,this._maxUploadRetryTime=PW,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=QT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,t):this._bucket=QT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new bo(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new WW(K$());{const o=nq(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const YT="@firebase/storage",XT="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="storage";function Oq(e,t,n){return e=Xe(e),Aq(e,t,n)}function Lq(e){return e=Xe(e),Pq(e)}function Dq(e,t){return e=Xe(e),Nq(e,t)}function Vq(e=GP(),t){e=Xe(e);const r=fg(e,l4).getImmediate({identifier:t}),i=MV("storage");return i&&Fq(r,...i),r}function Fq(e,t,n,r={}){Mq(e,t,n,r)}function Uq(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new p_(n,r,i,t,Mo)}function zq(){xo(new ms(l4,Uq,"PUBLIC").setMultipleInstances(!0)),$r(YT,XT,""),$r(YT,XT,"esm2017")}zq();const hn=e=>e.docs.map(t=>t.data());function Qg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Bq={apiKey:"AIzaSyBuDoETyUrO2RCDAlFMsW2uV-QmtCT8t6Y",authDomain:"soundbubble-27737.firebaseapp.com",projectId:"soundbubble-27737",storageBucket:"soundbubble-27737.appspot.com",messagingSenderId:"527274299416",appId:"1:527274299416:web:64b1ac2d05f4262df0736d",measurementId:"G-9TP9PEEV11"},xr=class xr{static get(t){return ET(this.firestore,t)}static getSubCollection(t,n){return ET(xr.firestore,`${t}/${n}`)}static async createUser(t,n){return await dH(this.auth,t,n)}static async setById(t,n,r){const i=await this.get(t),s=Kh(i,n);return await h$(s,r)}static async updateById(t,n,r){const i=await this.get(t),s=Kh(i,n);return await a7(s,r)}static async login(t,n){return await hH(this.auth,t,n)}static async logout(){return await mH(this.auth)}static onAuthStateChanged(t){return gH(this.auth,t)}static async getById(t,n){const r=this.get(t),i=Kh(r,n);return(await o7(i)).data()}static async listenTo(t,n,r,i){const s=[];i&&s.push(i);const o=In(this.get(t),r,...s);return l7(o,l=>{const u=hn(l);console.log("changed data"),n(u)})}static async uploadFile(t,n){const r=Dq(this.storage,`${t}/${n.name+Qg()}`);return await Oq(r,n),await Lq(r)}};xt(xr,"app",qP(Bq)),xt(xr,"auth",CW(xr.app)),xt(xr,"storage",Vq(xr.app)),xt(xr,"firestore",BB(xr.app,{experimentalForceLongPolling:!1}));let ve=xr;const JT=e=>t=>`${e}. Причина: ${t}`,_d={operationFailed:JT("Не удалось выполнить операцию"),loginFailed:JT("Не удалось войти в аккаунт")},wa=class wa{static async getAllSongs(){try{const t=await Tn(this.ref);return hn(t)}catch(t){return console.error(t),[]}}static async getTopSongs(t=10){try{const n=await Tn(In(this.ref,si("listens","desc"),$a(t)));return hn(n)}catch(n){return console.error(n),[]}}static async getSongsByUserId(t){try{const n=await mn.getUserByUid(t);return this.getSongsByUids((n==null?void 0:n.addedSongs)??[])}catch(n){return console.error(n),[]}}};xt(wa,"ref",ve.get("songs")),xt(wa,"getSongByUid",async t=>{try{if(!t)throw new Error(_d.operationFailed("UID must be provided"));return ve.getById("songs",t)}catch{throw new Error("Failed to get song by uid "+t)}}),xt(wa,"getSongsByUids",async(t,n)=>{if(t.length===0)return[];if(n){const i=[];i.push(si("listens","desc"));const s=In(ve.get("songs"),xn("id","in",t),...i),o=await Tn(s);return hn(o)}const r=t.map(i=>wa.getSongByUid(i));return Promise.all(r)});let Rn=wa;const Hq={data:null,error:null,userPlaylists:[]},Wq={fullName:"",email:"",photoURL:void 0,password:""},qq={user:null,error:null,loading:!1,songs:[],playlists:[],similarAuthors:[],similarAuthorsLoading:!0,lastSongPlayed:null,friends:null},g_=10,c4=e=>e?"displayName"in e?e.displayName:"chatName"in e?e.chatName:e.name:"",Yg=e=>"uid"in e?e.uid:e.id,Gq=e=>"photoURL"in e?e.photoURL:"image"in e?e.image:"chatImage"in e?e.chatImage:e.cover,Sd=e=>"isAuthor"in e&&(e!=null&&e.isAuthor)?"author":"displayName"in e&&(e!=null&&e.displayName)?"user":"isAlbum"in e&&(e!=null&&e.isAlbum)?"album":"subscribers"in e&&(e==null?void 0:e.subscribers)!==void 0?"playlist":"song",ZT=(e,t,n,r)=>e.filter(i=>!r(t).includes(n(i))),Si=(e,t)=>{if(!e.length)return"";const n=t??!0,r=e.replace(/\s/g,"").replace(/\$/g,"s").replace(/-/g,"").toLowerCase();return n?r.replace(/[,'._/]/g,""):r},Kq=(e,t)=>{const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})};class ap{static async getTopAuthorSongs(t){try{return t!=null&&t.length?await Rn.getSongsByUids(t,!0):[]}catch(n){throw new Error(n.message)}}static getEntitiesReqs(t){const n={users:mn.getUserByUid,playlists:Ai.getPlaylistByUid,songs:Rn.getSongByUid};return t.map(r=>n[r.place](r.uid))}static async getSearchSuggestions(t,n,r){try{const i=[];r!=null&&r.length&&i.push(xn("place","in",r));const s=In(this.ref,TT(xn("variantsOfName","array-contains",Si(t)),...i),si("rank","desc"),$a(g_)),o=await Tn(s),a=ZT(hn(o),n,l=>l.fullName,l=>l.map(u=>u.fullName));return Kq(a,"fullName")}catch(i){throw new Error(i.message)}}static async getSearchResult(t,n){var r;try{const i=[];n&&i.push(xn("place","==",n)),console.log();const s=In(this.ref,TT(xn("variantsOfName","array-contains",Si(t)),...i),si("rank","desc")),o=await Tn(s),a=ZT(hn(o),[],d=>d.uid,d=>d.map(h=>Yg(h))),l=this.getEntitiesReqs(a);let u=await Promise.all(l);if(Sd(u[0])==="author"&&n!=="users"){const d=await this.getTopAuthorSongs((r=u[0].ownSongs)==null?void 0:r.slice(0,6));u=[...u.slice(0,1),...d,...u.slice(1,u.length)]}return u}catch(i){throw new Error(i.message)}}static async addRankToSuggestion(t){try{return await ve.updateById("search",t,{rank:c7(1)})}catch(n){throw new Error(n.message)}}}xt(ap,"ref",ve.get("search"));const Qq=e=>{const t=Sd(e);return{song:"songs",playlist:"playlists",user:"users"}[t]},Yq=e=>{const t=[],n=c4(e);for(let r=0;r<=n.length;r++){const i=Si(n.substring(0,r));t.push(i)}return{fullName:n,variantsOfName:t,rank:0,uid:Yg(e),place:Qq(e)}};var ac;let Ai=(ac=class{static async addSongToPlaylists(t,n){try{if(!t)throw new Error("Song id not specified");if(!n.length)throw new Error("Playlist ids not specified");const r=n.map(i=>ve.updateById("playlists",i,{songs:CT(t)}));return Promise.all(r)}catch(r){throw new Error(`Failed to add song to playlists ${t}, ${n}, ${r}`)}}static async createPlaylist(t){try{const n=t.image?await ve.uploadFile("songsImages",t.image):"";console.log(n);const r={...t,image:n};console.log(r),await ve.setById("playlists",t.id,r);const i=r.authors.map(s=>ve.updateById("users",s.uid,{ownPlaylists:CT(r.id)}));return await Promise.all(i),await ve.setById("search",r.id,Yq(r)),r}catch{throw new Error("Failed to create playlist")}}},xt(ac,"ref",ve.get("playlists")),xt(ac,"getPlaylistByUid",async t=>{try{if(!t)throw new Error(_d.operationFailed("UID must be provided"));return ve.getById("playlists",t)}catch{throw new Error("Failed to get playlist by uid "+t)}}),xt(ac,"getPlaylistsByUids",async t=>{if(t.length===0)return[];const n=In(ve.get("playlists"),xn("id","in",t)),r=await Tn(n);return hn(r)}),ac);class mn{static createUser({email:t,password:n}){try{return ve.createUser(t,n)}catch(r){console.error(r)}}static async login({email:t,password:n}){try{return ve.login(t,n)}catch(r){console.error(r)}}static async logout(){try{return ve.logout()}catch(t){console.error(t)}}static async getUserByUid(t){try{if(!t)throw new Error(_d.loginFailed("UID must be provided"));return ve.getById("users",t)}catch{throw new Error("Failed to get user by id: "+t)}}static async getUsersByUids(t,n){try{if((t??[]).length===0)return[];const r=[];n&&r.push(si("numberOfListenersPerMonth","desc"));const i=await Tn(In(this.ref,xn("uid","in",t),...r));return hn(i)}catch(r){return console.error(r),[]}}static async getAuthorTopSongs(t,n=3){try{if(t.length===0)return[];const r=await Tn(In(Rn.ref,xn("id","in",t),si("listens","desc"),$a(n)));return hn(r)}catch(r){return console.error(r),[]}}static async getAuthorTopAlbums(t,n=3){try{if(t.length===0)return[];console.log(t);const r=await Tn(In(Ai.ref,xn("id","in",t),$a(n)));return hn(r)}catch(r){return console.error(r),[]}}static async getSimilarAuthorsBySongs(t){try{if(t.length===0)return[];const n=[...new Set(t.flatMap(r=>r.authors.map(i=>i.uid)))];return await this.getUsersByUids(n,!0)}catch(n){return console.error(n),[]}}static async getTopAuthorsByListenings(t=10){try{const n=await Tn(In(this.ref,xn("isAuthor","==",!0),si("numberOfListenersPerMonth","desc"),$a(t)));return hn(n)}catch(n){return console.error(n),[]}}static async listenToUsersChanges(t,n){try{return await ve.listenTo("users",n,xn("uid","in",t),si("online","desc"))}catch{throw new Error("Failed to listen to users changes")}}}xt(mn,"ref",ve.get("users")),xt(mn,"onAuthStateChanged",async t=>{try{return ve.onAuthStateChanged(t)}catch(n){return console.error(n),null}});class m_{static async getSearchHistory(t){try{if(!t)throw new Error("userId is required in getSearchHistory");const n=(await ve.getById("searchHistory",t)).history,r=In(ve.get("search"),xn("uid","in",n.map(o=>o.id))),i=await Tn(r);return hn(i).reverse()}catch(n){return console.error(n),[]}}static async addEntityToSearchHistory(t,n,r,i){try{if(!n)throw new Error("userId is required");if(!r)throw new Error("uid is required");if(!i)throw new Error("place is required");if(t.find(a=>a.uid===r))return;const o=[{id:r,type:i},...t.map(a=>({id:a.uid,type:a.place}))];await ve.updateById("searchHistory",n,{history:o})}catch(s){throw console.error(s),new Error("Failed to add entity to search history")}}}xt(m_,"ref",ve.get("history"));class u4{static async getHistoryByUserId(t){try{const n=await ve.getById("history",t),r=new Set(n.history);return await Rn.getSongsByUids(Array.from(r))}catch{throw new Error("Failed to get history for user")}}}xt(u4,"ref",ve.get("history"));class Xg{static ownChatsQuery(t){return In(this.ref,xn("participants","array-contains",t))}static async getChatsByUserId(t){try{const n=await Tn(this.ownChatsQuery(t)),r=hn(n),i={};let s={};const o={},a=r.map(async l=>{var h,f;const{messages:u,chatData:d}=await this.getChatMessagesByChatId(l.id,"desc",1);s=Object.assign(s,d),i[l.id]=u[0],o[l.id]=(f=((h=u[0])==null?void 0:h.seenBy)??[])!=null&&f.includes(t)?0:1});return await Promise.all(a),{chats:r.sort((l,u)=>{var d,h;return((d=i[u.id])==null?void 0:d.sentTime)-((h=i[l.id])==null?void 0:h.sentTime)}),chatDataObject:s,lastMessages:i,unreadCount:o}}catch{throw new Error("Failed to get chats by user id: "+t)}}static async getChatMessagesByChatId(t,n,r){try{const i=[];r!==void 0&&i.push($a(r));const s=In(ve.getSubCollection("newChats",`${t}/messages`),si("sentTime",n??"asc"),...i),o=await Tn(s),a=hn(o),l=a.map(async d=>[...await Rn.getSongsByUids(d.attachedSongs),...await Ai.getPlaylistsByUids(d.attachedAlbums),...await mn.getUsersByUids(d.attachedAuthors)]),u=(await Promise.all(l)).reduce((d,h)=>(h.forEach(f=>{d["id"in f?f.id:f.uid]=f}),d),{});return{messages:a,chatData:u}}catch{throw new Error("Failed to get messages by chatId id: "+t)}}static async sendMessage(t,n){try{const r=Kh(ve.firestore,`newChats/${t}/messages/${n.id}`);return await h$(r,n)}catch(r){throw new Error("Failed to send message"+r.toString())}}}xt(Xg,"ref",ve.get("newChats"));const Xq=(e,t)=>N({clock:e.failData,source:t,fn:(n,r)=>({...n,error:r}),target:t}),Fo=(e,t)=>N({clock:e.doneData,fn:n=>n,target:t}),d4=(e,t,n)=>N({clock:e.pending,source:t,fn:(r,i)=>({...r,[n??"loading"]:i}),target:t}),Jq=e=>e instanceof Error?e.message:typeof e=="string"?e:"Ошибка",y_=(e,t)=>{try{return e()}catch(n){throw new Error(_d[t](Jq(n)))}},Jg=We(async e=>y_(async()=>{const{email:t,password:n}=e;if(!t||!n)throw new Error(_d.loginFailed("Не указана почта или пароль"));await mn.login(e)},"operationFailed")),Zq=We(()=>y_(async()=>{await mn.logout()},"operationFailed")),v_=We(async e=>y_(async()=>{var r,i;const t=((i=(r=e.data)==null?void 0:r.addedSongs)==null?void 0:i.reverse())??[];return await Rn.getSongsByUids(t)},"operationFailed")),x_=We(async e=>{try{if(!e.data)throw new Error("Failed to load added playlists");return await Ai.getPlaylistsByUids(e.data.ownPlaylists)}catch{throw new Error("Failed to load added playlists")}}),w_=We(async e=>{try{if(!e.data)throw new Error("Failed to load added playlists");return await Ai.getPlaylistsByUids(e.data.addedPlaylists)}catch{throw new Error("Failed to load added playlists")}}),Ed=We(async e=>{var t,n,r;try{const i=await mn.getUserByUid(e),s=(t=i==null?void 0:i.ownSongs)!=null&&t.length?i==null?void 0:i.ownSongs:(i==null?void 0:i.addedSongs)??[],o=(n=i==null?void 0:i.ownPlaylists)!=null&&n.length?i==null?void 0:i.ownPlaylists:(i==null?void 0:i.addedPlaylists)??[],a=await Rn.getSongsByUids(s,!0),l=await Ai.getPlaylistsByUids(o),u=!i.isAuthor&&i.lastSongPlayed?await Rn.getSongByUid(i.lastSongPlayed):null,d=await mn.getUsersByUids((r=i.friends)==null?void 0:r.filter(h=>h.status==="added").map(h=>h.uid));return{user:i,songs:a,playlists:l,lastSongPlayed:u,friends:d}}catch{throw new Error("Failed to get user's page info")}}),__=We(async e=>{try{return await mn.getSimilarAuthorsBySongs(e)}catch{throw new Error("Failed to load similar authors")}}),h4=We(async e=>{var t,n;try{const r=((n=(t=e.data)==null?void 0:t.friends)==null?void 0:n.filter(i=>i.status==="added").map(i=>i.uid))??[];await mn.listenToUsersChanges(r,I_)}catch{throw new Error("Failed to load user friends")}}),f4=We(async e=>{var t;try{const n=(t=e.data)==null?void 0:t.lastSongPlayed;return n?await Rn.getSongByUid(n):null}catch{throw new Error("Failed to load last song played")}}),S_=We(async e=>{var t;try{const n=((t=e.data)==null?void 0:t.addedAuthors)??[];return await mn.getUsersByUids(n)}catch{throw new Error("Failed to load user added authors")}}),p4=We(async e=>{var t;try{const n=(t=e.data)==null?void 0:t.uid;return await m_.getSearchHistory(n)}catch{throw new Error("Failed to load search history")}}),g4=We(async({history:e,userId:t,suggestion:n})=>{await m_.addEntityToSearchHistory(e.slice(0,g_-1),t,n==null?void 0:n.uid,n==null?void 0:n.place)}),E_=V(),it=V(),eG=V(),m4=V(),y4=V(),v4=V(),x4=V(),w4=V(),I_=V(),_4=V(),S4=V(),E4=V(),I4=V(),tG=V(),nG=Vx(),tn=Z(Hq);tn.reset(it);const Yv=Z(Wq);Yv.reset(it);const T4=Z(!0),Lu=Z([]);Lu.reset(it);const b4=Z(null);b4.reset(it);const rG=Z([]);rG.reset(it);const Du=Z([]);Du.reset(it);const T_=Z([]);T_.reset(it);const b_=Z([]);b_.reset(it);const ko=Z([]);ko.reset(it);const Ei=Z(qq).reset(w4);Ei.reset(it);const k4=Z([]);N({clock:tG,source:Yv,fn:(e,{key:t,value:n})=>({...e,[t]:n}),target:Yv});N({clock:_4,target:T4});N({clock:E_,target:Jg});N({clock:it,target:Zq});N({clock:E_,source:tn,fn:e=>({...e,error:null}),target:tn});N({clock:Jg.doneData,source:tn,fn:e=>({...e}),target:tn});N({clock:Jg.failData,source:tn,fn:(e,t)=>({...e,error:t}),target:tn});N({clock:I_,fn:e=>e,target:b_});N({clock:m4,source:tn,fn:(e,t)=>({...e,data:t}),target:[tn,v_,x_,w_,S_,p4,h4,f4]});Fo(v_,Lu);Fo(x_,Du);Fo(f4,b4);Fo(w_,T_);Fo(S_,k4);Fo(p4,ko);N({clock:y4,source:tn,fn:(e,t)=>({...e,logginining:t}),target:tn});N({clock:E4,source:Du,fn:(e,t)=>(console.log(t),[t,...e]),target:Du});N({clock:v4,target:Ed});d4(Ed,Ei,"loading");Xq(Ed,Ei);N({clock:Ed.doneData,source:Ei,fn:(e,t)=>({...e,...t,similarAuthors:[]}),target:Ei});N({clock:x4,target:__});d4(__,Ei,"similarAuthorsLoading");N({clock:__.doneData,source:Ei,fn:(e,t)=>({...e,similarAuthors:t}),target:Ei});N({clock:g4.done,source:ko,filter:(e,{params:t})=>!!t.suggestion&&!e.find(n=>{var r;return n.uid===((r=t.suggestion)==null?void 0:r.uid)}),fn:(e,{params:t})=>[t.suggestion,...e].slice(0,g_),target:ko});N({clock:I4,source:ko,fn:(e,t)=>({history:e,...t}),target:g4});N({clock:S4,source:Lu,fn:(e,t)=>(console.log(e.find(n=>n.id===t.id)),e.find(n=>n.id===t.id)?e.filter(n=>n.id!==t.id):[t,...e]),target:Lu});const Y={useUser:()=>be([tn,T4,Jg.pending]),useSongLibrary:()=>be([Lu,v_.pending]),useOwnPlaylists:()=>be([Du,x_.pending]),useAddedPlaylists:()=>be([T_,w_.pending]),useAddedAuthors:()=>be([k4,S_.pending]),useSearchHistory:()=>be(ko),useUserPage:()=>be([Ei,Ed.pending]),useFriends:()=>be([b_,h4.pending]),events:{login:E_,logout:it,loadSimilarAuthors:x4,createUser:eG,setUser:m4,setLoggining:y4,getUserPage:v4,resetUserPage:w4,updateFriends:I_,setIsLoadingUsers:_4,addSongToLibrary:S4,addOwnPlaylistToLibrary:E4},gates:{useLoadUser:()=>Dx(nG)}};function iG(){var e=arguments.length===2?{source:arguments.length<=0?void 0:arguments[0],timeout:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0],{source:t,timeout:n,target:r=V({name:"target",sid:"-gyhb56"})}=e;if(!ga.unit(t))throw new TypeError("source must be unit from effector");var i=sG(n),s=We({name:"throttle(".concat(t.shortName||t.kind,") effect"),handler:u=>new Promise(d=>setTimeout(d,u))},{name:"timerFx",sid:"-lp5bot"}),o=Z(null,{and:{serialize:"ignore",skipVoid:!1},name:"$payload",sid:"w71tnu"}).on(t,(u,d)=>d),a=V({name:"triggerTick",sid:"-dquigt"}),l=Z(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"e2dxhp"}).on(a,()=>!1).on(r,()=>!0);return N({and:[{clock:t,filter:l,target:a}],or:{sid:"-hifwv4"}}),N({and:[{source:i,clock:a,target:s}],or:{sid:"-h3lgud"}}),N({and:[{source:o,clock:s.done,target:r}],or:{sid:"-h0apa7"}}),r}function sG(e){if(ga.store(e,{sid:"-gj92sk"}))return e;if(typeof e=="number"){if(e<0||!Number.isFinite(e))throw new Error('timeout must be positive number or zero. Received: "'.concat(e,'"'));return Z(e,{and:{name:"$timeout"},sid:"-2ktcsz"})}throw new TypeError('timeout parameter should be number or Store. "'.concat(typeof e,'" was passed'))}const Xs=300,C4=V(),k_=V(),A4=V(),C_=V(),P4=V(),Co=Z([]),Xv=Z(!1);iG(k_,Xs).watch(()=>{A4()});N({clock:C4,source:Co,fn:(e,t)=>[...e,t],target:Co});N({clock:P4,source:Co,fn:()=>[],target:Co});N({clock:k_,target:C_});N({clock:C_,source:Xv,fn:e=>!e,target:Xv});N({clock:A4,source:Co,fn:e=>e.slice(0,-1),target:[Co,C_]});const xe={useModal:()=>be([Co,Xv]),events:{open:C4,back:k_,close:P4}},oG=_.div`
  width: 18px;
  height: 18px;

  svg {
    animation: loadinganim 0.5s infinite linear;
    transform-origin: center center;
    stroke-width: 3;
    width: 18px;
    height: 18px;

    @keyframes loadinganim {
      0% {
        transform: rotate(0);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  }
`,js=()=>c.jsx(oG,{className:"loading",children:c.jsx(j5,{})}),eb=_.div`
    transition: 0.2s transform, 0.2s opacity;
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: top left;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;

    &.show {
        opacity: 1;
        visibility: visible;
        transform: scale(1) translate(-50%, -50%);
    }

    &.hide {
        opacity: 0;
        visibility: hidden;
        transform: scale(0.9) translate(-50%, -50%);
    }
`,ze=({loading:e,children:t,appearance:n="outline",disabled:r,width:i,...s})=>c.jsxs(U,{disabled:r||e,$width:i,color:n==="primary"?"#fff":"",className:`${s.className} ${n}`,...s,children:[c.jsx(eb,{className:e?"show":"hide",children:c.jsx(js,{})}),c.jsx(eb,{className:e?"hide":"show",children:t})]}),aG=()=>c.jsx(C,{width:"100%",d:"column",gap:2}),lG=_.div`
    position: relative;
    width: 100%;

    opacity: ${({$disabled:e})=>e?.4:1};
    pointer-events: ${({$disabled:e})=>e?"none":"all"};
`,R4=_.div`
    position: absolute;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    top: 8px;

    svg {
        width: 18px;
        height: 18px;
        color: ${({theme:e})=>e.colors.textColor};
        opacity: 0.3;
    }

    @media (max-width: 768px) {
        top: 10px;
    }
`,cG=_.div`
    height: fit-content;
    position: relative;
`,uG=_(R4)`
    left: 10px;
`,dG=_(R4)`
    right: 10px;
    cursor: pointer;
    border-radius: 4px;

    &:hover {
        background: ${({theme:e})=>e.colors.hover};
    }
`,A_=_.label`
    font-size: 0.8rem;
    margin-bottom: 4px;
    font-weight: 300;
    display: inline-block;
    width: 100%;
    color: ${({theme:e})=>e.scheme.grey.text};
`,j4=_(A_)`
    margin-bottom: 0;
    margin-top: 4px;
    color: ${({theme:e})=>e.scheme.red.text};
`,$4=_.span`
    color: ${({theme:e})=>e.scheme.red.main};
`,hG=_.input`
    border: none;
    background: ${({theme:e})=>e.colors.input};
    padding: 10px 10px;
    border-radius: ${({theme:e})=>e.borderRadius.big};
    color: ${({theme:e})=>e.colors.textColor};
    height: 40px;
    font-size: 0.9rem;
    font-weight: 200;
    width: 100%;
    border: ${({theme:e,$hasError:t})=>t?`1px solid ${e.scheme.red.text}`:"none"};
    padding-left: ${({$hasIcon:e})=>e?"40px":"14px"};
    padding-right: ${({$hasRightIcon:e})=>e?"40px":"14px"};

    &:disabled {
        background: ${({theme:e})=>e.colors.border};
    }

    @media (max-width: 768px) {
        height: 43px;
        /* border-radius: 10px; */
        font-size: 0.97rem;
    }
`,Mn=b.forwardRef(({icon:e,rightIcon:t,label:n,required:r,error:i,type:s,onRightIconClick:o,...a},l)=>c.jsxs(lG,{$disabled:a.disabled,children:[n&&c.jsxs(A_,{children:[i&&c.jsx(j4,{children:i}),!i&&c.jsxs(c.Fragment,{children:[n," ",c.jsx($4,{children:r?"*":""})]})]}),c.jsxs(cG,{children:[c.jsx(uG,{children:e}),c.jsx(hG,{$hasError:!!i,$hasIcon:!!e,$hasRightIcon:!!t,type:s,required:r,ref:l,...a}),t&&c.jsx(dG,{onClick:o,children:t})]})]}));Mn.displayName="Input";const fG=_.div`
    width: 100%;
    position: relative;
`,pG=_.ul`
    width: 100%;
    background: ${({theme:e})=>e.colors.pageTopButton};
    height: fit-content;
    min-height: 45px;
    max-height: 568px;
    overflow-y: auto;
    padding: 4px;
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    position: absolute;
    transform: translateY(4px);
    display: flex;
    flex-direction: column;
    gap: 4px;
    color: ${({theme:e})=>e.colors.textColor};
    border-top: none;
    z-index: 1;
    box-shadow: ${({theme:e})=>e.colors.shadow};
    animation: appear 0.3s;

    @keyframes appear {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    @media (max-width: 768px) {
        box-shadow: none;
        height: calc(100vh - 240px);
        max-height: none;
        border-radius: 0;
        left: -20px;
        padding: 0 4px;
        width: calc(100% + 40px);
        background: ${({theme:e})=>e.colors.pageBackground};
    }
`,gG=_.li`
    padding: 6px 12px;
    min-height: 52px;
    border-radius: ${({theme:e})=>`calc(${e.borderRadius.mild} - 2px)`};
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    font-weight: 200;
    width: 100%;

    .authors {
        width: fit-content;
        white-space: nowrap;
    }

    &:focus {
        background: ${({theme:e})=>e.colors.hover};
        outline: 1px solid ${({theme:e})=>e.scheme.grey.text};
    }

    @media (hover: hover) {
        &:hover {
            background: ${({theme:e})=>e.colors.hover};
        }

        &.selected {
            &:hover {
                filter: brightness(0.9);
            }
        }
    }

    @media (hover: none) {
        &:active {
            background: ${({theme:e})=>e.colors.hover};
        }
    }

    &.selected {
        background: ${({theme:e})=>e.scheme.blue.transparent};
        font-weight: 400;
    }

    @media (max-width: 768px) {
        padding: 8px 20px;
    }
`,mG=_.div`
    white-space: nowrap;
`,tb=_.div`
    min-width: 30px;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;

    svg {
        color: ${({theme:e})=>e.scheme.grey.text};
        width: 20px;
        height: 20px;
    }

    @media (max-width: 768px) {
        min-width: 20px;
        margin-right: 5px;
    }
`,yG=({item:e,icon:t,isSelected:n,searchHistory:r,disableCopyButton:i,handleSubmitSuggestion:s,handleCopyName:o})=>{const a=e.icon?e.icon:t||c.jsx(bi,{}),l=e.fullName,u=!1,d=h=>{h.stopPropagation(),o(l)};return c.jsxs(gG,{tabIndex:0,className:n?"selected":"",onClick:s,children:[c.jsxs(C,{gap:8,width:"100%",children:[r&&c.jsx(tb,{children:c.jsx(LA,{})}),!r&&!u&&!!a&&c.jsx(tb,{children:a}),c.jsx(C,{d:"column",ai:"flex-start",children:c.jsx(mG,{children:l})})]}),!i&&c.jsx(U,{$width:"42px",onClick:d,children:c.jsx(s5,{size:20})})]})},nb=({suggestions:e,selected:t,isSearchHistory:n,hintIcon:r,disableCopyButton:i,startIndex:s=0,handleCopyName:o,handleSubmit:a})=>e.map((l,u)=>{const d=u+s,h=t!==null&&d===t;return c.jsx(yG,{isSelected:h,item:l,icon:r,searchHistory:n,disableCopyButton:i,handleCopyName:o,handleSubmitSuggestion:()=>a(d)},l.uid)}),N4=(e,t)=>{const n=b.useCallback(r=>{e.current&&!e.current.contains(r.target)&&t()},[t,e]);b.useEffect(()=>(document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}),[n])},vG=({initialValue:e,suggestions:t,historySuggestions:n,areSuggestionsLoading:r,focusOnLoad:i,onChange:s,onSumbit:o})=>{var R;const[a,l]=b.useState(null),[u,d]=b.useState(e),[h,f]=b.useState(n),p=[...h,...t],g=b.useRef(null),[y,w]=b.useState(!1),m=a!==null?(R=p[a])==null?void 0:R.fullName:u;b.useEffect(()=>{if(u===""){f(n);return}f(n.filter(j=>Si(j.fullName).includes(Si(u))))},[n,u]),N4(g,()=>{w(!1)});const v=()=>{var j;s(""),d(""),(j=g.current)==null||j.focus(),w(!0)},x=r?c.jsx(js,{}):u?c.jsx(Ax,{}):null,S=j=>{if(j===null){if(m.length===0)return;o(u,null),w(!1);return}o(p[j].fullName,p[j]),l(null),d(p[j].fullName),w(!1)},E=j=>{const K=j.target.value;s(K),d(K),w(!0),l(null)},T=()=>{w(p.length>0)},I=j=>{var K;d(j),w(!1),(K=g.current)==null||K.focus()},k=j=>{j.key==="ArrowDown"&&(j.preventDefault(),l(K=>{const ae=Math.min(p.length,(K??-1)+1);return ae===p.length?null:ae})),j.key==="ArrowUp"&&(j.preventDefault(),l(K=>{const ae=Math.max(-1,(K??p.length)-1);return ae===-1?null:ae})),j.key==="Enter"&&(j.preventDefault(),S(a))};return b.useEffect(()=>{i&&(g!=null&&g.current)&&g.current.focus()},[i]),{inputValue:u,selectedSuggestion:a,rightIcon:x,showSuggestions:y,allSuggestions:p,visibleSearchHistory:h,ref:g,visibleInputValue:m,handleReset:v,handleFocus:T,handleCopyName:I,handleKeyDown:k,handleSubmit:S,handleChange:E}},M4=e=>{const{selectedSuggestion:t,rightIcon:n,showSuggestions:r,visibleSearchHistory:i,allSuggestions:s,visibleInputValue:o,ref:a,handleSubmit:l,handleChange:u,handleReset:d,handleFocus:h,handleCopyName:f,handleKeyDown:p}=vG(e),{suggestions:g,hintIcon:y,disableCopyButton:w}=e;return c.jsxs(fG,{onKeyDown:p,children:[c.jsx(Mn,{id:"inputsearch",icon:c.jsx(bi,{}),value:o,autoComplete:"off",placeholder:"Search...","aria-autocomplete":"list","aria-controls":"autocomplete-list",onFocus:h,rightIcon:n,ref:a,onRightIconClick:d,enterKeyHint:"done",type:"text",...e,onChange:u}),r&&s.length>0&&c.jsxs(pG,{children:[c.jsx(nb,{suggestions:i,selected:t,handleCopyName:f,handleSubmit:l,isSearchHistory:!0,disableCopyButton:w,hintIcon:y}),c.jsx(nb,{startIndex:i.length,suggestions:g,selected:t,handleCopyName:f,handleSubmit:l,disableCopyButton:w,hintIcon:y})]})]})},xG=e=>{if(e.length===0||!e.includes("@"))return[];const t=[{fullName:"gmail.com"},{fullName:"yahoo.com"},{fullName:"outlook.com"},{fullName:"yandex.ru"},{fullName:"mail.ru"},{fullName:"temp.temp"}],[n,r]=e.split("@");return e.includes("@")?(console.log(r),t.filter(i=>i.fullName.includes(r)).map(i=>({fullName:`${n}@${i.fullName}`,place:"songs",uid:""}))):t.map(i=>({fullName:`${e}@${i}`,place:"songs",uid:""}))},wG=e=>{const{value:t,onChange:n,focusOnLoad:r}=e,i=xG(t);return c.jsx(M4,{suggestions:i,focusOnLoad:r,historySuggestions:[],areSuggestionsLoading:!1,onSumbit:s=>n(s),icon:c.jsx(a5,{}),placeholder:"Enter your email",label:"Email",hintIcon:null,initialValue:t,disableCopyButton:!0,type:"email",autoCapitalize:"false",...e})},_G=e=>{const[t,n]=b.useState("password"),r=t==="password"?c.jsx(E5,{}):c.jsx(I5,{}),i=()=>{n(s=>s==="password"?"text":"password")};return c.jsx(Mn,{label:"Password",placeholder:"Enter password",rightIcon:r,onRightIconClick:i,type:t,icon:c.jsx(L5,{}),...e})},SG=e=>c.jsx(Mn,{...e,type:"date"}),EG=_.div`
    padding: 10px;
    border-radius: 10px;
    width: 100%;
    line-height: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: ${({background:e})=>e};
    color: ${({color:e})=>e};
    font-weight: 300;

    svg {
        width: 22px;
        height: 22px;
    }
`,k0={success:{color:"green",icon:c.jsx(f5,{})},error:{color:"red",icon:c.jsx(OA,{})},warning:{color:"orange",icon:c.jsx(r5,{})},info:{color:"blue",icon:c.jsx(mo,{})},tip:{color:"grey",icon:c.jsx(mo,{})}},P_=({type:e,children:t})=>{const n=Yn(),r=n.scheme[k0[e].color].text;return c.jsxs(EG,{color:r,background:n.scheme[k0[e].color].transparent,children:[k0[e].icon,t]})},IG=_.div`
    display: flex;
    flex-direction: column;
    width: 100%;
`,TG=_.textarea`
    border: none;
    background: ${({theme:e})=>e.colors.input};
    padding: 10px 14px;
    width: 100%;
    resize: none;
    min-height: 40px;
    max-height: 150px;
    outline: none;
    color: ${({theme:e})=>e.colors.textColor};
    font-weight: 300;
    border-radius: ${({theme:e})=>e.borderRadius.big};
    font-size: 0.9rem;
    font-weight: 200;
    line-height: 20px;
`,bG=b.forwardRef(({label:e,onChange:t,error:n,required:r,...i},s)=>{const[o,a]=b.useState("auto"),l=d=>{d.currentTarget.value.length===0?a("auto"):a(`${d.currentTarget.scrollHeight}px`)},u=d=>{t==null||t(d.target.value)};return c.jsxs(IG,{children:[e&&c.jsxs(A_,{children:[n&&c.jsx(j4,{children:n}),!n&&c.jsxs(c.Fragment,{children:[e," ",c.jsx($4,{children:r?"*":""})]})]}),c.jsx(TG,{...i,ref:s,style:{height:o},onKeyDown:l,onKeyUp:l,onChange:u})]})}),kG={email:wG,password:_G,text:Mn,textarea:bG,date:SG,authors:aG},Id=b.forwardRef((e,t)=>{const{fields:n,sumbitError:r,valueObj:i,handleChange:s}=e;return c.jsxs(c.Fragment,{children:[r&&c.jsx(P_,{type:"error",children:r}),n.map(o=>{const a=kG[o.type];return c.jsx(a,{ref:t,required:o.required,value:i[o.id].value,onChange:s(o.id),error:i[o.id].error,label:o.label??void 0,placeholder:o.placeholder},o.id)})]})});Id.displayName="Form";const CG="data:image/svg+xml;base64,PHN2ZyBpZD0i0KHQu9C+0LlfMSIgZGF0YS1uYW1lPSLQodC70L7QuSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMzAyLjMyIDI0Ny4yMSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOnVybCgj0JHQtdC30YvQvNGP0L3QvdGL0Llf0LPRgNCw0LTQuNC10L3Rgl85OCk7fS5jbHMtMntmaWxsOnVybCgj0JHQtdC30YvQvNGP0L3QvdGL0Llf0LPRgNCw0LTQuNC10L3Rgl8yOTcpO30uY2xzLTN7ZmlsbDp1cmwoI9CR0LXQt9GL0LzRj9C90L3Ri9C5X9Cz0YDQsNC00LjQtdC90YJfOTMpO30uY2xzLTR7ZmlsbDojZmZmO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0i0JHQtdC30YvQvNGP0L3QvdGL0Llf0LPRgNCw0LTQuNC10L3Rgl85OCIgeDE9IjUwLjg2IiB5MT0iODUuODUiIHgyPSIxNjMuMzMiIHkyPSI4NS44NSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgzNi4xMiAxODUuOCkgcm90YXRlKC0xMDkuNDMpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjM2ZiMWZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZhYWRlIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ItCR0LXQt9GL0LzRj9C90L3Ri9C5X9Cz0YDQsNC00LjQtdC90YJfMjk3IiB4MT0iLTgwLjA1IiB5MT0iMTY1Ljk1IiB4Mj0iLTMyLjIiIHkyPSIxNjUuOTUiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzc2LjQxIDE0Mi4wOCkgcm90YXRlKDUzLjQyKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzI4MzU5MyIvPjxzdG9wIG9mZnNldD0iMC45OSIgc3RvcC1jb2xvcj0iIzdkOGJmZSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSLQkdC10LfRi9C80Y/QvdC90YvQuV/Qs9GA0LDQtNC40LXQvdGCXzkzIiB4MT0iNDcuNzciIHkxPSIxNjQuNTciIHgyPSIzNTAuMDkiIHkyPSIxNjQuNTciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzZmIxZmYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNkNDk0ZmYiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+TG9nbzM8L3RpdGxlPjx0ZXh0IHg9Ii00Ny43NyIgeT0iLTI5LjciLz48Y2lyY2xlIGNsYXNzPSJjbHMtMSIgY3g9IjgxLjQ2IiBjeT0iNTYuMjUiIHI9IjU2LjIzIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSIyMDkuNyIgY3k9IjE5NS45IiByPSIyMy45MyIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTM1MCwxNDkuMTRBNjEuMzksNjEuMzksMCwwLDAsMjkyLjU1LDkwLjlhNjIuNzcsNjIuNzcsMCwwLDAtMTAuMjkuMjUsNTAuNyw1MC43LDAsMCwxLTM5LjQxLTEyLjQ4LDEwMy4zNywxMDMuMzcsMCwwLDAtNjQuNC0yNi4zM0MxMTkuNTksNDkuNjUsNjkuODEsOTcuMTUsNjkuODMsMTU2LjA2QTEwMy42MSwxMDMuNjEsMCwwLDAsNzMsMTgxLjM4YTYuMDYsNi4wNiwwLDAsMS0yLjgzLDYuNzMsNDUuMiw0NS4yLDAsMSwwLDU4LjYyLDY2LjYxLDYuMDcsNi4wNywwLDAsMSw3LTJsLjI3LjFhMTI0LDEyNCwwLDAsMSwyOC4wNywxNS43MSw0My43Myw0My43MywwLDAsMCw2My41Ny0xMy40NSwxMzEuODYsMTMxLjg2LDAsMCwxLDIwLTI2LjI2bC40NS0uNDZhNTEuMjYsNTEuMjYsMCwwLDEsMzguNy0xNS4xOWMuNjksMCwxLjM5LDAsMi4wOCwwQTYxLjIyLDYxLjIyLDAsMCwwLDM1MCwxNDkuMTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDcuNzcgLTI5LjcpIi8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMTY1Ljc4LDEyNy4zM3Y0MS4yMmMwLDcuMjktMy43OCwxMS44OS0xMC43NiwxMi44NmExNS41NiwxNS41NiwwLDAsMS0xMS41NC0yLjVjLTYtNC4yNi02LTExLjg2LS4wNi0xNi4xM2ExNS40MywxNS40MywwLDAsMSwxMi44Ny0yLjMzYy40NS4xMS45LjE4LDEuNjEuMzJWMTE3LjQ1YzAtMi45MS42MS0zLjcsMy4zLTQuMjZsMTUuMTMtMy4yYzIuMjktLjQ4LDMsLjA2LDMsMi40M3EwLDQuNDgsMCw5YzAsMi4zMS0uOCwzLjIxLTMsMy42OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00Ny43NyAtMjkuNykiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0xODguNTksMTg2LjgzVjE0My40NmMwLTMsLjM5LTMuNTYsMy4yOS00LjE5cTcuNzQtMS42OCwxNS41MS0zLjI4YzEuODYtLjM4LDIuNDcuMTMsMi40OSwyLjEuMDUsMy4yNywwLDYuNTQsMCw5LjgxYTIuODQsMi44NCwwLDAsMS0yLjU3LDMuMTNjLTIuOTUuNi01Ljg3LDEuNDMtOC44NCwxLjg3LTEuNzkuMjYtMi4wNiwxLjExLTIuMDYsMi43NS4wNiwxMi44LDAsMjUuNiwwLDM4LjQsMCw4Ljg4LTUuOSwxNC40NS0xNC40NywxMy42MmExNS4wNiwxNS4wNiwwLDAsMS04Ljg2LTMuNWMtNC43MS00LjE0LTQuNzQtMTAuNTMsMC0xNC42MiwzLjg4LTMuMzQsOC40Mi0zLjk0LDEzLjI1LTMuMTRDMTg3LDE4Ni41MSwxODcuNjYsMTg2LjY1LDE4OC41OSwxODYuODNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDcuNzcgLTI5LjcpIi8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMjM2LjcyLDEzNy43N1YxNzljMCw3LjI5LTMuNzUsMTEuODQtMTAuNzgsMTIuODNhMTUuMjEsMTUuMjEsMCwwLDEtMTEuODQtMi43NWMtNS41Ni00LjIzLTUuNjEtMTEuNDQsMC0xNS42NGExNS4zLDE1LjMsMCwwLDEsMTMuMzgtMi41Yy4zNy4wOS43Ni4xMiwxLjQ3LjIyVjEyOC4xYzAtMy40My4zOC0zLjg2LDMuNjQtNC41NCw0LjkxLTEsOS44Mi0yLjEsMTQuNzMtMy4xNSwyLjMxLS40OSwyLjkzLDAsMi45NCwyLjQ2cTAsNC40OCwwLDljMCwyLjQtLjY3LDMuMi0yLjk0LDMuNjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDcuNzcgLTI5LjcpIi8+PC9zdmc+",AG=_.div`
    display: flex;
    align-items: center;
    gap: 14px;

    &.appLike {
        background: ${({theme:e})=>e.colors.pageBackground};
        box-shadow: ${({theme:e})=>e.colors.shadow2};
        border-radius: 10px;
        padding: 8px;
        width: ${({size:e})=>e??"30px"};
        height: ${({size:e})=>e??"30px"};
        padding: 10%;
    }
`,PG=_.img`
    width: ${({size:e})=>e??"30px"};
`,RG=_(Br)`
    font-size: 1.1rem;
    font-weight: 300;
    color: ${({theme:e})=>e.colors.textColor};
    opacity: 0.9;
    cursor: pointer;
`,Zg=({size:e,appLike:t,short:n=!1})=>c.jsxs(AG,{size:e,className:`logo ${t?"appLike":""}`,children:[c.jsx(PG,{size:e,src:CG,className:"logo",alt:"Logo"})," ",!n&&c.jsx(RG,{to:"/discover",children:"Soundbubble"})]}),vt=_.span`
    font-size: 0.8rem;
    font-weight: 300;
    color: ${({theme:e})=>e.colors.textColor};
    opacity: 0.6;
`,jG=e=>e.reduce((t,n)=>(t[n.id]={value:"",error:"",...n},t),{}),$G=e=>Object.keys(e).reduce((t,n)=>(t[n]=e[n].value,t),{}),em=({fields:e,submitErrorMessage:t,handleSubmit:n})=>{const[r,i]=b.useState(),[s,o]=b.useState(jG(e)),a=!Object.keys(s).find(h=>{const{value:f,required:p}=s[h];return f.length===0&&p}),l=()=>{const h={};return Object.keys(s).forEach(f=>{const{value:p,required:g,validation:y,type:w,label:m}=s[f];p.length===0&&g?h[f]=`${s[f].label} is required`:w==="email"&&!/\S+@\S+\.\S+/.test(p)?h[f]=`${m} should be a valid email address`:y&&y(p,m,s)&&(h[f]=y(p,m,s))}),o(f=>{const p={...f};return Object.keys(s).forEach(g=>{p[g].error=h[g]}),p}),Object.keys(h).length!==0},u=()=>{if(i(void 0),!l())try{n==null||n($G(s))}catch(f){i(f instanceof Error?f.message:f)}},d=h=>f=>{i(void 0),o(p=>{var w;const g=typeof f=="string"?f:(w=f==null?void 0:f.target)==null?void 0:w.value,y={...p};return y[h].value=g,y[h].error="",y})};return b.useEffect(()=>{t&&i(t)},[t]),{onSumbit:u,areAllRequiredFieldFilled:a,formProps:{sumbitError:r,fields:e,valueObj:s,handleChange:d}}},NG="/soundbubble-2.0/assets/background-gg0neswU.png",Td=_.div`
    padding: 0 25px;
    gap: 0px;
    display: grid;
    grid-template-rows: 1fr 65px;
    height: 100%;
    width: 100%;
`,MG=_(Td)`
    padding: 0 25px;

    h2 {
        font-weight: 400;
    }

    .logo {
        z-index: 101;
        margin-top: 10px;
    }

    img.background {
        width: 150%;
        top: -40%;
        left: -50%;
        position: absolute;
        z-index: 100;
        opacity: 0.4;
        pointer-events: none;
    }
`;var mh={},Ml={},bd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getColorIndex=e.getColorDiffStatus=e.hexDiff=e.rgbDiff=e.deltaE94=e.rgbToCIELab=e.xyzToCIELab=e.rgbToXyz=e.hslToRgb=e.rgbToHsl=e.rgbToHex=e.hexToRgb=e.defer=e.RSHIFT=e.SIGBITS=e.DELTAE94_DIFF_STATUS=void 0,e.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},e.SIGBITS=5,e.RSHIFT=8-e.SIGBITS;function t(){var g,y,w=new Promise(function(m,v){g=m,y=v});return{resolve:g,reject:y,promise:w}}e.defer=t;function n(g){var y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);return y===null?null:[y[1],y[2],y[3]].map(function(w){return parseInt(w,16)})}e.hexToRgb=n;function r(g,y,w){return"#"+((1<<24)+(g<<16)+(y<<8)+w).toString(16).slice(1,7)}e.rgbToHex=r;function i(g,y,w){g/=255,y/=255,w/=255;var m=Math.max(g,y,w),v=Math.min(g,y,w),x,S,E=(m+v)/2;if(m===v)x=S=0;else{var T=m-v;switch(S=E>.5?T/(2-m-v):T/(m+v),m){case g:x=(y-w)/T+(y<w?6:0);break;case y:x=(w-g)/T+2;break;case w:x=(g-y)/T+4;break}x/=6}return[x,S,E]}e.rgbToHsl=i;function s(g,y,w){var m,v,x;function S(I,k,R){return R<0&&(R+=1),R>1&&(R-=1),R<1/6?I+(k-I)*6*R:R<1/2?k:R<2/3?I+(k-I)*(2/3-R)*6:I}if(y===0)m=v=x=w;else{var E=w<.5?w*(1+y):w+y-w*y,T=2*w-E;m=S(T,E,g+1/3),v=S(T,E,g),x=S(T,E,g-1/3)}return[m*255,v*255,x*255]}e.hslToRgb=s;function o(g,y,w){g/=255,y/=255,w/=255,g=g>.04045?Math.pow((g+.005)/1.055,2.4):g/12.92,y=y>.04045?Math.pow((y+.005)/1.055,2.4):y/12.92,w=w>.04045?Math.pow((w+.005)/1.055,2.4):w/12.92,g*=100,y*=100,w*=100;var m=g*.4124+y*.3576+w*.1805,v=g*.2126+y*.7152+w*.0722,x=g*.0193+y*.1192+w*.9505;return[m,v,x]}e.rgbToXyz=o;function a(g,y,w){var m=95.047,v=100,x=108.883;g/=m,y/=v,w/=x,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116;var S=116*y-16,E=500*(g-y),T=200*(y-w);return[S,E,T]}e.xyzToCIELab=a;function l(g,y,w){var m=o(g,y,w),v=m[0],x=m[1],S=m[2];return a(v,x,S)}e.rgbToCIELab=l;function u(g,y){var w=1,m=1,v=1,x=g[0],S=g[1],E=g[2],T=y[0],I=y[1],k=y[2],R=x-T,j=S-I,K=E-k,ae=Math.sqrt(S*S+E*E),se=Math.sqrt(I*I+k*k),le=T-x,he=se-ae,J=Math.sqrt(R*R+j*j+K*K),Te=Math.sqrt(J)>Math.sqrt(Math.abs(le))+Math.sqrt(Math.abs(he))?Math.sqrt(J*J-le*le-he*he):0,L=1+.045*ae,H=1+.015*ae;return le/=w,he/=m*L,Te/=v*H,Math.sqrt(le*le+he*he+Te*Te)}e.deltaE94=u;function d(g,y){var w=l.apply(void 0,g),m=l.apply(void 0,y);return u(w,m)}e.rgbDiff=d;function h(g,y){var w=n(g),m=n(y);return d(w,m)}e.hexDiff=h;function f(g){return g<e.DELTAE94_DIFF_STATUS.NA?"N/A":g<=e.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":g<=e.DELTAE94_DIFF_STATUS.CLOSE?"Close":g<=e.DELTAE94_DIFF_STATUS.GOOD?"Good":g<e.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}e.getColorDiffStatus=f;function p(g,y,w){return(g<<2*e.SIGBITS)+(y<<e.SIGBITS)+w}e.getColorIndex=p})(bd);function OG(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var O4=OG;function LG(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var DG=LG,VG=DG,FG=VG(),UG=FG;function zG(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var BG=zG,HG=typeof _e=="object"&&_e&&_e.Object===Object&&_e,L4=HG,WG=L4,qG=typeof self=="object"&&self&&self.Object===Object&&self,GG=WG||qG||Function("return this")(),Wr=GG,KG=Wr,QG=KG.Symbol,kd=QG,rb=kd,D4=Object.prototype,YG=D4.hasOwnProperty,XG=D4.toString,ic=rb?rb.toStringTag:void 0;function JG(e){var t=YG.call(e,ic),n=e[ic];try{e[ic]=void 0;var r=!0}catch{}var i=XG.call(e);return r&&(t?e[ic]=n:delete e[ic]),i}var ZG=JG,eK=Object.prototype,tK=eK.toString;function nK(e){return tK.call(e)}var rK=nK,ib=kd,iK=ZG,sK=rK,oK="[object Null]",aK="[object Undefined]",sb=ib?ib.toStringTag:void 0;function lK(e){return e==null?e===void 0?aK:oK:sb&&sb in Object(e)?iK(e):sK(e)}var Cd=lK;function cK(e){return e!=null&&typeof e=="object"}var Uo=cK,uK=Cd,dK=Uo,hK="[object Arguments]";function fK(e){return dK(e)&&uK(e)==hK}var pK=fK,ob=pK,gK=Uo,V4=Object.prototype,mK=V4.hasOwnProperty,yK=V4.propertyIsEnumerable,vK=ob(function(){return arguments}())?ob:function(e){return gK(e)&&mK.call(e,"callee")&&!yK.call(e,"callee")},F4=vK,xK=Array.isArray,qr=xK,lp={exports:{}};function wK(){return!1}var _K=wK;lp.exports;(function(e,t){var n=Wr,r=_K,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(lp,lp.exports);var R_=lp.exports,SK=9007199254740991,EK=/^(?:0|[1-9]\d*)$/;function IK(e,t){var n=typeof e;return t=t??SK,!!t&&(n=="number"||n!="symbol"&&EK.test(e))&&e>-1&&e%1==0&&e<t}var j_=IK,TK=9007199254740991;function bK(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=TK}var $_=bK,kK=Cd,CK=$_,AK=Uo,PK="[object Arguments]",RK="[object Array]",jK="[object Boolean]",$K="[object Date]",NK="[object Error]",MK="[object Function]",OK="[object Map]",LK="[object Number]",DK="[object Object]",VK="[object RegExp]",FK="[object Set]",UK="[object String]",zK="[object WeakMap]",BK="[object ArrayBuffer]",HK="[object DataView]",WK="[object Float32Array]",qK="[object Float64Array]",GK="[object Int8Array]",KK="[object Int16Array]",QK="[object Int32Array]",YK="[object Uint8Array]",XK="[object Uint8ClampedArray]",JK="[object Uint16Array]",ZK="[object Uint32Array]",De={};De[WK]=De[qK]=De[GK]=De[KK]=De[QK]=De[YK]=De[XK]=De[JK]=De[ZK]=!0;De[PK]=De[RK]=De[BK]=De[jK]=De[HK]=De[$K]=De[NK]=De[MK]=De[OK]=De[LK]=De[DK]=De[VK]=De[FK]=De[UK]=De[zK]=!1;function eQ(e){return AK(e)&&CK(e.length)&&!!De[kK(e)]}var tQ=eQ;function nQ(e){return function(t){return e(t)}}var N_=nQ,cp={exports:{}};cp.exports;(function(e,t){var n=L4,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(cp,cp.exports);var M_=cp.exports,rQ=tQ,iQ=N_,ab=M_,lb=ab&&ab.isTypedArray,sQ=lb?iQ(lb):rQ,U4=sQ,oQ=BG,aQ=F4,lQ=qr,cQ=R_,uQ=j_,dQ=U4,hQ=Object.prototype,fQ=hQ.hasOwnProperty;function pQ(e,t){var n=lQ(e),r=!n&&aQ(e),i=!n&&!r&&cQ(e),s=!n&&!r&&!i&&dQ(e),o=n||r||i||s,a=o?oQ(e.length,String):[],l=a.length;for(var u in e)(t||fQ.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uQ(u,l)))&&a.push(u);return a}var z4=pQ,gQ=Object.prototype;function mQ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||gQ;return e===n}var O_=mQ;function yQ(e,t){return function(n){return e(t(n))}}var B4=yQ,vQ=B4,xQ=vQ(Object.keys,Object),wQ=xQ,_Q=O_,SQ=wQ,EQ=Object.prototype,IQ=EQ.hasOwnProperty;function TQ(e){if(!_Q(e))return SQ(e);var t=[];for(var n in Object(e))IQ.call(e,n)&&n!="constructor"&&t.push(n);return t}var bQ=TQ;function kQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zo=kQ,CQ=Cd,AQ=zo,PQ="[object AsyncFunction]",RQ="[object Function]",jQ="[object GeneratorFunction]",$Q="[object Proxy]";function NQ(e){if(!AQ(e))return!1;var t=CQ(e);return t==RQ||t==jQ||t==PQ||t==$Q}var H4=NQ,MQ=H4,OQ=$_;function LQ(e){return e!=null&&OQ(e.length)&&!MQ(e)}var tm=LQ,DQ=z4,VQ=bQ,FQ=tm;function UQ(e){return FQ(e)?DQ(e):VQ(e)}var Ad=UQ,zQ=UG,BQ=Ad;function HQ(e,t){return e&&zQ(e,t,BQ)}var WQ=HQ,qQ=tm;function GQ(e,t){return function(n,r){if(n==null)return n;if(!qQ(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var KQ=GQ,QQ=WQ,YQ=KQ,XQ=YQ(QQ),JQ=XQ,ZQ=JQ;function eY(e,t){var n=[];return ZQ(e,function(r,i,s){t(r,i,s)&&n.push(r)}),n}var tY=eY;function nY(){this.__data__=[],this.size=0}var rY=nY;function iY(e,t){return e===t||e!==e&&t!==t}var Pd=iY,sY=Pd;function oY(e,t){for(var n=e.length;n--;)if(sY(e[n][0],t))return n;return-1}var nm=oY,aY=nm,lY=Array.prototype,cY=lY.splice;function uY(e){var t=this.__data__,n=aY(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():cY.call(t,n,1),--this.size,!0}var dY=uY,hY=nm;function fY(e){var t=this.__data__,n=hY(t,e);return n<0?void 0:t[n][1]}var pY=fY,gY=nm;function mY(e){return gY(this.__data__,e)>-1}var yY=mY,vY=nm;function xY(e,t){var n=this.__data__,r=vY(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var wY=xY,_Y=rY,SY=dY,EY=pY,IY=yY,TY=wY;function Ol(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ol.prototype.clear=_Y;Ol.prototype.delete=SY;Ol.prototype.get=EY;Ol.prototype.has=IY;Ol.prototype.set=TY;var rm=Ol,bY=rm;function kY(){this.__data__=new bY,this.size=0}var CY=kY;function AY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var PY=AY;function RY(e){return this.__data__.get(e)}var jY=RY;function $Y(e){return this.__data__.has(e)}var NY=$Y,MY=Wr,OY=MY["__core-js_shared__"],LY=OY,C0=LY,cb=function(){var e=/[^.]+$/.exec(C0&&C0.keys&&C0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DY(e){return!!cb&&cb in e}var VY=DY,FY=Function.prototype,UY=FY.toString;function zY(e){if(e!=null){try{return UY.call(e)}catch{}try{return e+""}catch{}}return""}var W4=zY,BY=H4,HY=VY,WY=zo,qY=W4,GY=/[\\^$.*+?()[\]{}|]/g,KY=/^\[object .+?Constructor\]$/,QY=Function.prototype,YY=Object.prototype,XY=QY.toString,JY=YY.hasOwnProperty,ZY=RegExp("^"+XY.call(JY).replace(GY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eX(e){if(!WY(e)||HY(e))return!1;var t=BY(e)?ZY:KY;return t.test(qY(e))}var tX=eX;function nX(e,t){return e==null?void 0:e[t]}var rX=nX,iX=tX,sX=rX;function oX(e,t){var n=sX(e,t);return iX(n)?n:void 0}var Bo=oX,aX=Bo,lX=Wr,cX=aX(lX,"Map"),L_=cX,uX=Bo,dX=uX(Object,"create"),im=dX,ub=im;function hX(){this.__data__=ub?ub(null):{},this.size=0}var fX=hX;function pX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gX=pX,mX=im,yX="__lodash_hash_undefined__",vX=Object.prototype,xX=vX.hasOwnProperty;function wX(e){var t=this.__data__;if(mX){var n=t[e];return n===yX?void 0:n}return xX.call(t,e)?t[e]:void 0}var _X=wX,SX=im,EX=Object.prototype,IX=EX.hasOwnProperty;function TX(e){var t=this.__data__;return SX?t[e]!==void 0:IX.call(t,e)}var bX=TX,kX=im,CX="__lodash_hash_undefined__";function AX(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kX&&t===void 0?CX:t,this}var PX=AX,RX=fX,jX=gX,$X=_X,NX=bX,MX=PX;function Ll(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ll.prototype.clear=RX;Ll.prototype.delete=jX;Ll.prototype.get=$X;Ll.prototype.has=NX;Ll.prototype.set=MX;var OX=Ll,db=OX,LX=rm,DX=L_;function VX(){this.size=0,this.__data__={hash:new db,map:new(DX||LX),string:new db}}var FX=VX;function UX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zX=UX,BX=zX;function HX(e,t){var n=e.__data__;return BX(t)?n[typeof t=="string"?"string":"hash"]:n.map}var sm=HX,WX=sm;function qX(e){var t=WX(this,e).delete(e);return this.size-=t?1:0,t}var GX=qX,KX=sm;function QX(e){return KX(this,e).get(e)}var YX=QX,XX=sm;function JX(e){return XX(this,e).has(e)}var ZX=JX,eJ=sm;function tJ(e,t){var n=eJ(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var nJ=tJ,rJ=FX,iJ=GX,sJ=YX,oJ=ZX,aJ=nJ;function Dl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dl.prototype.clear=rJ;Dl.prototype.delete=iJ;Dl.prototype.get=sJ;Dl.prototype.has=oJ;Dl.prototype.set=aJ;var D_=Dl,lJ=rm,cJ=L_,uJ=D_,dJ=200;function hJ(e,t){var n=this.__data__;if(n instanceof lJ){var r=n.__data__;if(!cJ||r.length<dJ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new uJ(r)}return n.set(e,t),this.size=n.size,this}var fJ=hJ,pJ=rm,gJ=CY,mJ=PY,yJ=jY,vJ=NY,xJ=fJ;function Vl(e){var t=this.__data__=new pJ(e);this.size=t.size}Vl.prototype.clear=gJ;Vl.prototype.delete=mJ;Vl.prototype.get=yJ;Vl.prototype.has=vJ;Vl.prototype.set=xJ;var V_=Vl,wJ="__lodash_hash_undefined__";function _J(e){return this.__data__.set(e,wJ),this}var SJ=_J;function EJ(e){return this.__data__.has(e)}var IJ=EJ,TJ=D_,bJ=SJ,kJ=IJ;function up(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new TJ;++t<n;)this.add(e[t])}up.prototype.add=up.prototype.push=bJ;up.prototype.has=kJ;var CJ=up;function AJ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var PJ=AJ;function RJ(e,t){return e.has(t)}var jJ=RJ,$J=CJ,NJ=PJ,MJ=jJ,OJ=1,LJ=2;function DJ(e,t,n,r,i,s){var o=n&OJ,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=n&LJ?new $J:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var g=e[h],y=t[h];if(r)var w=o?r(y,g,h,t,e,s):r(g,y,h,e,t,s);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!NJ(t,function(m,v){if(!MJ(p,v)&&(g===m||i(g,m,n,r,s)))return p.push(v)})){f=!1;break}}else if(!(g===y||i(g,y,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}var q4=DJ,VJ=Wr,FJ=VJ.Uint8Array,G4=FJ;function UJ(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var zJ=UJ;function BJ(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var HJ=BJ,hb=kd,fb=G4,WJ=Pd,qJ=q4,GJ=zJ,KJ=HJ,QJ=1,YJ=2,XJ="[object Boolean]",JJ="[object Date]",ZJ="[object Error]",eZ="[object Map]",tZ="[object Number]",nZ="[object RegExp]",rZ="[object Set]",iZ="[object String]",sZ="[object Symbol]",oZ="[object ArrayBuffer]",aZ="[object DataView]",pb=hb?hb.prototype:void 0,A0=pb?pb.valueOf:void 0;function lZ(e,t,n,r,i,s,o){switch(n){case aZ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oZ:return!(e.byteLength!=t.byteLength||!s(new fb(e),new fb(t)));case XJ:case JJ:case tZ:return WJ(+e,+t);case ZJ:return e.name==t.name&&e.message==t.message;case nZ:case iZ:return e==t+"";case eZ:var a=GJ;case rZ:var l=r&QJ;if(a||(a=KJ),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=YJ,o.set(e,t);var d=qJ(a(e),a(t),r,i,s,o);return o.delete(e),d;case sZ:if(A0)return A0.call(e)==A0.call(t)}return!1}var cZ=lZ;function uZ(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var K4=uZ,dZ=K4,hZ=qr;function fZ(e,t,n){var r=t(e);return hZ(e)?r:dZ(r,n(e))}var Q4=fZ;function pZ(){return[]}var Y4=pZ,gZ=O4,mZ=Y4,yZ=Object.prototype,vZ=yZ.propertyIsEnumerable,gb=Object.getOwnPropertySymbols,xZ=gb?function(e){return e==null?[]:(e=Object(e),gZ(gb(e),function(t){return vZ.call(e,t)}))}:mZ,F_=xZ,wZ=Q4,_Z=F_,SZ=Ad;function EZ(e){return wZ(e,SZ,_Z)}var X4=EZ,mb=X4,IZ=1,TZ=Object.prototype,bZ=TZ.hasOwnProperty;function kZ(e,t,n,r,i,s){var o=n&IZ,a=mb(e),l=a.length,u=mb(t),d=u.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in t:bZ.call(t,f)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var y=!0;s.set(e,t),s.set(t,e);for(var w=o;++h<l;){f=a[h];var m=e[f],v=t[f];if(r)var x=o?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(!(x===void 0?m===v||i(m,v,n,r,s):x)){y=!1;break}w||(w=f=="constructor")}if(y&&!w){var S=e.constructor,E=t.constructor;S!=E&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(e),s.delete(t),y}var CZ=kZ,AZ=Bo,PZ=Wr,RZ=AZ(PZ,"DataView"),jZ=RZ,$Z=Bo,NZ=Wr,MZ=$Z(NZ,"Promise"),OZ=MZ,LZ=Bo,DZ=Wr,VZ=LZ(DZ,"Set"),FZ=VZ,UZ=Bo,zZ=Wr,BZ=UZ(zZ,"WeakMap"),HZ=BZ,Jv=jZ,Zv=L_,e1=OZ,t1=FZ,n1=HZ,J4=Cd,Fl=W4,yb="[object Map]",WZ="[object Object]",vb="[object Promise]",xb="[object Set]",wb="[object WeakMap]",_b="[object DataView]",qZ=Fl(Jv),GZ=Fl(Zv),KZ=Fl(e1),QZ=Fl(t1),YZ=Fl(n1),zs=J4;(Jv&&zs(new Jv(new ArrayBuffer(1)))!=_b||Zv&&zs(new Zv)!=yb||e1&&zs(e1.resolve())!=vb||t1&&zs(new t1)!=xb||n1&&zs(new n1)!=wb)&&(zs=function(e){var t=J4(e),n=t==WZ?e.constructor:void 0,r=n?Fl(n):"";if(r)switch(r){case qZ:return _b;case GZ:return yb;case KZ:return vb;case QZ:return xb;case YZ:return wb}return t});var om=zs,P0=V_,XZ=q4,JZ=cZ,ZZ=CZ,Sb=om,Eb=qr,Ib=R_,eee=U4,tee=1,Tb="[object Arguments]",bb="[object Array]",yh="[object Object]",nee=Object.prototype,kb=nee.hasOwnProperty;function ree(e,t,n,r,i,s){var o=Eb(e),a=Eb(t),l=o?bb:Sb(e),u=a?bb:Sb(t);l=l==Tb?yh:l,u=u==Tb?yh:u;var d=l==yh,h=u==yh,f=l==u;if(f&&Ib(e)){if(!Ib(t))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new P0),o||eee(e)?XZ(e,t,n,r,i,s):JZ(e,t,l,n,r,i,s);if(!(n&tee)){var p=d&&kb.call(e,"__wrapped__"),g=h&&kb.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,w=g?t.value():t;return s||(s=new P0),i(y,w,n,r,s)}}return f?(s||(s=new P0),ZZ(e,t,n,r,i,s)):!1}var iee=ree,see=iee,Cb=Uo;function Z4(e,t,n,r,i){return e===t?!0:e==null||t==null||!Cb(e)&&!Cb(t)?e!==e&&t!==t:see(e,t,n,r,Z4,i)}var eN=Z4,oee=V_,aee=eN,lee=1,cee=2;function uee(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var h=new oee;if(r)var f=r(u,d,l,e,t,h);if(!(f===void 0?aee(d,u,lee|cee,r,h):f))return!1}}return!0}var dee=uee,hee=zo;function fee(e){return e===e&&!hee(e)}var tN=fee,pee=tN,gee=Ad;function mee(e){for(var t=gee(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,pee(i)]}return t}var yee=mee;function vee(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var nN=vee,xee=dee,wee=yee,_ee=nN;function See(e){var t=wee(e);return t.length==1&&t[0][2]?_ee(t[0][0],t[0][1]):function(n){return n===e||xee(n,e,t)}}var Eee=See,Iee=Cd,Tee=Uo,bee="[object Symbol]";function kee(e){return typeof e=="symbol"||Tee(e)&&Iee(e)==bee}var U_=kee,Cee=qr,Aee=U_,Pee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ree=/^\w*$/;function jee(e,t){if(Cee(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Aee(e)?!0:Ree.test(e)||!Pee.test(e)||t!=null&&e in Object(t)}var z_=jee,rN=D_,$ee="Expected a function";function B_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($ee);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(B_.Cache||rN),n}B_.Cache=rN;var Nee=B_,Mee=Nee,Oee=500;function Lee(e){var t=Mee(e,function(r){return n.size===Oee&&n.clear(),r}),n=t.cache;return t}var Dee=Lee,Vee=Dee,Fee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uee=/\\(\\)?/g,zee=Vee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fee,function(n,r,i,s){t.push(i?s.replace(Uee,"$1"):r||n)}),t}),Bee=zee;function Hee(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Wee=Hee,Ab=kd,qee=Wee,Gee=qr,Kee=U_,Qee=1/0,Pb=Ab?Ab.prototype:void 0,Rb=Pb?Pb.toString:void 0;function iN(e){if(typeof e=="string")return e;if(Gee(e))return qee(e,iN)+"";if(Kee(e))return Rb?Rb.call(e):"";var t=e+"";return t=="0"&&1/e==-Qee?"-0":t}var Yee=iN,Xee=Yee;function Jee(e){return e==null?"":Xee(e)}var Zee=Jee,ete=qr,tte=z_,nte=Bee,rte=Zee;function ite(e,t){return ete(e)?e:tte(e,t)?[e]:nte(rte(e))}var sN=ite,ste=U_,ote=1/0;function ate(e){if(typeof e=="string"||ste(e))return e;var t=e+"";return t=="0"&&1/e==-ote?"-0":t}var am=ate,lte=sN,cte=am;function ute(e,t){t=lte(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[cte(t[n++])];return n&&n==r?e:void 0}var oN=ute,dte=oN;function hte(e,t,n){var r=e==null?void 0:dte(e,t);return r===void 0?n:r}var fte=hte;function pte(e,t){return e!=null&&t in Object(e)}var gte=pte,mte=sN,yte=F4,vte=qr,xte=j_,wte=$_,_te=am;function Ste(e,t,n){t=mte(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=_te(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&wte(i)&&xte(o,i)&&(vte(e)||yte(e)))}var Ete=Ste,Ite=gte,Tte=Ete;function bte(e,t){return e!=null&&Tte(e,t,Ite)}var kte=bte,Cte=eN,Ate=fte,Pte=kte,Rte=z_,jte=tN,$te=nN,Nte=am,Mte=1,Ote=2;function Lte(e,t){return Rte(e)&&jte(t)?$te(Nte(e),t):function(n){var r=Ate(n,e);return r===void 0&&r===t?Pte(n,e):Cte(t,r,Mte|Ote)}}var Dte=Lte;function Vte(e){return e}var H_=Vte;function Fte(e){return function(t){return t==null?void 0:t[e]}}var Ute=Fte,zte=oN;function Bte(e){return function(t){return zte(t,e)}}var Hte=Bte,Wte=Ute,qte=Hte,Gte=z_,Kte=am;function Qte(e){return Gte(e)?Wte(Kte(e)):qte(e)}var Yte=Qte,Xte=Eee,Jte=Dte,Zte=H_,ene=qr,tne=Yte;function nne(e){return typeof e=="function"?e:e==null?Zte:typeof e=="object"?ene(e)?Jte(e[0],e[1]):Xte(e):tne(e)}var rne=nne,ine=O4,sne=tY,one=rne,ane=qr;function lne(e,t){var n=ane(e)?ine:sne;return n(e,one(t))}var cne=lne;Object.defineProperty(Ml,"__esModule",{value:!0});Ml.Swatch=void 0;var jb=bd,une=cne,dne=function(){function e(t,n){this._rgb=t,this._population=n}return e.applyFilter=function(t,n){return typeof n=="function"?une(t,function(r){var i=r.r,s=r.g,o=r.b;return n(i,s,o,255)}):t},Object.defineProperty(e.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hsl",{get:function(){if(!this._hsl){var t=this._rgb,n=t[0],r=t[1],i=t[2];this._hsl=jb.rgbToHsl(n,r,i)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){if(!this._hex){var t=this._rgb,n=t[0],r=t[1],i=t[2];this._hex=jb.rgbToHex(n,r,i)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},e.prototype.getRgb=function(){return this._rgb},e.prototype.getHsl=function(){return this.hsl},e.prototype.getPopulation=function(){return this._population},e.prototype.getHex=function(){return this.hex},e.prototype.getYiq=function(){if(!this._yiq){var t=this._rgb;this._yiq=(t[0]*299+t[1]*587+t[2]*114)/1e3}return this._yiq},Object.defineProperty(e.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),e.prototype.getTitleTextColor=function(){return this.titleTextColor},e.prototype.getBodyTextColor=function(){return this.bodyTextColor},e}();Ml.Swatch=dne;var vh={};function hne(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var fne=hne,pne=Bo,gne=function(){try{var e=pne(Object,"defineProperty");return e({},"",{}),e}catch{}}(),aN=gne,$b=aN;function mne(e,t,n){t=="__proto__"&&$b?$b(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var lN=mne,yne=lN,vne=Pd,xne=Object.prototype,wne=xne.hasOwnProperty;function _ne(e,t,n){var r=e[t];(!(wne.call(e,t)&&vne(r,n))||n===void 0&&!(t in e))&&yne(e,t,n)}var cN=_ne,Sne=cN,Ene=lN;function Ine(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?Ene(n,a,l):Sne(n,a,l)}return n}var lm=Ine,Tne=lm,bne=Ad;function kne(e,t){return e&&Tne(t,bne(t),e)}var Cne=kne;function Ane(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Pne=Ane,Rne=zo,jne=O_,$ne=Pne,Nne=Object.prototype,Mne=Nne.hasOwnProperty;function One(e){if(!Rne(e))return $ne(e);var t=jne(e),n=[];for(var r in e)r=="constructor"&&(t||!Mne.call(e,r))||n.push(r);return n}var Lne=One,Dne=z4,Vne=Lne,Fne=tm;function Une(e){return Fne(e)?Dne(e,!0):Vne(e)}var cm=Une,zne=lm,Bne=cm;function Hne(e,t){return e&&zne(t,Bne(t),e)}var Wne=Hne,dp={exports:{}};dp.exports;(function(e,t){var n=Wr,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=a?a(h):new u.constructor(h);return u.copy(f),f}e.exports=l})(dp,dp.exports);var qne=dp.exports;function Gne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Kne=Gne,Qne=lm,Yne=F_;function Xne(e,t){return Qne(e,Yne(e),t)}var Jne=Xne,Zne=B4,ere=Zne(Object.getPrototypeOf,Object),uN=ere,tre=K4,nre=uN,rre=F_,ire=Y4,sre=Object.getOwnPropertySymbols,ore=sre?function(e){for(var t=[];e;)tre(t,rre(e)),e=nre(e);return t}:ire,dN=ore,are=lm,lre=dN;function cre(e,t){return are(e,lre(e),t)}var ure=cre,dre=Q4,hre=dN,fre=cm;function pre(e){return dre(e,fre,hre)}var gre=pre,mre=Object.prototype,yre=mre.hasOwnProperty;function vre(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&yre.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var xre=vre,Nb=G4;function wre(e){var t=new e.constructor(e.byteLength);return new Nb(t).set(new Nb(e)),t}var W_=wre,_re=W_;function Sre(e,t){var n=t?_re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Ere=Sre,Ire=/\w*$/;function Tre(e){var t=new e.constructor(e.source,Ire.exec(e));return t.lastIndex=e.lastIndex,t}var bre=Tre,Mb=kd,Ob=Mb?Mb.prototype:void 0,Lb=Ob?Ob.valueOf:void 0;function kre(e){return Lb?Object(Lb.call(e)):{}}var Cre=kre,Are=W_;function Pre(e,t){var n=t?Are(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Rre=Pre,jre=W_,$re=Ere,Nre=bre,Mre=Cre,Ore=Rre,Lre="[object Boolean]",Dre="[object Date]",Vre="[object Map]",Fre="[object Number]",Ure="[object RegExp]",zre="[object Set]",Bre="[object String]",Hre="[object Symbol]",Wre="[object ArrayBuffer]",qre="[object DataView]",Gre="[object Float32Array]",Kre="[object Float64Array]",Qre="[object Int8Array]",Yre="[object Int16Array]",Xre="[object Int32Array]",Jre="[object Uint8Array]",Zre="[object Uint8ClampedArray]",eie="[object Uint16Array]",tie="[object Uint32Array]";function nie(e,t,n){var r=e.constructor;switch(t){case Wre:return jre(e);case Lre:case Dre:return new r(+e);case qre:return $re(e,n);case Gre:case Kre:case Qre:case Yre:case Xre:case Jre:case Zre:case eie:case tie:return Ore(e,n);case Vre:return new r;case Fre:case Bre:return new r(e);case Ure:return Nre(e);case zre:return new r;case Hre:return Mre(e)}}var rie=nie,iie=zo,Db=Object.create,sie=function(){function e(){}return function(t){if(!iie(t))return{};if(Db)return Db(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),oie=sie,aie=oie,lie=uN,cie=O_;function uie(e){return typeof e.constructor=="function"&&!cie(e)?aie(lie(e)):{}}var die=uie,hie=om,fie=Uo,pie="[object Map]";function gie(e){return fie(e)&&hie(e)==pie}var mie=gie,yie=mie,vie=N_,Vb=M_,Fb=Vb&&Vb.isMap,xie=Fb?vie(Fb):yie,wie=xie,_ie=om,Sie=Uo,Eie="[object Set]";function Iie(e){return Sie(e)&&_ie(e)==Eie}var Tie=Iie,bie=Tie,kie=N_,Ub=M_,zb=Ub&&Ub.isSet,Cie=zb?kie(zb):bie,Aie=Cie,Pie=V_,Rie=fne,jie=cN,$ie=Cne,Nie=Wne,Mie=qne,Oie=Kne,Lie=Jne,Die=ure,Vie=X4,Fie=gre,Uie=om,zie=xre,Bie=rie,Hie=die,Wie=qr,qie=R_,Gie=wie,Kie=zo,Qie=Aie,Yie=Ad,Xie=cm,Jie=1,Zie=2,ese=4,hN="[object Arguments]",tse="[object Array]",nse="[object Boolean]",rse="[object Date]",ise="[object Error]",fN="[object Function]",sse="[object GeneratorFunction]",ose="[object Map]",ase="[object Number]",pN="[object Object]",lse="[object RegExp]",cse="[object Set]",use="[object String]",dse="[object Symbol]",hse="[object WeakMap]",fse="[object ArrayBuffer]",pse="[object DataView]",gse="[object Float32Array]",mse="[object Float64Array]",yse="[object Int8Array]",vse="[object Int16Array]",xse="[object Int32Array]",wse="[object Uint8Array]",_se="[object Uint8ClampedArray]",Sse="[object Uint16Array]",Ese="[object Uint32Array]",Pe={};Pe[hN]=Pe[tse]=Pe[fse]=Pe[pse]=Pe[nse]=Pe[rse]=Pe[gse]=Pe[mse]=Pe[yse]=Pe[vse]=Pe[xse]=Pe[ose]=Pe[ase]=Pe[pN]=Pe[lse]=Pe[cse]=Pe[use]=Pe[dse]=Pe[wse]=Pe[_se]=Pe[Sse]=Pe[Ese]=!0;Pe[ise]=Pe[fN]=Pe[hse]=!1;function ef(e,t,n,r,i,s){var o,a=t&Jie,l=t&Zie,u=t&ese;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Kie(e))return e;var d=Wie(e);if(d){if(o=zie(e),!a)return Oie(e,o)}else{var h=Uie(e),f=h==fN||h==sse;if(qie(e))return Mie(e,a);if(h==pN||h==hN||f&&!i){if(o=l||f?{}:Hie(e),!a)return l?Die(e,Nie(o,e)):Lie(e,$ie(o,e))}else{if(!Pe[h])return i?e:{};o=Bie(e,h,a)}}s||(s=new Pie);var p=s.get(e);if(p)return p;s.set(e,o),Qie(e)?e.forEach(function(w){o.add(ef(w,t,n,w,e,s))}):Gie(e)&&e.forEach(function(w,m){o.set(m,ef(w,t,n,m,e,s))});var g=u?l?Fie:Vie:l?Xie:Yie,y=d?void 0:g(e);return Rie(y||e,function(w,m){y&&(m=w,w=e[m]),jie(o,m,ef(w,t,n,m,e,s))}),o}var Ise=ef,Tse=Ise,bse=4;function kse(e){return Tse(e,bse)}var Cse=kse,Bb;function Ase(){if(Bb)return vh;Bb=1;var e=_e&&_e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vh,"__esModule",{value:!0});var t=e(_N()),n=Cse,r=function(){function i(s,o){o===void 0&&(o={}),this._src=s,this._opts=o,this._opts.filters=n(t.default.DefaultOpts.filters)}return i.prototype.maxColorCount=function(s){return this._opts.colorCount=s,this},i.prototype.maxDimension=function(s){return this._opts.maxDimension=s,this},i.prototype.addFilter=function(s){return this._opts.filters.push(s),this},i.prototype.removeFilter=function(s){var o=this._opts.filters.indexOf(s);return o>0&&this._opts.filters.splice(o),this},i.prototype.clearFilters=function(){return this._opts.filters=[],this},i.prototype.quality=function(s){return this._opts.quality=s,this},i.prototype.useImageClass=function(s){return this._opts.ImageClass=s,this},i.prototype.useGenerator=function(s){return this._opts.generator=s,this},i.prototype.useQuantizer=function(s){return this._opts.quantizer=s,this},i.prototype.build=function(){return new t.default(this._src,this._opts)},i.prototype.getPalette=function(s){return this.build().getPalette(s)},i.prototype.getSwatches=function(s){return this.build().getPalette(s)},i}();return vh.default=r,vh}var gN={},q_={},G_={};Object.defineProperty(G_,"__esModule",{value:!0});var an=bd,Pse=function(){function e(t,n,r,i,s,o,a){this._volume=-1,this._count=-1,this.dimension={r1:t,r2:n,g1:r,g2:i,b1:s,b2:o},this.hist=a}return e.build=function(t,n){var r=1<<3*an.SIGBITS,i=new Uint32Array(r),s,o,a,l,u,d,h,f,p,g;s=a=u=0,o=l=d=Number.MAX_VALUE;for(var y=t.length/4,w=0;w<y;){var m=w*4;if(w++,h=t[m+0],f=t[m+1],p=t[m+2],g=t[m+3],g!==0){h=h>>an.RSHIFT,f=f>>an.RSHIFT,p=p>>an.RSHIFT;var v=an.getColorIndex(h,f,p);i[v]+=1,h>s&&(s=h),h<o&&(o=h),f>a&&(a=f),f<l&&(l=f),p>u&&(u=p),p<d&&(d=p)}}return new e(o,s,l,a,d,u,i)},e.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},e.prototype.volume=function(){if(this._volume<0){var t=this.dimension,n=t.r1,r=t.r2,i=t.g1,s=t.g2,o=t.b1,a=t.b2;this._volume=(r-n+1)*(s-i+1)*(a-o+1)}return this._volume},e.prototype.count=function(){if(this._count<0){for(var t=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,u=0,d=r;d<=i;d++)for(var h=s;h<=o;h++)for(var f=a;f<=l;f++){var p=an.getColorIndex(d,h,f);u+=t[p]}this._count=u}return this._count},e.prototype.clone=function(){var t=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2;return new e(r,i,s,o,a,l,t)},e.prototype.avg=function(){if(!this._avg){var t=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,u=0,d=1<<8-an.SIGBITS,h=void 0,f=void 0,p=void 0;h=f=p=0;for(var g=r;g<=i;g++)for(var y=s;y<=o;y++)for(var w=a;w<=l;w++){var m=an.getColorIndex(g,y,w),v=t[m];u+=v,h+=v*(g+.5)*d,f+=v*(y+.5)*d,p+=v*(w+.5)*d}u?this._avg=[~~(h/u),~~(f/u),~~(p/u)]:this._avg=[~~(d*(r+i+1)/2),~~(d*(s+o+1)/2),~~(d*(a+l+1)/2)]}return this._avg},e.prototype.contains=function(t){var n=t[0],r=t[1],i=t[2],s=this.dimension,o=s.r1,a=s.r2,l=s.g1,u=s.g2,d=s.b1,h=s.b2;return n>>=an.RSHIFT,r>>=an.RSHIFT,i>>=an.RSHIFT,n>=o&&n<=a&&r>=l&&r<=u&&i>=d&&i<=h},e.prototype.split=function(){var t=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,u=this.count();if(!u)return[];if(u===1)return[this.clone()];var d=i-r+1,h=o-s+1,f=l-a+1,p=Math.max(d,h,f),g=null,y,w;y=w=0;var m=null;if(p===d){m="r",g=new Uint32Array(i+1);for(var v=r;v<=i;v++){y=0;for(var x=s;x<=o;x++)for(var S=a;S<=l;S++){var E=an.getColorIndex(v,x,S);y+=t[E]}w+=y,g[v]=w}}else if(p===h){m="g",g=new Uint32Array(o+1);for(var x=s;x<=o;x++){y=0;for(var v=r;v<=i;v++)for(var S=a;S<=l;S++){var E=an.getColorIndex(v,x,S);y+=t[E]}w+=y,g[x]=w}}else{m="b",g=new Uint32Array(l+1);for(var S=a;S<=l;S++){y=0;for(var v=r;v<=i;v++)for(var x=s;x<=o;x++){var E=an.getColorIndex(v,x,S);y+=t[E]}w+=y,g[S]=w}}for(var T=-1,I=new Uint32Array(g.length),k=0;k<g.length;k++){var R=g[k];T<0&&R>w/2&&(T=k),I[k]=w-R}var j=this;function K(ae){var se=ae+"1",le=ae+"2",he=j.dimension[se],J=j.dimension[le],Te=j.clone(),L=j.clone(),H=T-he,P=J-T;for(H<=P?(J=Math.min(J-1,~~(T+P/2)),J=Math.max(0,J)):(J=Math.max(he,~~(T-1-H/2)),J=Math.min(j.dimension[le],J));!g[J];)J++;for(var D=I[J];!D&&g[J-1];)D=I[--J];return Te.dimension[le]=J,L.dimension[se]=J+1,[Te,L]}return K(m)},e}();G_.default=Pse;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var Rse=function(){function e(t){this._comparator=t,this.contents=[],this._sorted=!1}return e.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},e.prototype.push=function(t){this.contents.push(t),this._sorted=!1},e.prototype.peek=function(t){return this._sort(),t=typeof t=="number"?t:this.contents.length-1,this.contents[t]},e.prototype.pop=function(){return this._sort(),this.contents.pop()},e.prototype.size=function(){return this.contents.length},e.prototype.map=function(t){return this._sort(),this.contents.map(t)},e}();K_.default=Rse;var mN=_e&&_e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(q_,"__esModule",{value:!0});var jse=Ml,$se=mN(G_),Hb=mN(K_),Nse=.75;function Wb(e,t){for(var n=e.size();e.size()<t;){var r=e.pop();if(r&&r.count()>0){var i=r.split(),s=i[0],o=i[1];if(e.push(s),o&&o.count()>0&&e.push(o),e.size()===n)break;n=e.size()}else break}}var Mse=function(e,t){if(e.length===0||t.colorCount<2||t.colorCount>256)throw new Error("Wrong MMCQ parameters");var n=$se.default.build(e),r=n.hist;Object.keys(r).length;var i=new Hb.default(function(o,a){return o.count()-a.count()});i.push(n),Wb(i,Nse*t.colorCount);var s=new Hb.default(function(o,a){return o.count()*o.volume()-a.count()*a.volume()});return s.contents=i.contents,Wb(s,t.colorCount-s.size()),Ose(s)};function Ose(e){for(var t=[];e.size();){var n=e.pop(),r=n.avg();r[0],r[1],r[2],t.push(new jse.Swatch(r,n.count()))}return t}q_.default=Mse;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebWorker=void 0;var t=q_;Object.defineProperty(e,"MMCQ",{enumerable:!0,get:function(){return t.default}}),e.WebWorker=null})(gN);var yN={},Q_={};function Lse(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Dse=Lse,Vse=Dse,qb=Math.max;function Fse(e,t,n){return t=qb(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=qb(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),Vse(e,this,a)}}var Use=Fse;function zse(e){return function(){return e}}var Bse=zse,Hse=Bse,Gb=aN,Wse=H_,qse=Gb?function(e,t){return Gb(e,"toString",{configurable:!0,enumerable:!1,value:Hse(t),writable:!0})}:Wse,Gse=qse,Kse=800,Qse=16,Yse=Date.now;function Xse(e){var t=0,n=0;return function(){var r=Yse(),i=Qse-(r-n);if(n=r,i>0){if(++t>=Kse)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Jse=Xse,Zse=Gse,eoe=Jse,toe=eoe(Zse),noe=toe,roe=H_,ioe=Use,soe=noe;function ooe(e,t){return soe(ioe(e,t,roe),e+"")}var aoe=ooe,loe=Pd,coe=tm,uoe=j_,doe=zo;function hoe(e,t,n){if(!doe(n))return!1;var r=typeof t;return(r=="number"?coe(n)&&uoe(t,n.length):r=="string"&&t in n)?loe(n[t],e):!1}var foe=hoe,poe=aoe,goe=Pd,moe=foe,yoe=cm,vN=Object.prototype,voe=vN.hasOwnProperty,xoe=poe(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&moe(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=yoe(s),a=-1,l=o.length;++a<l;){var u=o[a],d=e[u];(d===void 0||goe(d,vN[u])&&!voe.call(e,u))&&(e[u]=s[u])}return e}),xN=xoe;Object.defineProperty(Q_,"__esModule",{value:!0});var Kr=Ml,Qr=bd,woe=xN,_oe={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function Soe(e){var t=0;return e.forEach(function(n){t=Math.max(t,n.getPopulation())}),t}function Eoe(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}function Ioe(e,t,n,r,i,s,o){function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];for(var h=0,f=0,p=0;p<u.length;p+=2){var g=u[p],y=u[p+1];h+=g*y,f+=y}return h/f}function l(u,d){return 1-Math.abs(u-d)}return a(l(e,t),o.weightSaturation,l(n,r),o.weightLuma,i/s,o.weightPopulation)}function Ko(e,t,n,r,i,s,o,a,l,u){var d=null,h=0;return t.forEach(function(f){var p=f.getHsl(),g=p[1],y=p[2];if(g>=a&&g<=l&&y>=i&&y<=s&&!Eoe(e,f)){var w=Ioe(g,o,y,r,f.getPopulation(),n,u);(d===null||w>h)&&(d=f,h=w)}}),d}function Toe(e,t,n){var r={};return r.Vibrant=Ko(r,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.LightVibrant=Ko(r,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.DarkVibrant=Ko(r,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.Muted=Ko(r,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.LightMuted=Ko(r,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.DarkMuted=Ko(r,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r}function boe(e,t,n){if(e.Vibrant===null&&e.DarkVibrant===null&&e.LightVibrant===null){if(e.DarkVibrant===null&&e.DarkMuted!==null){var r=e.DarkMuted.getHsl(),i=r[0],s=r[1],o=r[2];o=n.targetDarkLuma,e.DarkVibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.LightVibrant===null&&e.LightMuted!==null){var a=e.LightMuted.getHsl(),i=a[0],s=a[1],o=a[2];o=n.targetDarkLuma,e.DarkVibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}}if(e.Vibrant===null&&e.DarkVibrant!==null){var l=e.DarkVibrant.getHsl(),i=l[0],s=l[1],o=l[2];o=n.targetNormalLuma,e.Vibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}else if(e.Vibrant===null&&e.LightVibrant!==null){var u=e.LightVibrant.getHsl(),i=u[0],s=u[1],o=u[2];o=n.targetNormalLuma,e.Vibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.DarkVibrant===null&&e.Vibrant!==null){var d=e.Vibrant.getHsl(),i=d[0],s=d[1],o=d[2];o=n.targetDarkLuma,e.DarkVibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.LightVibrant===null&&e.Vibrant!==null){var h=e.Vibrant.getHsl(),i=h[0],s=h[1],o=h[2];o=n.targetLightLuma,e.LightVibrant=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.Muted===null&&e.Vibrant!==null){var f=e.Vibrant.getHsl(),i=f[0],s=f[1],o=f[2];o=n.targetMutesSaturation,e.Muted=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.DarkMuted===null&&e.DarkVibrant!==null){var p=e.DarkVibrant.getHsl(),i=p[0],s=p[1],o=p[2];o=n.targetMutesSaturation,e.DarkMuted=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}if(e.LightMuted===null&&e.LightVibrant!==null){var g=e.LightVibrant.getHsl(),i=g[0],s=g[1],o=g[2];o=n.targetMutesSaturation,e.LightMuted=new Kr.Swatch(Qr.hslToRgb(i,s,o),0)}}var koe=function(e,t){t=woe({},t,_oe);var n=Soe(e),r=Toe(e,n,t);return boe(r,n,t),r};Q_.default=koe;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Q_;Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return t.default}})})(yN);var wN={},Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});function Coe(e,t,n,r){return r>=125&&!(e>250&&t>250&&n>250)}Y_.default=Coe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.combineFilters=void 0;var t=Y_;Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return t.default}});function n(r){return!Array.isArray(r)||r.length===0?null:function(i,s,o,a){if(a===0)return!1;for(var l=0;l<r.length;l++)if(!r[l](i,s,o,a))return!1;return!0}}e.combineFilters=n})(wN);var Kb;function _N(){if(Kb)return mh;Kb=1;var e=_e&&_e.__createBinding||(Object.create?function(f,p,g,y){y===void 0&&(y=g),Object.defineProperty(f,y,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,y){y===void 0&&(y=g),f[y]=p[g]}),t=_e&&_e.__setModuleDefault||(Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p}),n=_e&&_e.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var g in f)g!=="default"&&Object.hasOwnProperty.call(f,g)&&e(p,f,g);return t(p,f),p},r=_e&&_e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(mh,"__esModule",{value:!0});var i=Ml,s=r(Ase()),o=n(bd),a=n(gN),l=n(yN),u=n(wN),d=xN,h=function(){function f(p,g){this._src=p,this.opts=d({},g,f.DefaultOpts),this.opts.combinedFilter=u.combineFilters(this.opts.filters)}return f.from=function(p){return new s.default(p)},f.prototype._process=function(p,g){var y=g.quantizer,w=g.generator;return p.scaleDown(g),p.applyFilter(g.combinedFilter).then(function(m){return y(m.data,g)}).then(function(m){return i.Swatch.applyFilter(m,g.combinedFilter)}).then(function(m){return Promise.resolve(w(m))})},f.prototype.palette=function(){return this.swatches()},f.prototype.swatches=function(){return this._palette},f.prototype.getPalette=function(p){var g=this,y=new this.opts.ImageClass,w=y.load(this._src).then(function(m){return g._process(m,g.opts)}).then(function(m){return g._palette=m,y.remove(),m},function(m){throw y.remove(),m});return p&&w.then(function(m){return p(null,m)},function(m){return p(m)}),w},f.Builder=s.default,f.Quantizer=a,f.Generator=l,f.Filter=u,f.Util=o,f.Swatch=i.Swatch,f.DefaultOpts={colorCount:64,quality:5,generator:l.Default,ImageClass:null,quantizer:a.MMCQ,filters:[u.Default]},f}();return mh.default=h,mh}var X_={},um={};Object.defineProperty(um,"__esModule",{value:!0});um.ImageBase=void 0;var Aoe=function(){function e(){}return e.prototype.scaleDown=function(t){var n=this.getWidth(),r=this.getHeight(),i=1;if(t.maxDimension>0){var s=Math.max(n,r);s>t.maxDimension&&(i=t.maxDimension/s)}else i=1/t.quality;i<1&&this.resize(n*i,r*i,i)},e.prototype.applyFilter=function(t){var n=this.getImageData();if(typeof t=="function")for(var r=n.data,i=r.length/4,s=void 0,o=void 0,a=void 0,l=void 0,u=void 0,d=0;d<i;d++)s=d*4,o=r[s+0],a=r[s+1],l=r[s+2],u=r[s+3],t(o,a,l,u)||(r[s+3]=0);return Promise.resolve(n)},e}();um.ImageBase=Aoe;var Ul={},hp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */hp.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof _e=="object"&&_e;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,d=26,h=38,f=700,p=72,g=128,y="-",w=/^xn--/,m=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-u,E=Math.floor,T=String.fromCharCode,I;function k(P){throw new RangeError(x[P])}function R(P,D){for(var q=P.length,ye=[];q--;)ye[q]=D(P[q]);return ye}function j(P,D){var q=P.split("@"),ye="";q.length>1&&(ye=q[0]+"@",P=q[1]),P=P.replace(v,".");var pe=P.split("."),Ne=R(pe,D).join(".");return ye+Ne}function K(P){for(var D=[],q=0,ye=P.length,pe,Ne;q<ye;)pe=P.charCodeAt(q++),pe>=55296&&pe<=56319&&q<ye?(Ne=P.charCodeAt(q++),(Ne&64512)==56320?D.push(((pe&1023)<<10)+(Ne&1023)+65536):(D.push(pe),q--)):D.push(pe);return D}function ae(P){return R(P,function(D){var q="";return D>65535&&(D-=65536,q+=T(D>>>10&1023|55296),D=56320|D&1023),q+=T(D),q}).join("")}function se(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:l}function le(P,D){return P+22+75*(P<26)-((D!=0)<<5)}function he(P,D,q){var ye=0;for(P=q?E(P/f):P>>1,P+=E(P/D);P>S*d>>1;ye+=l)P=E(P/S);return E(ye+(S+1)*P/(P+h))}function J(P){var D=[],q=P.length,ye,pe=0,Ne=g,Se=p,Be,ht,sn,on,Me,On,Xn,Pi,Os;for(Be=P.lastIndexOf(y),Be<0&&(Be=0),ht=0;ht<Be;++ht)P.charCodeAt(ht)>=128&&k("not-basic"),D.push(P.charCodeAt(ht));for(sn=Be>0?Be+1:0;sn<q;){for(on=pe,Me=1,On=l;sn>=q&&k("invalid-input"),Xn=se(P.charCodeAt(sn++)),(Xn>=l||Xn>E((a-pe)/Me))&&k("overflow"),pe+=Xn*Me,Pi=On<=Se?u:On>=Se+d?d:On-Se,!(Xn<Pi);On+=l)Os=l-Pi,Me>E(a/Os)&&k("overflow"),Me*=Os;ye=D.length+1,Se=he(pe-on,ye,on==0),E(pe/ye)>a-Ne&&k("overflow"),Ne+=E(pe/ye),pe%=ye,D.splice(pe++,0,Ne)}return ae(D)}function Te(P){var D,q,ye,pe,Ne,Se,Be,ht,sn,on,Me,On=[],Xn,Pi,Os,_m;for(P=K(P),Xn=P.length,D=g,q=0,Ne=p,Se=0;Se<Xn;++Se)Me=P[Se],Me<128&&On.push(T(Me));for(ye=pe=On.length,pe&&On.push(y);ye<Xn;){for(Be=a,Se=0;Se<Xn;++Se)Me=P[Se],Me>=D&&Me<Be&&(Be=Me);for(Pi=ye+1,Be-D>E((a-q)/Pi)&&k("overflow"),q+=(Be-D)*Pi,D=Be,Se=0;Se<Xn;++Se)if(Me=P[Se],Me<D&&++q>a&&k("overflow"),Me==D){for(ht=q,sn=l;on=sn<=Ne?u:sn>=Ne+d?d:sn-Ne,!(ht<on);sn+=l)_m=ht-on,Os=l-on,On.push(T(le(on+_m%Os,0))),ht=E(_m/Os);On.push(T(le(ht,0))),Ne=he(q,Pi,ye==pe),q=0,++ye}++q,++D}return On.join("")}function L(P){return j(P,function(D){return w.test(D)?J(D.slice(4).toLowerCase()):D})}function H(P){return j(P,function(D){return m.test(D)?"xn--"+Te(D):D})}if(o={version:"1.4.1",ucs2:{decode:K,encode:ae},decode:J,encode:Te,toASCII:H,toUnicode:L},r&&i)if(e.exports==r)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(r[I]=o[I]);else n.punycode=o})(_e)})(hp,hp.exports);var Poe=hp.exports,Roe=Error,joe=EvalError,$oe=RangeError,Noe=ReferenceError,SN=SyntaxError,Rd=TypeError,Moe=URIError,Ooe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Qb=typeof Symbol<"u"&&Symbol,Loe=Ooe,Doe=function(){return typeof Qb!="function"||typeof Symbol!="function"||typeof Qb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Loe()},R0={__proto__:null,foo:{}},Voe=Object,Foe=function(){return{__proto__:R0}.foo===R0.foo&&!(R0 instanceof Voe)},Uoe="Function.prototype.bind called on incompatible ",zoe=Object.prototype.toString,Boe=Math.max,Hoe="[object Function]",Yb=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var s=0;s<n.length;s+=1)r[s+t.length]=n[s];return r},Woe=function(t,n){for(var r=[],i=n||0,s=0;i<t.length;i+=1,s+=1)r[s]=t[i];return r},qoe=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},Goe=function(t){var n=this;if(typeof n!="function"||zoe.apply(n)!==Hoe)throw new TypeError(Uoe+n);for(var r=Woe(arguments,1),i,s=function(){if(this instanceof i){var d=n.apply(this,Yb(r,arguments));return Object(d)===d?d:this}return n.apply(t,Yb(r,arguments))},o=Boe(0,n.length-r.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+qoe(a,",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},Koe=Goe,J_=Function.prototype.bind||Koe,Qoe=Function.prototype.call,Yoe=Object.prototype.hasOwnProperty,Xoe=J_,Joe=Xoe.call(Qoe,Yoe),ce,Zoe=Roe,eae=joe,tae=$oe,nae=Noe,dl=SN,Oa=Rd,rae=Moe,EN=Function,j0=function(e){try{return EN('"use strict"; return ('+e+").constructor;")()}catch{}},oo=Object.getOwnPropertyDescriptor;if(oo)try{oo({},"")}catch{oo=null}var $0=function(){throw new Oa},iae=oo?function(){try{return arguments.callee,$0}catch{try{return oo(arguments,"callee").get}catch{return $0}}}():$0,Qo=Doe(),sae=Foe(),wt=Object.getPrototypeOf||(sae?function(e){return e.__proto__}:null),ea={},oae=typeof Uint8Array>"u"||!wt?ce:wt(Uint8Array),ao={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ce:ArrayBuffer,"%ArrayIteratorPrototype%":Qo&&wt?wt([][Symbol.iterator]()):ce,"%AsyncFromSyncIteratorPrototype%":ce,"%AsyncFunction%":ea,"%AsyncGenerator%":ea,"%AsyncGeneratorFunction%":ea,"%AsyncIteratorPrototype%":ea,"%Atomics%":typeof Atomics>"u"?ce:Atomics,"%BigInt%":typeof BigInt>"u"?ce:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ce:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ce:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Zoe,"%eval%":eval,"%EvalError%":eae,"%Float32Array%":typeof Float32Array>"u"?ce:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ce:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ce:FinalizationRegistry,"%Function%":EN,"%GeneratorFunction%":ea,"%Int8Array%":typeof Int8Array>"u"?ce:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ce:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qo&&wt?wt(wt([][Symbol.iterator]())):ce,"%JSON%":typeof JSON=="object"?JSON:ce,"%Map%":typeof Map>"u"?ce:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qo||!wt?ce:wt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ce:Promise,"%Proxy%":typeof Proxy>"u"?ce:Proxy,"%RangeError%":tae,"%ReferenceError%":nae,"%Reflect%":typeof Reflect>"u"?ce:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ce:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qo||!wt?ce:wt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qo&&wt?wt(""[Symbol.iterator]()):ce,"%Symbol%":Qo?Symbol:ce,"%SyntaxError%":dl,"%ThrowTypeError%":iae,"%TypedArray%":oae,"%TypeError%":Oa,"%Uint8Array%":typeof Uint8Array>"u"?ce:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ce:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ce:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ce:Uint32Array,"%URIError%":rae,"%WeakMap%":typeof WeakMap>"u"?ce:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ce:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ce:WeakSet};if(wt)try{null.error}catch(e){var aae=wt(wt(e));ao["%Error.prototype%"]=aae}var lae=function e(t){var n;if(t==="%AsyncFunction%")n=j0("async function () {}");else if(t==="%GeneratorFunction%")n=j0("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=j0("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&wt&&(n=wt(i.prototype))}return ao[t]=n,n},Xb={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},jd=J_,fp=Joe,cae=jd.call(Function.call,Array.prototype.concat),uae=jd.call(Function.apply,Array.prototype.splice),Jb=jd.call(Function.call,String.prototype.replace),pp=jd.call(Function.call,String.prototype.slice),dae=jd.call(Function.call,RegExp.prototype.exec),hae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fae=/\\(\\)?/g,pae=function(t){var n=pp(t,0,1),r=pp(t,-1);if(n==="%"&&r!=="%")throw new dl("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new dl("invalid intrinsic syntax, expected opening `%`");var i=[];return Jb(t,hae,function(s,o,a,l){i[i.length]=a?Jb(l,fae,"$1"):o||s}),i},gae=function(t,n){var r=t,i;if(fp(Xb,r)&&(i=Xb[r],r="%"+i[0]+"%"),fp(ao,r)){var s=ao[r];if(s===ea&&(s=lae(r)),typeof s>"u"&&!n)throw new Oa("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new dl("intrinsic "+t+" does not exist!")},zl=function(t,n){if(typeof t!="string"||t.length===0)throw new Oa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Oa('"allowMissing" argument must be a boolean');if(dae(/^%?[^%]*%?$/,t)===null)throw new dl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=pae(t),i=r.length>0?r[0]:"",s=gae("%"+i+"%",n),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],uae(r,cae([0,1],u)));for(var d=1,h=!0;d<r.length;d+=1){var f=r[d],p=pp(f,0,1),g=pp(f,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new dl("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,o="%"+i+"%",fp(ao,o))a=ao[o];else if(a!=null){if(!(f in a)){if(!n)throw new Oa("base intrinsic for "+t+" exists, but the property is not available.");return}if(oo&&d+1>=r.length){var y=oo(a,f);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[f]}else h=fp(a,f),a=a[f];h&&!l&&(ao[o]=a)}}return a},IN={exports:{}},N0,Zb;function Z_(){if(Zb)return N0;Zb=1;var e=zl,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return N0=t,N0}var mae=zl,tf=mae("%Object.getOwnPropertyDescriptor%",!0);if(tf)try{tf([],"length")}catch{tf=null}var TN=tf,ek=Z_(),yae=SN,Yo=Rd,tk=TN,vae=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Yo("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Yo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Yo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Yo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Yo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Yo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!tk&&tk(t,n);if(ek)ek(t,n,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)t[n]=r;else throw new yae("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},r1=Z_(),bN=function(){return!!r1};bN.hasArrayLengthDefineBug=function(){if(!r1)return null;try{return r1([],"length",{value:1}).length!==1}catch{return!0}};var xae=bN,wae=zl,nk=vae,_ae=xae(),rk=TN,ik=Rd,Sae=wae("%Math.floor%"),Eae=function(t,n){if(typeof t!="function")throw new ik("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Sae(n)!==n)throw new ik("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in t&&rk){var o=rk(t,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(_ae?nk(t,"length",n,!0,!0):nk(t,"length",n)),t};(function(e){var t=J_,n=zl,r=Eae,i=Rd,s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||t.call(o,s),l=Z_(),u=n("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var p=a(t,o,arguments);return r(p,1+u(0,f.length-(arguments.length-1)),!0)};var d=function(){return a(t,s,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d})(IN);var Iae=IN.exports,kN=zl,CN=Iae,Tae=CN(kN("String.prototype.indexOf")),bae=function(t,n){var r=kN(t,!!n);return typeof r=="function"&&Tae(t,".prototype.")>-1?CN(r):r};const kae={},Cae=Object.freeze(Object.defineProperty({__proto__:null,default:kae},Symbol.toStringTag,{value:"Module"})),Aae=h3(Cae);var eS=typeof Map=="function"&&Map.prototype,M0=Object.getOwnPropertyDescriptor&&eS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gp=eS&&M0&&typeof M0.get=="function"?M0.get:null,sk=eS&&Map.prototype.forEach,tS=typeof Set=="function"&&Set.prototype,O0=Object.getOwnPropertyDescriptor&&tS?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,mp=tS&&O0&&typeof O0.get=="function"?O0.get:null,ok=tS&&Set.prototype.forEach,Pae=typeof WeakMap=="function"&&WeakMap.prototype,Fc=Pae?WeakMap.prototype.has:null,Rae=typeof WeakSet=="function"&&WeakSet.prototype,Uc=Rae?WeakSet.prototype.has:null,jae=typeof WeakRef=="function"&&WeakRef.prototype,ak=jae?WeakRef.prototype.deref:null,$ae=Boolean.prototype.valueOf,Nae=Object.prototype.toString,Mae=Function.prototype.toString,Oae=String.prototype.match,nS=String.prototype.slice,Qi=String.prototype.replace,Lae=String.prototype.toUpperCase,lk=String.prototype.toLowerCase,AN=RegExp.prototype.test,ck=Array.prototype.concat,Er=Array.prototype.join,Dae=Array.prototype.slice,uk=Math.floor,i1=typeof BigInt=="function"?BigInt.prototype.valueOf:null,L0=Object.getOwnPropertySymbols,s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Qt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hl||!0)?Symbol.toStringTag:null,PN=Object.prototype.propertyIsEnumerable,dk=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function hk(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||AN.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-uk(-e):uk(e);if(r!==e){var i=String(r),s=nS.call(t,i.length+1);return Qi.call(i,n,"$&_")+"."+Qi.call(Qi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qi.call(t,n,"$&_")}var o1=Aae,fk=o1.custom,pk=jN(fk)?fk:null,Vae=function e(t,n,r,i){var s=n||{};if(Li(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Li(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Li(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Li(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Li(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return NN(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?hk(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return a?hk(t,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return a1(t)?"[Array]":"[Object]";var h=rle(s,r);if(typeof i>"u")i=[];else if($N(i,t)>=0)return"[Circular]";function f(se,le,he){if(le&&(i=Dae.call(i),i.push(le)),he){var J={depth:s.depth};return Li(s,"quoteStyle")&&(J.quoteStyle=s.quoteStyle),e(se,J,r+1,i)}return e(se,s,r+1,i)}if(typeof t=="function"&&!gk(t)){var p=Kae(t),g=xh(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+Er.call(g,", ")+" }":"")}if(jN(t)){var y=hl?Qi.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):s1.call(t);return typeof t=="object"&&!hl?sc(y):y}if(ele(t)){for(var w="<"+lk.call(String(t.nodeName)),m=t.attributes||[],v=0;v<m.length;v++)w+=" "+m[v].name+"="+RN(Fae(m[v].value),"double",s);return w+=">",t.childNodes&&t.childNodes.length&&(w+="..."),w+="</"+lk.call(String(t.nodeName))+">",w}if(a1(t)){if(t.length===0)return"[]";var x=xh(t,f);return h&&!nle(x)?"["+l1(x,h)+"]":"[ "+Er.call(x,", ")+" ]"}if(zae(t)){var S=xh(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!PN.call(t,"cause")?"{ ["+String(t)+"] "+Er.call(ck.call("[cause]: "+f(t.cause),S),", ")+" }":S.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Er.call(S,", ")+" }"}if(typeof t=="object"&&o){if(pk&&typeof t[pk]=="function"&&o1)return o1(t,{depth:d-r});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Qae(t)){var E=[];return sk&&sk.call(t,function(se,le){E.push(f(le,t,!0)+" => "+f(se,t))}),mk("Map",gp.call(t),E,h)}if(Jae(t)){var T=[];return ok&&ok.call(t,function(se){T.push(f(se,t))}),mk("Set",mp.call(t),T,h)}if(Yae(t))return D0("WeakMap");if(Zae(t))return D0("WeakSet");if(Xae(t))return D0("WeakRef");if(Hae(t))return sc(f(Number(t)));if(qae(t))return sc(f(i1.call(t)));if(Wae(t))return sc($ae.call(t));if(Bae(t))return sc(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof _e<"u"&&t===_e)return"{ [object globalThis] }";if(!Uae(t)&&!gk(t)){var I=xh(t,f),k=dk?dk(t)===Object.prototype:t instanceof Object||t.constructor===Object,R=t instanceof Object?"":"null prototype",j=!k&&Qt&&Object(t)===t&&Qt in t?nS.call($s(t),8,-1):R?"Object":"",K=k||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ae=K+(j||R?"["+Er.call(ck.call([],j||[],R||[]),": ")+"] ":"");return I.length===0?ae+"{}":h?ae+"{"+l1(I,h)+"}":ae+"{ "+Er.call(I,", ")+" }"}return String(t)};function RN(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Fae(e){return Qi.call(String(e),/"/g,"&quot;")}function a1(e){return $s(e)==="[object Array]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function Uae(e){return $s(e)==="[object Date]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function gk(e){return $s(e)==="[object RegExp]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function zae(e){return $s(e)==="[object Error]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function Bae(e){return $s(e)==="[object String]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function Hae(e){return $s(e)==="[object Number]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function Wae(e){return $s(e)==="[object Boolean]"&&(!Qt||!(typeof e=="object"&&Qt in e))}function jN(e){if(hl)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!s1)return!1;try{return s1.call(e),!0}catch{}return!1}function qae(e){if(!e||typeof e!="object"||!i1)return!1;try{return i1.call(e),!0}catch{}return!1}var Gae=Object.prototype.hasOwnProperty||function(e){return e in this};function Li(e,t){return Gae.call(e,t)}function $s(e){return Nae.call(e)}function Kae(e){if(e.name)return e.name;var t=Oae.call(Mae.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function $N(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Qae(e){if(!gp||!e||typeof e!="object")return!1;try{gp.call(e);try{mp.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Yae(e){if(!Fc||!e||typeof e!="object")return!1;try{Fc.call(e,Fc);try{Uc.call(e,Uc)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Xae(e){if(!ak||!e||typeof e!="object")return!1;try{return ak.call(e),!0}catch{}return!1}function Jae(e){if(!mp||!e||typeof e!="object")return!1;try{mp.call(e);try{gp.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Zae(e){if(!Uc||!e||typeof e!="object")return!1;try{Uc.call(e,Uc);try{Fc.call(e,Fc)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ele(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function NN(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return NN(nS.call(e,0,t.maxStringLength),t)+r}var i=Qi.call(Qi.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,tle);return RN(i,"single",t)}function tle(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Lae.call(t.toString(16))}function sc(e){return"Object("+e+")"}function D0(e){return e+" { ? }"}function mk(e,t,n,r){var i=r?l1(n,r):Er.call(n,", ");return e+" ("+t+") {"+i+"}"}function nle(e){for(var t=0;t<e.length;t++)if($N(e[t],`
`)>=0)return!1;return!0}function rle(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Er.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Er.call(Array(t+1),n)}}function l1(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Er.call(e,","+n)+`
`+t.prev}function xh(e,t){var n=a1(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Li(e,i)?t(e[i],e):""}var s=typeof L0=="function"?L0(e):[],o;if(hl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)Li(e,l)&&(n&&String(Number(l))===l&&l<e.length||hl&&o["$"+l]instanceof Symbol||(AN.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof L0=="function")for(var u=0;u<s.length;u++)PN.call(e,s[u])&&r.push("["+t(s[u])+"]: "+t(e[s[u]],e));return r}var MN=zl,Bl=bae,ile=Vae,sle=Rd,wh=MN("%WeakMap%",!0),_h=MN("%Map%",!0),ole=Bl("WeakMap.prototype.get",!0),ale=Bl("WeakMap.prototype.set",!0),lle=Bl("WeakMap.prototype.has",!0),cle=Bl("Map.prototype.get",!0),ule=Bl("Map.prototype.set",!0),dle=Bl("Map.prototype.has",!0),rS=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},hle=function(e,t){var n=rS(e,t);return n&&n.value},fle=function(e,t,n){var r=rS(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},ple=function(e,t){return!!rS(e,t)},gle=function(){var t,n,r,i={assert:function(s){if(!i.has(s))throw new sle("Side channel does not contain "+ile(s))},get:function(s){if(wh&&s&&(typeof s=="object"||typeof s=="function")){if(t)return ole(t,s)}else if(_h){if(n)return cle(n,s)}else if(r)return hle(r,s)},has:function(s){if(wh&&s&&(typeof s=="object"||typeof s=="function")){if(t)return lle(t,s)}else if(_h){if(n)return dle(n,s)}else if(r)return ple(r,s);return!1},set:function(s,o){wh&&s&&(typeof s=="object"||typeof s=="function")?(t||(t=new wh),ale(t,s,o)):_h?(n||(n=new _h),ule(n,s,o)):(r||(r={key:{},next:null}),fle(r,s,o))}};return i},mle=String.prototype.replace,yle=/%20/g,V0={RFC1738:"RFC1738",RFC3986:"RFC3986"},iS={default:V0.RFC3986,formatters:{RFC1738:function(e){return mle.call(e,yle,"+")},RFC3986:function(e){return String(e)}},RFC1738:V0.RFC1738,RFC3986:V0.RFC3986},vle=iS,F0=Object.prototype.hasOwnProperty,Bs=Array.isArray,yr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),xle=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Bs(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},ON=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},wle=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Bs(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!F0.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Bs(t)&&!Bs(n)&&(i=ON(t,r)),Bs(t)&&Bs(n)?(n.forEach(function(s,o){if(F0.call(t,o)){var a=t[o];a&&typeof a=="object"&&s&&typeof s=="object"?t[o]=e(a,s,r):t.push(s)}else t[o]=s}),t):Object.keys(n).reduce(function(s,o){var a=n[o];return F0.call(s,o)?s[o]=e(s[o],a,r):s[o]=a,s},i)},_le=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Sle=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},U0=1024,Ele=function(t,n,r,i,s){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=U0){for(var u=o.length>=U0?o.slice(l,l+U0):o,d=[],h=0;h<u.length;++h){var f=u.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===vle.RFC1738&&(f===40||f===41)){d[d.length]=u.charAt(h);continue}if(f<128){d[d.length]=yr[f];continue}if(f<2048){d[d.length]=yr[192|f>>6]+yr[128|f&63];continue}if(f<55296||f>=57344){d[d.length]=yr[224|f>>12]+yr[128|f>>6&63]+yr[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|u.charCodeAt(h)&1023),d[d.length]=yr[240|f>>18]+yr[128|f>>12&63]+yr[128|f>>6&63]+yr[128|f&63]}a+=d.join("")}return a},Ile=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:u}),r.push(d))}return xle(n),t},Tle=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},ble=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},kle=function(t,n){return[].concat(t,n)},Cle=function(t,n){if(Bs(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},LN={arrayToObject:ON,assign:_le,combine:kle,compact:Ile,decode:Sle,encode:Ele,isBuffer:ble,isRegExp:Tle,maybeMap:Cle,merge:wle},DN=gle,nf=LN,zc=iS,Ale=Object.prototype.hasOwnProperty,VN={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},wr=Array.isArray,Ple=Array.prototype.push,FN=function(e,t){Ple.apply(e,wr(t)?t:[t])},Rle=Date.prototype.toISOString,yk=zc.default,ft={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:nf.encode,encodeValuesOnly:!1,format:yk,formatter:zc.formatters[yk],indices:!1,serializeDate:function(t){return Rle.call(t)},skipNulls:!1,strictNullHandling:!1},jle=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},z0={},$le=function e(t,n,r,i,s,o,a,l,u,d,h,f,p,g,y,w,m,v){for(var x=t,S=v,E=0,T=!1;(S=S.get(z0))!==void 0&&!T;){var I=S.get(t);if(E+=1,typeof I<"u"){if(I===E)throw new RangeError("Cyclic object value");T=!0}typeof S.get(z0)>"u"&&(E=0)}if(typeof d=="function"?x=d(n,x):x instanceof Date?x=p(x):r==="comma"&&wr(x)&&(x=nf.maybeMap(x,function(P){return P instanceof Date?p(P):P})),x===null){if(o)return u&&!w?u(n,ft.encoder,m,"key",g):n;x=""}if(jle(x)||nf.isBuffer(x)){if(u){var k=w?n:u(n,ft.encoder,m,"key",g);return[y(k)+"="+y(u(x,ft.encoder,m,"value",g))]}return[y(n)+"="+y(String(x))]}var R=[];if(typeof x>"u")return R;var j;if(r==="comma"&&wr(x))w&&u&&(x=nf.maybeMap(x,u)),j=[{value:x.length>0?x.join(",")||null:void 0}];else if(wr(d))j=d;else{var K=Object.keys(x);j=h?K.sort(h):K}var ae=l?n.replace(/\./g,"%2E"):n,se=i&&wr(x)&&x.length===1?ae+"[]":ae;if(s&&wr(x)&&x.length===0)return se+"[]";for(var le=0;le<j.length;++le){var he=j[le],J=typeof he=="object"&&typeof he.value<"u"?he.value:x[he];if(!(a&&J===null)){var Te=f&&l?he.replace(/\./g,"%2E"):he,L=wr(x)?typeof r=="function"?r(se,Te):se:se+(f?"."+Te:"["+Te+"]");v.set(t,E);var H=DN();H.set(z0,v),FN(R,e(J,L,r,i,s,o,a,l,r==="comma"&&w&&wr(x)?null:u,d,h,f,p,g,y,w,m,H))}}return R},Nle=function(t){if(!t)return ft;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||ft.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=zc.default;if(typeof t.format<"u"){if(!Ale.call(zc.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=zc.formatters[r],s=ft.filter;(typeof t.filter=="function"||wr(t.filter))&&(s=t.filter);var o;if(t.arrayFormat in VN?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=ft.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:ft.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ft.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ft.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ft.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ft.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ft.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ft.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ft.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ft.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ft.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ft.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ft.strictNullHandling}},Mle=function(e,t){var n=e,r=Nle(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):wr(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=VN[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=DN(),d=0;d<i.length;++d){var h=i[d];r.skipNulls&&n[h]===null||FN(o,$le(n[h],h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var f=o.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},fl=LN,c1=Object.prototype.hasOwnProperty,Ole=Array.isArray,Ze={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:fl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Lle=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},UN=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Dle="utf8=%26%2310003%3B",Vle="utf8=%E2%9C%93",Fle=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Vle?u="utf-8":o[l]===Dle&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],h=d.indexOf("]="),f=h===-1?d.indexOf("="):h+1,p,g;f===-1?(p=n.decoder(d,Ze.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,f),Ze.decoder,u,"key"),g=fl.maybeMap(UN(d.slice(f+1),n),function(w){return n.decoder(w,Ze.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=Lle(g)),d.indexOf("[]=")>-1&&(g=Ole(g)?[g]:g);var y=c1.call(r,p);y&&n.duplicates==="combine"?r[p]=fl.combine(r[p],g):(!y||n.duplicates==="last")&&(r[p]=g)}return r},Ule=function(e,t,n,r){for(var i=r?t:UN(t,n),s=e.length-1;s>=0;--s){var o,a=e[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},zle=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!r.plainObjects&&c1.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var h=0;r.depth>0&&(l=a.exec(s))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&c1.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return Ule(d,n,r,i)}},Ble=function(t){if(!t)return Ze;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Ze.charset:t.charset,r=typeof t.duplicates>"u"?Ze.duplicates:t.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:Ze.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ze.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Ze.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Ze.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Ze.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ze.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Ze.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:Ze.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:Ze.decoder,delimiter:typeof t.delimiter=="string"||fl.isRegExp(t.delimiter)?t.delimiter:Ze.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Ze.depth,duplicates:r,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Ze.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Ze.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Ze.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:Ze.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ze.strictNullHandling}},Hle=function(e,t){var n=Ble(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?Fle(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=zle(a,r[a],n,typeof e=="string");i=fl.merge(i,l,n)}return n.allowSparse===!0?i:fl.compact(i)},Wle=Mle,qle=Hle,Gle=iS,Kle={formats:Gle,parse:qle,stringify:Wle},Qle=Poe;function Wn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Yle=/^([a-z0-9.+-]+:)/i,Xle=/:[0-9]*$/,Jle=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Zle=["<",">",'"',"`"," ","\r",`
`,"	"],ece=["{","}","|","\\","^","`"].concat(Zle),u1=["'"].concat(ece),vk=["%","/","?",";","#"].concat(u1),xk=["/","?","#"],tce=255,wk=/^[+a-z0-9A-Z_-]{0,63}$/,nce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,rce={javascript:!0,"javascript:":!0},d1={javascript:!0,"javascript:":!0},La={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h1=Kle;function $d(e,t,n){if(e&&typeof e=="object"&&e instanceof Wn)return e;var r=new Wn;return r.parse(e,t,n),r}Wn.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",s=e.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),e=s.join(i);var a=e;if(a=a.trim(),!n&&e.split("#").length===1){var l=Jle.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=h1.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Yle.exec(a);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&d1[u])&&(a=a.substr(2),this.slashes=!0)}if(!d1[u]&&(h||u&&!La[u])){for(var f=-1,p=0;p<xk.length;p++){var g=a.indexOf(xk[p]);g!==-1&&(f===-1||g<f)&&(f=g)}var y,w;f===-1?w=a.lastIndexOf("@"):w=a.lastIndexOf("@",f),w!==-1&&(y=a.slice(0,w),a=a.slice(w+1),this.auth=decodeURIComponent(y)),f=-1;for(var p=0;p<vk.length;p++){var g=a.indexOf(vk[p]);g!==-1&&(f===-1||g<f)&&(f=g)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var v=this.hostname.split(/\./),p=0,x=v.length;p<x;p++){var S=v[p];if(S&&!S.match(wk)){for(var E="",T=0,I=S.length;T<I;T++)S.charCodeAt(T)>127?E+="x":E+=S[T];if(!E.match(wk)){var k=v.slice(0,p),R=v.slice(p+1),j=S.match(nce);j&&(k.push(j[1]),R.unshift(j[2])),R.length&&(a="/"+R.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>tce?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=Qle.toASCII(this.hostname));var K=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+K,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!rce[d])for(var p=0,x=u1.length;p<x;p++){var se=u1[p];if(a.indexOf(se)!==-1){var le=encodeURIComponent(se);le===se&&(le=escape(se)),a=a.split(se).join(le)}}var he=a.indexOf("#");he!==-1&&(this.hash=a.substr(he),a=a.slice(0,he));var J=a.indexOf("?");if(J!==-1?(this.search=a.substr(J),this.query=a.substr(J+1),t&&(this.query=h1.parse(this.query)),a=a.slice(0,J)):t&&(this.search="",this.query={}),a&&(this.pathname=a),La[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",Te=this.search||"";this.path=K+Te}return this.href=this.format(),this};function ice(e){return typeof e=="string"&&(e=$d(e)),e instanceof Wn?e.format():Wn.prototype.format.call(e)}Wn.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=h1.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||La[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),t+i+n+o+r};function sce(e,t){return $d(e,!1,!0).resolve(t)}Wn.prototype.resolve=function(e){return this.resolveObject($d(e,!1,!0)).format()};function oce(e,t){return e?$d(e,!1,!0).resolveObject(t):t}Wn.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Wn;t.parse(e,!1,!0),e=t}for(var n=new Wn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=e[l])}return La[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!La[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!d1[e.protocol]){for(var x=(e.pathname||"").split("/");x.length&&!(e.host=x.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),n.pathname=x.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",p=n.search||"";n.path=f+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",y=e.host||e.pathname&&e.pathname.charAt(0)==="/",w=y||g||n.host&&e.pathname,m=w,v=n.pathname&&n.pathname.split("/")||[],x=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!La[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(v[0]===""?v[0]=n.host:v.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(x[0]===""?x[0]=e.host:x.unshift(e.host)),e.host=null),w=w&&(x[0]===""||v[0]==="")),y)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,v=x;else if(x.length)v||(v=[]),v.pop(),v=v.concat(x),n.search=e.search,n.query=e.query;else if(e.search!=null){if(S){n.host=v.shift(),n.hostname=n.host;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=v.slice(-1)[0],I=(n.host||e.host||v.length>1)&&(T==="."||T==="..")||T==="",k=0,R=v.length;R>=0;R--)T=v[R],T==="."?v.splice(R,1):T===".."?(v.splice(R,1),k++):k&&(v.splice(R,1),k--);if(!w&&!m)for(;k--;k)v.unshift("..");w&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),I&&v.join("/").substr(-1)!=="/"&&v.push("");var j=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(S){n.hostname=j?"":v.length?v.shift():"",n.host=n.hostname;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return w=w||n.host&&v.length,w&&!j&&v.unshift(""),v.length>0?n.pathname=v.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Wn.prototype.parseHost=function(){var e=this.host,t=Xle.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};Ul.parse=$d;Ul.resolve=sce;Ul.resolveObject=oce;Ul.format=ice;Ul.Url=Wn;var ace=_e&&_e.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lce=_e&&_e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),cce=_e&&_e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uce=_e&&_e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&lce(t,e,n);return cce(t,e),t};Object.defineProperty(X_,"__esModule",{value:!0});var dce=um,f1=uce(Ul);function hce(e){var t=f1.parse(e);return t.protocol===null&&t.host===null&&t.port===null}function fce(e,t){var n=f1.parse(e),r=f1.parse(t);return n.protocol===r.protocol&&n.hostname===r.hostname&&n.port===r.port}var pce=function(e){ace(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._initCanvas=function(){var n=this.image,r=this._canvas=document.createElement("canvas"),i=this._context=r.getContext("2d");r.className="vibrant-canvas",r.style.display="none",this._width=r.width=n.width,this._height=r.height=n.height,i.drawImage(n,0,0),document.body.appendChild(r)},t.prototype.load=function(n){var r=this,i=null,s=null;if(typeof n=="string")i=document.createElement("img"),!hce(n)&&!fce(window.location.href,n)&&(i.crossOrigin="anonymous"),s=i.src=n;else if(n instanceof HTMLImageElement)i=n,s=n.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=i,new Promise(function(o,a){var l=function(){r._initCanvas(),o(r)};i.complete?l():(i.onload=l,i.onerror=function(u){return a(new Error("Fail to load image: "+s))})})},t.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},t.prototype.update=function(n){this._context.putImageData(n,0,0)},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.resize=function(n,r,i){var s=this,o=s._canvas,a=s._context,l=s.image;this._width=o.width=n,this._height=o.height=r,a.scale(i,i),a.drawImage(l,0,0)},t.prototype.getPixelCount=function(){return this._width*this._height},t.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},t.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},t}(dce.ImageBase);X_.default=pce;var zN=_e&&_e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},BN=zN(_N()),gce=zN(X_);BN.default.DefaultOpts.ImageClass=gce.default;var mce=BN.default;const B0=bp(mce);var yce=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},vce=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},HN=function(e){vce(t,e);function t(){var n,r,i;yce(this,t);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=(n=(r=_k(this,e.call.apply(e,[this].concat(o))),r),r.processImage=function(){r.props.children?r.props.children.props.src&&r.parseImage(r.props.children.props.src,r.props):r.props.src&&typeof r.props.src=="string"&&r.props.src.length>0?r.parseImage(r.props.src,r.props):console.error("Please provide an image url using the 'src' prop or wrap an image element under the <ColorExtractor /> component. Check out the docs for more info - https://goo.gl/rMZ5L7")},r.parseImage=function(l,u){B0.from(l).maxColorCount(u.maxColors).getSwatches().then(function(d){return u.getColors(r.getColorsFromSwatches(d,u))}).catch(function(d){d&&r.useDefaultImageClass(l,u)})},r.useDefaultImageClass=function(l,u){new B0.DefaultOpts.ImageClass().load(l.src).then(function(d){d.image&&B0.from(d.image).getSwatches().then(function(h){return u.getColors(r.getColorsFromSwatches(h,u))}).catch(function(h){h&&u.onError(h)})}).catch(function(d){d&&u.onError(d)})},r.getColorsFromSwatches=function(l,u){var d=[];for(var h in l)l.hasOwnProperty(h)&&l[h]&&(u.rgb?d.push(l[h].getRgb()):d.push(l[h].getHex()));return d},n),_k(r,i)}return t.prototype.componentDidMount=function(){this.processImage()},t.prototype.componentDidUpdate=function(r){r.src!==this.props.src&&typeof this.props.src=="string"&&this.props.src.length>0?this.parseImage(this.props.src,this.props):this.props.children&&r.children.props.src!==this.props.children.props.src&&this.parseImage(this.props.children.props.src,this.props)},t.prototype.render=function(){var r=b.Children.count(this.props.children);if(r>1)throw new Error("Expected only one image element.");if(r===1){if(this.props.children.type==="img")return this.props.children;throw new Error('Expected children to be an image element but instead got a "'+this.props.children.type+'"')}else return null},t}(b.Component);HN.defaultProps={onError:function(t){},getColors:function(t){},rgb:!1,hex:!0,src:null,maxColors:64};const WN=_.div`
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 100%;
    background: ${({theme:e})=>e.scheme.blue.action};
    color: #fff;
    box-shadow: 0 4px 50px ${({theme:e})=>e.scheme.blue.action};
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    transition: 0.2s opacity;

    &.with-preview {
        opacity: 0;
    }

    svg {
        width: 30px;
        height: 30px;
    }
`,xce=_.div`
    width: 100%;
    height: 260px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    overflow: hidden;
    border: 3px dashed ${({theme:e})=>e.colors.border};

    &:hover {
        ${WN} {
            &.with-preview {
                opacity: 1;
            }
        }
    }
`,wce=_.label`
    width: 220px;
    height: 220px;
    border-radius: ${({theme:e})=>e.borderRadius.middle};
    background: ${({theme:e})=>e.colors.input};
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: 0.2s background;
    overflow: hidden;

    input[type='file'] {
        display: none;
    }

    img.preview-image {
        width: 85%;
        height: 85%;
        object-fit: cover;
        z-index: 10;
        border-radius: 10px;
        opacity: 0;
        animation: generalAppear 0.5s forwards;
        animation-delay: 0.2s;
    }

    &:hover {
        background: ${({theme:e})=>e.colors.hover};
    }
`,_ce=_(No)`
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    position: absolute;
    opacity: 0;
    animation: generalAppear 0.5s forwards;
    animation-delay: 0.2s;
`,Sce=_.input`
    -webkit-appearance: none;
    width: calc(100% + 20px);
    height: 70px;
    border: none;
    outline: none;
    background: ${({theme:e})=>e.colors.pageBackground};

    &::-webkit-color-swatch-wrapper {
        padding: 0;
    }

    &::-webkit-color-swatch {
        border: none;
    }
`,qN=({colors:e,onColors:t,onUpload:n})=>{const[r,i]=b.useState(null),[s,o]=b.useState(!1),a=d=>{t(d)},l=d=>{var f,p;const h=(p=(f=d==null?void 0:d.target)==null?void 0:f.files)==null?void 0:p[0];h&&(n(h),i(URL.createObjectURL(h)))},u=()=>{n(null),t([]),i(null)};return c.jsxs(c.Fragment,{children:[c.jsxs(xce,{children:[r&&c.jsx(_ce,{$colors:e}),c.jsxs(wce,{children:[c.jsx("input",{type:"file",accept:".png, .jpg, .jpeg",onChange:l}),r&&c.jsx(HN,{getColors:a,children:c.jsx("img",{src:r,className:"preview-image"})}),c.jsx(WN,{className:r?"with-preview":"",children:c.jsx(c5,{})})]})]}),r&&!s&&c.jsxs(C,{width:"100%",gap:10,children:[c.jsxs(ze,{appearance:"secondary",onClick:()=>o(!0),children:[c.jsx(jA,{size:16}),"Colors"]}),c.jsxs(ze,{appearance:"secondary",onClick:u,children:[c.jsx(Cx,{size:16}),"Delete"]})]}),s&&c.jsxs(C,{width:"100%",gap:4,children:[c.jsx(C,{width:"100%",gap:0,height:"60px",style:{borderRadius:"4px",overflow:"hidden"},children:e.map((d,h)=>c.jsx(Sce,{type:"color",value:d,onChange:f=>{const p=[...e];p[h]=f.target.value,t(p)}}))}),c.jsx(U,{$width:"70px",onClick:()=>o(!1),$height:"60px",children:c.jsx(Ax,{})})]})]})},yp=4,Ece=new RegExp(`(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{${yp+3},})`),Ice=new RegExp(`((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{${yp},}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{${yp+3},}))`),Tce=e=>Ece.test(e)?{title:"надежный",value:100}:Ice.test(e)?{title:"средний",value:60}:e.length===0?{title:"нет",value:0}:e.length<yp?{title:"очень слабый",value:10}:{title:"слабый",value:20},bce=_.div`
    height: 10px;
    width: 100%;
    padding: 2px;
    background: ${({theme:e})=>e.colors.hover};
    border-radius: 10px;
`,kce=_.div`
    background: ${({$background:e})=>e??"grey"};
    height: 100%;
    border-radius: 10px;
`,Cce=({value:e,color:t})=>c.jsx(bce,{children:c.jsx(kce,{style:{width:`${e*100}%`,background:t}})}),Ace={0:"grey",10:"red",20:"red",60:"orange",100:"green"},Pce=()=>{const[e]=Ae.useState("1wWqdasdasddmda@"),t=Yn(),n=Tce(e);return console.log(n),c.jsx(c.Fragment,{children:c.jsx(Cce,{value:n.value/100,color:n.value===0?void 0:t.scheme[Ace[n.value]].main})})};_.div`
    background: ${({theme:e})=>e.colors.pageBackground2};
`;const Rce=()=>{const e=()=>{};return c.jsxs(Td,{children:[c.jsx(C,{d:"column",gap:20,width:"100%",height:"100%",ai:"center",jc:"center",children:c.jsx(Pce,{})}),c.jsxs(C,{width:"100%",gap:10,children:[c.jsx(ze,{appearance:"outline",onClick:()=>xe.events.back(),children:"Previous"}),c.jsx(ze,{appearance:"primary",onClick:e,children:"Sign Up"})]})]})},jce=()=>{const e=()=>{xe.events.open({title:"Password",content:c.jsx(Rce,{}),sizeX:"s",sizeY:"s"})};return c.jsxs(Td,{children:[c.jsx(C,{width:"100%",height:"100%",jc:"center",d:"column",gap:20,ai:"flex-start"}),c.jsxs(C,{width:"100%",gap:10,children:[c.jsx(ze,{appearance:"outline",onClick:()=>xe.events.back(),children:"Previous"}),c.jsx(ze,{appearance:"primary",onClick:e,children:"Next"})]})]})},$ce=()=>{const e=()=>{xe.events.open({title:"Email",content:c.jsx(jce,{}),sizeX:"s",sizeY:"s"})};return c.jsxs(Td,{children:[c.jsxs(C,{d:"column",width:"100%",height:"100%",gap:20,children:[c.jsx(qN,{colors:[],onUpload:()=>null,onColors:()=>null}),c.jsx(P_,{type:"tip",children:"You may add photo later in your profile"})]}),c.jsxs(C,{width:"100%",gap:10,children:[c.jsx(ze,{appearance:"outline",onClick:()=>xe.events.back(),children:"Previous"}),c.jsx(ze,{appearance:"primary",onClick:e,children:"Next"})]})]})},Nce=[{label:"Name",id:"name",type:"text",placeholder:"Enter your name",required:!0}],Mce=()=>{const e=()=>{xe.events.open({title:"Photo",content:c.jsx($ce,{}),sizeX:"s",sizeY:"s"})},{formProps:t,onSumbit:n}=em({fields:Nce,handleSubmit:()=>{e()}});return c.jsxs(MG,{children:[c.jsxs(C,{d:"column",padding:"20px 0",ai:"flex-start",width:"100%",gap:20,children:[c.jsx("img",{src:NG,className:"background",alt:""}),c.jsx(Zg,{short:!0,size:"60px"}),c.jsx("h2",{children:"Hey there! 👋"}),c.jsx(vt,{style:{fontSize:"1.1rem",width:"100%",maxWidth:"300px"},children:"Please enter your name in the field below and hit next"}),c.jsx(Id,{...t})]}),c.jsx(C,{width:"100%",gap:10,children:c.jsx(ze,{appearance:"primary",onClick:n,children:"Next"})})]})},Oce=[{id:"email",label:"Email Address",type:"email",placeholder:"Enter your email address",required:!0}],Lce=()=>{const{formProps:e,onSumbit:t}=em({fields:Oce});return c.jsxs(Td,{children:[c.jsxs(C,{height:"calc(100% - 100px)",width:"100%",d:"column",gap:20,jc:"center",children:[c.jsx(P_,{type:"info",children:"We will send you a new password to the email bellow"}),c.jsx(Id,{...e})]}),c.jsx(C,{width:"100%",children:c.jsx(ze,{disabled:!e.valueObj.email.value.length,appearance:"primary",onClick:t,children:"Send a code"})})]})},Dce=_.div`
    display: flex;
    width: 100%;
    height: 100%;
    padding: 0 25px;

    h2 {
        font-weight: 400;
        font-size: 1.3rem;
        white-space: nowrap;
    }

    .forgot-password {
        bottom: -20px;
        margin: 0 auto;
        font-size: 0.85rem;
        position: absolute;
        font-weight: 300;
        color: ${({theme:e})=>e.scheme.blue.text};
        padding: 2px 8px;

        &:hover {
            background: ${({theme:e})=>e.scheme.blue.transparent};
        }
    }

    @media (max-width: 768px) {
        flex-direction: column;
    }
`,Vce=_.div`
    display: flex;
    flex-direction: column;
    width: 50%;
    align-items: center;

    & .emoji {
        font-size: 30px;
    }

    @media (max-width: 768px) {
        width: 100%;
    }
`,Fce=_.div`
    width: 55%;
    height: 400px;
    position: relative;
    display: flex;
    align-items: center;
    overflow: hidden;
    justify-content: center;
    user-select: none;

    .logo {
        width: 90px;
        z-index: 1;
        animation: jumping2 10s infinite ease-in-out;
    }

    @media (max-width: 768px) {
        /* display: none; */
        width: 100%;
        height: 230px;
        overflow: visible;
    }
`,p1=30,Uce=()=>{const e=[];for(let t=0;t<p1;t++){const n=(1+.01*Math.floor(Math.random()*350))*1,r=-.01*Math.floor(Math.random()*p1)*n,i="#3481fe3d",s=`translate(calc(${Math.floor(Math.random()*50)} * 10px), calc(${Math.floor(Math.random()*50)} * 10px))`,o=Math.floor(Math.random()*20);e.push(`
          &:nth-child(${t+1}) {
            width: ${o}px;
            height: ${o}px;
            transform: ${s};
            background: ${i};
            animation-duration: ${n}s;
            animation-delay: ${r}s;
          }
        `)}return e.join(`
`)},zce=_.div`
    position: absolute;
    width: 100%;
    height: 100%;

    &::before {
        content: '';
        position: absolute;
        width: 100px;
        height: 100px;
        filter: blur(70px);
        inset: 37%;
        background-color: ${({theme:e})=>e.scheme.blue.action};
    }

    @media (max-width: 768px) {
        width: 100px;
        height: 100px;
        inset: 40% 37%;

        &::before {
            width: 80px;
            height: 80px;
        }
    }

    .block {
        transform-origin: top left;
        animation: jumping 4s infinite ease-in-out;
    }

    .block:nth-child(1) {
        top: 90px;
        left: 120px;
        animation-delay: 0.2s;
        color: ${({theme:e})=>e.scheme.blue.action};
    }
    .block:nth-child(2) {
        top: 100px;
        right: 120px;
        animation-delay: 0.8s;
        color: ${({theme:e})=>e.scheme.red.action};
    }
    .block:nth-child(3) {
        bottom: 120px;
        left: 70px;
        animation-delay: 0.5s;
        color: ${({theme:e})=>e.scheme.purple.main};
    }
    .block:nth-child(4) {
        bottom: 130px;
        right: 90px;
        animation-delay: 0s;
        color: ${({theme:e})=>e.scheme.green.main};
    }
    .block:nth-child(5) {
        bottom: 70px;
        right: 200px;
        animation-delay: 0.1s;
        color: ${({theme:e})=>e.scheme.orange.main};
    }

    @media (max-width: 768px) {
        .block:nth-child(1) {
        }
        .block:nth-child(2) {
        }
        .block:nth-child(3) {
            bottom: 110px;
            left: 130px;
        }
        .block:nth-child(4) {
        }
        .block:nth-child(5) {
            bottom: 60px;
            right: 150px;
        }
    }

    @keyframes jumping {
        0% {
            transform: translate(0px, 0px);
        }
        50% {
            transform: translate(0px, -20px);
        }
        100% {
            transform: translate(0px, 0px);
        }
    }

    @keyframes jumping2 {
        0% {
            transform: translate(0px, 0px);
        }
        50% {
            transform: translate(0px, -10px);
        }
        100% {
            transform: translate(0px, 0px);
        }
    }

    .particles {
        overflow: hidden;
        width: 100%;
        height: 100%;
        position: absolute;

        .particle {
            position: absolute;
            animation: shoot 3s ease-out infinite;
            animation-name: shoot, fade;
            border-radius: 2px;

            ${Uce()}
        }

        @keyframes shoot {
            0% {
                transform: translate(200px, 200px);
            }
        }

        @keyframes fade {
            to {
                opacity: 0;
            }
        }
    }
`,Bce=_.div`
    background: ${({theme:e})=>e.colors.pageBackground};
    border-radius: 20px;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    box-shadow: ${({theme:e})=>e.colors.shadow};
    z-index: 2;

    svg {
        width: 25px;
        height: 25px;
    }
`,Hce=_.div`
    display: flex;
    gap: 10px;
    align-items: center;
    width: 100%;

    @media (max-width: 768px) {
        flex-direction: column-reverse;
    }
`,oc=({icon:e})=>c.jsx(Bce,{className:"block",children:e}),Wce=[{id:"email",type:"email",label:"Email",required:!0,placeholder:"Enter your email"},{id:"password",type:"password",label:"Password",required:!0,placeholder:"Enter your password"}],qce=({actionAfterLogin:e,title:t="Welcome back to Soundbubble"})=>{const[{data:n,error:r},i,s]=Y.useUser(),{formProps:o,onSumbit:a}=em({fields:Wce,handleSubmit:u=>{Y.events.login(u)},submitErrorMessage:r==null?void 0:r.message}),l=()=>{xe.events.open({title:"Sign Up",content:c.jsx(Mce,{}),sizeX:"s",sizeY:"s"})};return b.useEffect(()=>{n&&(e?e():xe.events.close())},[e,n]),c.jsxs(Dce,{children:[c.jsxs(Fce,{children:[c.jsx(Zg,{short:!0}),c.jsxs(zce,{children:[c.jsx(oc,{icon:c.jsx(ka,{})}),c.jsx(oc,{icon:c.jsx(Yp,{})}),c.jsx(oc,{icon:c.jsx(Tx,{})}),c.jsx(oc,{icon:c.jsx(RA,{})}),c.jsx(oc,{icon:c.jsx(M5,{})}),c.jsx("div",{className:"particles",children:Array.from(Array(p1)).map((u,d)=>c.jsx("div",{className:"particle"},d))})]})]}),c.jsxs(Vce,{children:[c.jsxs(C,{d:"column",gap:10,children:[c.jsx("div",{className:"emoji",children:o.sumbitError?"😬":"🥳"}),c.jsx("h2",{children:o.sumbitError?"Ooops! Failed to log in":t}),!o.sumbitError&&c.jsx(vt,{style:{fontSize:"1rem"},children:"Please enter your details"})]}),c.jsxs(C,{height:o.sumbitError?"220px":"188px",jc:"center",d:"column",width:"100%",gap:20,style:{marginBottom:"90px",position:"relative"},children:[c.jsx(Id,{...o}),c.jsx(U,{$height:"10px",className:"forgot-password",$width:"fit-content",onClick:()=>xe.events.open({title:"Forgot password",content:c.jsx(Lce,{}),sizeX:"s",sizeY:"s"}),children:"Forgot password?"})]}),c.jsxs(Hce,{children:[c.jsx(ze,{appearance:"outline",onClick:l,children:"Don't have an account"}),c.jsx(ze,{loading:s,appearance:"primary",className:"primary",onClick:a,children:"Login"})]})]})]})},dm=()=>{const[{data:e}]=Y.useUser(),t=r=>()=>{xe.events.open({title:"",content:c.jsx(qce,{actionAfterLogin:r,title:r?"Log in to your account first":void 0}),sizeY:"s",sizeX:"l"})};return{loggedIn:r=>e===null?t(r):r,openLoginModal:t}},Nd=({song:e,isLiked:t,likeColor:n=hg.colors.greyText,background:r,height:i,width:s="30px",onClick:o,...a})=>{const{loggedIn:l}=dm(),u=l(d=>{d.stopPropagation(),e&&(o==null||o(e))});return c.jsx(kV,{...a,$width:s,$height:i,$background:r,className:"like-button "+(t?"liked":""),onClick:u,$likeColor:n,children:t?c.jsx(k5,{}):c.jsx(Ex,{})})},GN=_.div`
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    color: #fff;
`;_.input`
    -webkit-appearance: none;
    appearance: none;
    height: 4px;
    width: 100%;
    border-radius: 10px;
    background: ${({theme:e})=>e.colors.skeleton};
    background-image: linear-gradient(
        90deg,
        ${({color1:e})=>e??"grey"} 100%,
        white 50%
    );
    background-repeat: no-repeat;
    transition: 0.2s filter, 0.2s transform;
    cursor: pointer;

    &:hover {
        filter: brightness(1);

        transform: scaleY(2);
        border-radius: 30px;

        /* &::-webkit-slider-thumb {
            display: block;
        } */
    }

    &:focus {
        outline: none;
    }

    &:active {
        filter: brightness(1.5);
    }

    &::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 16px;
        width: 16px;
        border-radius: 50%;
        cursor: pointer;
        box-shadow: ${({theme:e})=>e.colors.shadow};
        background: ${({color1:e})=>e??"grey"};
        transition: 0.2s;
        opacity: 0;

        &:hover {
            box-shadow: 0 0 0px 10px ${({theme:e})=>e.colors.hover};
        }
    }

    &::-webkit-slider-runnable-track {
        -webkit-appearance: none;
        box-shadow: none;
        border: none;
        background: transparent;
    }

    @media (max-width: 768px) {
        height: 5px;
    }
`;const rf=_.button`
    border: none;
    background: transparent;
    width: 60px;
    height: 60px;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 100px;
    cursor: pointer;
    transition: 0.2s transform;
    overflow: hidden;

    .loading {
        width: 30px;
        height: 30px;

        svg {
            width: 30px;
            height: 30px;
        }
    }

    .prev-icon-1 {
        margin-right: 60px;
        opacity: 1;
    }

    .prev-icon-2 {
        margin-right: 30px;
        opacity: 0;
    }

    .next-icon-1 {
        margin-left: 60px;
        opacity: 1;
    }

    .next-icon-2 {
        margin-left: 30px;
        opacity: 0;
    }

    &:disabled {
        opacity: 0.4;
    }

    &:not(:active) {
        .prev-icon-1,
        .prev-icon-2,
        .next-icon-1,
        .next-icon-2 {
            transition: margin-left 0.25s, margin-right 0.25s, 0.15s opacity;
        }
    }

    &:not(:disabled) {
        @media (hover: hover) {
            &:hover {
                background: ${({theme:e})=>e.colors.lightHover};

                svg {
                    filter: drop-shadow(0 0 15px black);
                }
            }
        }

        @media (hover: none) {
            &:active {
                background: ${({theme:e})=>e.colors.lightHover};
            }
        }

        &:active {
            transform: scale(0.9);

            .prev-icon-1 {
                margin-left: 30px;
                margin-right: 0px;
                opacity: 0;
            }

            .prev-icon-2 {
                margin-right: 0;
                margin-left: 60px;
                opacity: 1;
            }

            .next-icon-1 {
                margin-right: 30px;
                margin-left: 0px;
                opacity: 0;
            }

            .next-icon-2 {
                margin-left: 0;
                margin-right: 60px;
                opacity: 1;
            }

            svg {
                transform: scale(0.9);
            }

            @keyframes shift {
                0% {
                    margin-left: 30px;
                }
                100% {
                    margin-left: 0;
                    margin-right: 60px;
                }
            }
        }
    }

    svg {
        min-width: 30px;
        height: 30px;
        transition: 0.2s transform;
    }

    @media (max-width: 768px) {
        svg {
            min-width: 35px;
            height: 35px;
        }
    }
`,Sk=_.div`
    font-size: 0.8rem;
`,Vu=_(rf)`
    width: 40px;
    height: 40px;

    &.selected {
        background: ${({theme:e})=>e.colors.lightHover};
        svg {
            color: #000;
            opacity: 1;
        }
    }

    svg {
        width: 20px;
        height: 20px;
    }
`,KN=40,QN=_.div`
    width: ${KN}px;
    height: 20px;
    border-radius: 6px;
    align-items: center;
    justify-content: center;
    background: ${({theme:e})=>e.colors.pageBackground};
    color: ${({theme:e})=>e.colors.textColor};
    position: absolute;
    top: -30px;
    left: 0;
    display: flex;
    font-size: 0.7rem;
    opacity: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 100;
`,Gce=_.div`
    position: relative;
    width: 100%;
    display: flex;
    align-items: center;

    &:hover ${QN} {
        transition: 0.2s opacity;
        opacity: 1;
    }
`,Kce=_.input`
    -webkit-appearance: none;
    appearance: none;
    height: 4px;
    width: 100%;
    border-radius: 10px;
    background: ${({theme:e})=>e.colors.skeleton};
    background-image: linear-gradient(
        90deg,
        ${({color:e,theme:t})=>e??t.colors.textColor} 100%,
        white 50%
    );
    background-repeat: no-repeat;
    background-size: 0%;
    transition: 0.2s filter, 0.2s transform;
    cursor: pointer;
    filter: brightness(${({theme:e})=>e.colors.brightness});

    &:hover {
        transform: scaleY(2);
        border-radius: 30px;

        /* &::-webkit-slider-thumb {
		  display: block;
	 } */
    }

    &:focus {
        outline: none;
    }

    &:active {
        filter: brightness(1.1);
    }

    &::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 16px;
        width: 16px;
        border-radius: 50%;
        cursor: pointer;
        box-shadow: ${({theme:e})=>e.colors.shadow};
        background: ${({color:e,theme:t})=>e??t.colors.pageBackground};
        transition: 0.2s;
        opacity: 0;

        &:hover {
            box-shadow: 0 0 0px 10px ${({theme:e})=>e.colors.hover};
        }
    }

    &::-webkit-slider-runnable-track {
        -webkit-appearance: none;
        box-shadow: none;
        border: none;
        background: transparent;
    }

    @media (max-width: 768px) {
        height: 5px;
    }
`,Qce=_.div`
    height: 8px;
    position: absolute;
    background: ${({theme:e})=>e.colors.hover};
    border-radius: 20px 0 0 20px;
    pointer-events: none;
`,YN=({value:e,duration:t,onChangeTime:n,onMouseUp:r,color:i,getSliderValue:s=o=>`${Math.floor(o*100)}%`})=>{const[o,a]=b.useState(0),l=b.useRef(null),{getBackgroundSize:u}=b.useMemo(()=>({getBackgroundSize:{backgroundSize:`calc(${e*100/t}%) 100%`}}),[t,e]),d=h=>{if(l.current&&t!==0){const f=l.current.getBoundingClientRect(),p=Math.max((h.clientX-f.left)/f.width,0);a(p)}};return c.jsxs(Gce,{className:"song-slider",ref:l,children:[t!==0&&c.jsx(QN,{style:{left:`calc(${o*100}% - ${KN/2}px)`},children:s(o,t)}),c.jsx(Kce,{style:u,color:i,type:"range",value:e,max:t,min:0,onChange:n,onMouseMove:d,onMouseUp:r,onMouseLeave:()=>a(0)}),c.jsx(Qce,{style:{width:`${o*100}%`}})]})},Yce=_.div`
    position: relative;

    .song-slider {
        opacity: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 150px;
        left: 110%;
        position: absolute;
		  transition: 0.2s;
    }

    &:hover {
        .song-slider {
            opacity: 1;
        }
    }
`,Xce=()=>c.jsxs(Yce,{children:[c.jsx(Vu,{children:c.jsx(K5,{opacity:.9})}),c.jsx(YN,{value:100,duration:200,onChangeTime:()=>null,onMouseUp:()=>null,color:"#fff"})]}),XN=e=>{const[t]=Y.useSongLibrary();return!!e&&!!t.find(n=>n.id===e.id)},H0=e=>e<=9?`0${e}`:`${e}`,Bc=(e,t)=>{if(e===void 0)return"";const n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60);return t==="text"?`${n>0?`${n} hours`:""} ${r>0?`${r} minutes`:""} ${i} seconds`:`${n>0?`${H0(n)}:`:""}${H0(r)}:${H0(i)}`},hm=({loading:e,playling:t,size:n})=>c.jsx(c.Fragment,{children:e?c.jsx(js,{}):t?c.jsx(zA,{size:n}):c.jsx(bx,{size:n})}),JN=({state:e,colors:t,duration:n,currentTime:r,loopMode:i,shuffle:s,disableNextSongButton:o,handleShuffle:a,handleLoopMode:l,onPlay:u,onNext:d,onPrev:h,handleChangeTime:f,handleMouseUp:p})=>{const{currentTimeStr:g,durationStr:y}=b.useMemo(()=>({currentTimeStr:Bc(r),durationStr:Bc(n)}),[n,r]),w=t==null?void 0:t[0];return c.jsxs(GN,{className:"music-controls",children:[c.jsx(YN,{value:r,duration:n,onChangeTime:f,onMouseUp:p,color:w,getSliderValue:(m,v)=>Bc(m*v)}),c.jsxs(C,{jc:"space-between",width:"100%",className:"duration-numbers",children:[c.jsx(Sk,{children:g}),c.jsx(Sk,{children:y})]}),c.jsxs(C,{jc:"space-between",width:"100%",className:"control-buttons",children:[c.jsx(Vu,{$color1:w,className:s?"queue-button selected":"queue-button",onClick:a,children:c.jsx(PA,{})}),c.jsxs(C,{gap:20,className:"playback-buttons",children:[c.jsxs(rf,{className:"control-button",onClick:h,children:[c.jsx(rI,{className:"prev-icon-2"}),c.jsx(rI,{className:"prev-icon-1"})]}),c.jsx(rf,{className:"control-button play-pause",disabled:e==="loading",onClick:u,children:c.jsx(hm,{loading:e==="loading",playling:e==="playing"})}),c.jsxs(rf,{className:"control-button",disabled:o,onClick:d,children:[c.jsx(nI,{className:"next-icon-1"}),c.jsx(nI,{className:"next-icon-2"})]})]}),c.jsxs(Vu,{className:i!==Rt.noloop?"queue-button selected":"queue-button",onClick:l,$color1:w,children:[i===Rt.loopone&&c.jsx(F5,{}),i!==Rt.loopone&&c.jsx(U5,{})]})]})]})},ZN=()=>{const{currentSong:e,state:t}=G.useSong(),{currentTime:n,duration:r}=G.playblack.usePlayback(),{queue:i,loop:s}=G.queue.useQueue(),{next:o,previous:a,play:l}=G.useControls(),u=i.songs.length<2||s===Rt.noloop&&i.currentSongIndex===i.songs.length-1,d=b.useCallback(()=>l(),[l]),h=w=>{G.playblack.setIsSliding(!0),G.playblack.setCurrentTime(+w.target.value)},f=w=>{G.playblack.setIsSliding(!1),G.playblack.setLastRangeValue(+w.currentTarget.value),G.lyrics.calculateCurrentLyric(+w.currentTarget.value)},p=()=>{G.queue.changeLoopMode()},g=()=>{},y=b.useCallback(w=>{w.key==="Space"&&d()},[d]);return b.useEffect(()=>(addEventListener("keydown",y),()=>removeEventListener("keydown",y)),[y]),{currentTime:n,duration:r,colors:e==null?void 0:e.imageColors,state:t,loopMode:s,shuffle:!0,disableNextSongButton:u,handleShuffle:g,handleLoopMode:p,onPlay:d,onPrev:a,onNext:o,handleMouseUp:f,handleChangeTime:h}},Jce=()=>{const e=ZN();return c.jsx(JN,{...e})},vp="${DESKTOP_COVER_WIDTH}",xa="86vw",Zce=_(No)`
    position: absolute;
    z-index: 1000;
    width: 100%;
    height: 100%;
    display: flex;
    transition: 0.2s;
    bottom: 0;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transform: translateY(100px);
    pointer-events: none;

    & > button {
        color: #fff;
    }

    @media (max-width: 1000px) {
        &::before {
            content: '';
            display: block;
            width: 40px;
            height: 5px;
            border-radius: 4px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 20px;
            background: ${({theme:e})=>e.colors.lightHover};
        }

        & > button {
            opacity: 0;
            width: 100%;
            left: 0;
        }
    }

    &.open {
        opacity: 1;
        pointer-events: all;
        visibility: visible;
        transform: translateY(0px);
    }
`,eue=_.div`
    width: ${vp};
    display: flex;
    flex-direction: column;
    gap: 20px;

    @media (max-width: 700px) {
        width: ${xa};
    }

    & .authors {
        font-size: 1rem;
        color: #fff;

        a {
            color: #fff;
        }
    }

    & .like-button {
        color: #fff;
    }
`,tue=_.div`
    overflow: hidden;
    border-radius: ${({theme:e})=>e.borderRadius.middle};
    background: ${({$color1:e})=>e??"darkgrey"};
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 130px #00000057;
    width: ${vp};
    height: ${vp};
    overflow: hidden;

    @media (max-width: 700px) {
        width: ${xa};
        height: ${xa};

        .general-cover {
            img {
                width: ${xa};
                height: ${xa};
            }
        }

        margin-bottom: 30px;
    }

    svg {
        color: dimgray;
        width: 100px;
        height: 100px;
    }
`;_.div`
    display: flex;
    height: 100%;
    width: 200%;
    top: 0;
    left: 0;
    position: absolute;
    z-index: -1;
    opacity: 0.2;

    transition: 0.2s;

    img {
        height: 100%;
    }

    & .song-cover:nth-child(1) {
        position: absolute;
        transform: translateX(-60px) scale(0.8);
    }

    & .song-cover:nth-child(2) {
        position: absolute;
        transform: translateX(60px) scale(0.8);
    }
`;const nue=_.div`
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: 10px;
    position: relative;

    &.close {
        display: block;
        height: 100%;
    }

    @media (max-width: 768px) {
        padding-bottom: 40px;
    }
`,rue=_.div`
    font-size: 1.5rem;
    width: calc(${vp} - 40px);
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    color: #fff;

    @media (max-width: 1000px) {
        width: calc(${xa} - 40px);
    }
`,iue=_.div`
    width: 0%;
    height: 100%;
    padding: 180px 110px;
    overflow-y: auto;
    scroll-padding-bottom: 700px;
    opacity: 0;
    animation: slide-appear 0.5s forwards reverse;

    &.visible {
        animation: slide-appear 0.5s forwards;
    }

    @keyframes slide-appear {
        0% {
            opacity: 0;
            width: 0;
        }
        30% {
            opacity: 0;
            width: 100%;
        }
        100% {
            opacity: 1;
            width: 100%;
        }
    }
`,sue=_.div`
    display: flex;
    flex-direction: column;
    gap: 30px;
    color: #fff;
    font-size: 1.8rem;
`,oue=_.div`
    padding: 10px;
    transition: 0.2s background, 0.2s opacity, 0.3s transform;
    cursor: pointer;
    opacity: 0.4;
    transform: scale(0.9);
    transform-origin: left center;
    border-radius: ${({theme:e})=>e.borderRadius.middle};
    font-weight: 500;

    &.ordinary {
        opacity: 1;
        transform: scale(1);
    }

    &.current {
        opacity: 1;
        transform: scale(1);
    }

    &.farFromCurrent {
        opacity: 0.1;
        transform: scale(0.8);
    }

    &:hover {
        background: #ffffff3d;
    }
`;_.button`
    border: none;
    background: transparent;
    color: #fff;
    width: 45px;
    height: 45px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({theme:e})=>e.borderRadius.middle};
    cursor: pointer;

    svg {
        stroke-width: 2;
        width: 20px;
        height: 20px;
    }

    &:hover {
        background: ${({theme:e})=>e.colors.lightHover};
    }
`;const aue=_.div`
    display: flex;
    align-items: center;
    gap: 10px;
    opacity: 0;
    transition: 0.5s opacity;

    & span {
        width: 10px;
        height: 10px;
        background: ${({theme:e})=>e.colors.lightHover};
        border-radius: 10px;
    }

    & span:nth-child(1) {
        animation: lyricloading ${({$duration:e})=>e/3}s forwards;
        animation-delay: 0;
        animation-play-state: paused;
    }

    & span:nth-child(2) {
        animation: lyricloading ${({$duration:e})=>e/3}s forwards;
        animation-delay: ${({$duration:e})=>e/3}s;
        animation-play-state: paused;
    }

    & span:nth-child(3) {
        animation: lyricloading ${({$duration:e})=>e/3}s forwards;
        animation-delay: ${({$duration:e})=>e*2/3}s;
        animation-play-state: paused;
    }

    &.current {
        animation: dissapear 0.8s forwards;
        transform-origin: left center;
        opacity: 1;
        animation-delay: ${({$duration:e})=>`calc(${e}s - 1s)`};

        & span {
            animation-play-state: running;
        }

        @keyframes lyricloading {
            0% {
                transform: scale(1);
                background: ${({theme:e})=>e.colors.lightHover};
            }
            100% {
                transform: scale(1.2);
                background: #fff;
            }
        }

        @keyframes dissapear {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            30% {
                transform: scale(0.95);
                opacity: 1;
            }
            60% {
                transform: scale(1.05);
                opacity: 1;
            }
            100% {
                transform: scale(0.8);
                opacity: 0;
            }
        }
    }
`,lue=_.div`
    position: absolute;
    left: 40px;
    bottom: 40px;
    width: calc(100% - 80px);
    display: flex;
    justify-content: space-between;

    @media (max-width: 1000px) {
        width: calc(100% - 40px);
        left: 20px;
    }
`,cue=_.div`
    display: flex;
    flex-direction: column;
    gap: 4px;

    /* & button {
        color: #fff;
    }

    & a {
        color: #fff;
    }

    & > * {
        color: #fff !important;
    } */
`,uue=({type:e,hasLyrics:t,hasQueue:n,handleClickControlButton:r})=>{const{currentSong:i}=G.useSong(),s=XN(i),o=()=>G.fullscreen.close();return c.jsx(nue,{children:c.jsxs(eue,{children:[c.jsx(tue,{$color1:i==null?void 0:i.imageColors[0],children:c.jsx(Yx,{size:"400px",colors:i==null?void 0:i.imageColors,src:i==null?void 0:i.cover})}),c.jsxs(C,{d:"column",gap:2,children:[c.jsxs(C,{width:"100%",gap:10,children:[c.jsx(rue,{children:(i==null?void 0:i.name)??"Untitled"}),c.jsx(Nd,{isLiked:s,height:"30px",song:i,onClick:()=>null,likeColor:i==null?void 0:i.imageColors[1]})]}),c.jsx(nl,{authors:i==null?void 0:i.authors,onAuthorClick:o})]}),c.jsx(Jce,{}),c.jsxs(lue,{children:[c.jsx(Xce,{}),c.jsxs(C,{gap:20,children:[c.jsx(Vu,{disabled:!n,$color1:i==null?void 0:i.imageColors[0],className:e==="queue"?"selected":"",onClick:r("queue"),children:c.jsx(kx,{opacity:.9})}),c.jsx(Vu,{disabled:!t,$color1:i==null?void 0:i.imageColors[0],className:e==="lyrics"?"selected":"",onClick:r("lyrics"),children:c.jsx(BA,{opacity:.9})})]})]})]})})},eM=()=>{const e=b.useRef(null),[{lyrics:t,currentLyricIndex:n},r]=G.lyrics.useLyrics(),{state:i}=G.useSong(),s=o=>()=>{isNaN(+o)||(G.playblack.setLastRangeValue(+o),G.lyrics.calculateCurrentLyric(+o))};return b.useEffect(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth",block:"end"})},[n]),b.useEffect(()=>(G.lyrics.setShouldCalculateLyrics(!0),()=>{G.lyrics.setShouldCalculateLyrics(!1)}),[]),t?c.jsx(sue,{children:t.map((o,a)=>{var g;const l=i==="pause"||isNaN(+o.startTime),u=a===n,d=a+1<n||a-1>n,h=o.text==="@loading",f=(((g=t[a+1])==null?void 0:g.startTime)??o.startTime)-o.startTime,p=l?"ordinary":u?"current":d?"farFromCurrent":"";return c.jsx(oue,{ref:r&&u&&!l?e:void 0,className:p,onClick:s(o.startTime),children:h?c.jsxs(aue,{className:u&&i==="playing"?"current":"",$duration:f,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]}):o.text},o.text+a)})}):"No lyrics available"},due=()=>{const e=[10,5,15,12,7,10,4];return`@keyframes playing {
		${e.map((n,r)=>`${100/e.length*r+"%"} {
			height: ${n}px;
		}`)}
	}`},hue=_.div`
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 3px;
	width: 15px;
	height: 15px;
	animation-play-state: paused;

	& div {
		background: ${({$color:e})=>e??"white"};
	}

	& div:nth-child(1) {
		animation-delay: 0s;
	}

	& div:nth-child(2) {
		animation-delay: 0.2s;
	}

	& div:nth-child(3) {
		animation-delay: 0.4s;
	}

	.playing {
		& div {
			animation-play-state: running;
		}
	}

`,W0=_.div`
	width: 2.5px;
	animation: playing 2.5s infinite;
	height: 12px;
	border-radius: 2px;

	${due()}
`,tM=({playing:e,color:t})=>c.jsxs(hue,{$color:t,className:`playing-animation ${e?"playing":""}`,children:[c.jsx(W0,{}),c.jsx(W0,{}),c.jsx(W0,{})]}),di={author:c.jsx(Tx,{}),user:c.jsx(rv,{}),playlist:c.jsx(kx,{}),album:c.jsx(Yp,{}),song:c.jsx(ka,{})},sS=hg.borderRadius.huge,nM=e=>c.jsx(dg,{...e,borderRadius:e.borderRadius??sS,fallbackIcon:e.isAlbum?di.album:di.playlist}),g1=_(U)`
    position: absolute;

    bottom: 60px;
    left: 16px;
    right: auto;
    width: 40px;
    height: 40px;
    min-height: auto;
    border-radius: 100px;
    color: ${({$color:e})=>e};
    background: ${({theme:e})=>e.colors.pageTopButton};
    transition: 0.1s opacity;
    opacity: 0;
    z-index: 10;

    svg {
        filter: brightness(${({theme:e})=>e.colors.brightness});
    }

    & .playing-animation {
        filter: brightness(${({theme:e})=>e.colors.brightness});
    }

    &.horizontal {
        bottom: 6px;
        left: auto;
        right: 6px;
        width: 35px;
        height: 35px;
    }

    &:hover {
        background: ${({theme:e})=>e.colors.pageBackground2};
    }
`,fue=_(Br)`
    --size: calc((100vw - var(--sidebar-width)) / 6 - 30px);

    gap: 12px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    height: fit-content;
    color: ${({theme:e})=>e.colors.textColor};
    position: relative;
    text-decoration: none;
    width: var(--size);
    padding: 0;
    border-radius: 6px;
    overflow: visible;

    &.horizontal {
        --size: 34px;
        overflow: hidden;
        padding: 6px 8px;
        width: 100%;
        flex-direction: row;
        align-items: center;
    }

    &.playing {
        ${g1} {
            opacity: 1;
            box-shadow: 0 0px 10px #00000017;
        }
    }

    .authors {
        font-size: 0.75rem;
    }

    &::before {
        content: '';
        display: block;
        position: absolute;
        width: var(--size);
        height: var(--size);
        transition: 0.2s opacity;
        box-shadow: 0 50px 70px ${({$color1:e})=>e};
        top: 0%;
        opacity: 0.2;
        border-radius: ${sS};
    }

    @media (hover: hover) {
        &:hover:before {
            opacity: 0.4;
        }

        &:hover {
            &.vertical {
                background: none;
            }

            &.horizontal {
                background: ${({theme:e})=>e.colors.hover};
            }

            ${g1} {
                opacity: 1;
            }
        }
    }

    @media (max-width: 1350px) {
        &.vertical {
            --size: calc((100vw - var(--sidebar-width)) / 5 - 30px);
        }
    }

    @media (max-width: 1200px) {
        &.vertical {
            --size: calc((100vw - var(--sidebar-width)) / 4 - 36px);
        }
    }

    @media (max-width: 1100px) {
        &.vertical {
            --size: calc((100vw - var(--sidebar-width)) / 3 - 43px);
        }
    }

    @media (max-width: 1000px) {
        &.vertical {
            --size: calc(100vw / 4 - 31px);
        }

        &.horizontal {
            padding: 6px 0px;
            --size: 40px;
        }

        &::before {
            display: none;
        }
    }

    @media (max-width: 700px) {
        &.vertical {
            --size: calc(100vw / 3 - 32px);
        }
    }

    @media (max-width: 500px) {
        &.vertical {
            --size: calc(100vw / 2 - 32px);
        }
    }
`,pue=_.div`
    font-size: 0.95rem;
    font-weight: 200;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    width: 100%;
`;_.div`
    font-size: 0.8rem;
`;const ws=({playlist:e,children:t,onClick:n,as:r,orientation:i="vertical"})=>{const{image:s,name:o,imageColors:a,authors:l,id:u,songs:d,isAlbum:h,isPrivate:f}=e,{play:p}=G.useControls(),{state:g}=G.useSong(),{queue:y}=G.queue.useQueue(),[w,m]=b.useState(!1),v=`/playlist/${u}`,x=g==="playing"&&y.url===v,S=(I,k)=>{const R={currentSongIndex:k,name:o,image:s,url:v,songs:I,shuffle:!1};p(I[0],R)},E=I=>{I.preventDefault(),m(!0),Rn.getSongsByUids(d).then(k=>{S(k,0),m(!1)})},T=I=>{n==null||n(e,I)};return c.jsxs(fue,{as:r,onClick:T,className:`${i} ${x?"playing":""}`,to:`/playlist/${u}`,$color1:a==null?void 0:a[0],children:[!t&&c.jsx(g1,{$color:a[0],onClick:E,className:i,children:x?c.jsx(tM,{playing:!0,color:a[0]}):c.jsx(hm,{loading:w,playling:!1,size:18})}),c.jsx(nM,{size:void 0,borderRadius:i==="vertical"?void 0:"3px",src:s,colors:a,isAlbum:h}),c.jsxs(C,{width:"100%",jc:"space-between",children:[c.jsxs(C,{d:"column",width:"100%",gap:0,ai:"flex-start",children:[c.jsxs(C,{width:"100%",children:[c.jsx(pue,{children:o}),f&&c.jsx(Ix,{size:18})]}),i==="vertical"?c.jsx(nl,{authors:l}):c.jsxs(C,{width:"100%",gap:4,children:[c.jsxs(vt,{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[h?"Album":"Playlist"," /"]}),c.jsx(nl,{isUser:!h,width:"fit-content",authors:l})]})]}),t]})]})},rM=220,gue={content:null,isOpen:!1,x:0,y:0,height:0,width:rM,origin:"center"},mue=(e,t,n,r,i,s)=>{let o,a,l,u=0;return e-s<0?(l=e-n,a="left"):(a="right",l=e-s),t+i>window.innerHeight-100?(o="bottom",u=t-i-4):(o="top",u=t+r+4),{posX:l+n,posY:u,origin:`${o} ${a}`}},iM=V(),sM=V(),Fu=Z(gue);N({clock:iM,source:Fu,fn:(e,{content:t,width:n=rM,height:r,e:i})=>{const s=i.currentTarget.getBoundingClientRect(),{left:o,top:a,width:l,height:u}=s,{posX:d,posY:h,origin:f}=mue(o,a,l,u,r,n??e.width);return{content:t,x:d,y:h,origin:f,height:r,width:n??e.width,isOpen:!e.isOpen}},target:Fu});N({clock:sM,source:Fu,fn:e=>({...e,content:null,isOpen:!1}),target:Fu});const mt={usePopup:()=>be(Fu),events:{open:iM,close:sM}},Ao=_.div`
    padding: 8px 0;

    .admin {
        font-size: 0.6rem;
        background: linear-gradient(45deg, #c633b7, #d2629f);
        color: #fff;
        padding: 2px 4px;
        margin-left: 30px;
        border-radius: 2px;
    }

    button {
        font-weight: 200;
        font-size: 0.9rem;
        gap: 16px;
        justify-content: flex-start;
        padding: 8px 16px;
        border-radius: 0;
        /* opacity: 0.8; */

        svg {
            width: 20px;
            height: 20px;
            opacity: 0.4;
        }
    }
`,Fr=_.div`
	width: 100%;
	height: 0.5px;
	background: #91919142;
	margin: 8px 0;
`,Hl=We(async e=>{try{return await Xg.getChatsByUserId(e)}catch(t){throw console.log(t),new Error(t.message)}}),oS=We(async({chats:e,chatDataObject:t})=>{try{const r=e.flatMap(s=>s.participants).filter(s=>!t[s]).map(s=>mn.getUserByUid(s));return(await Promise.all([...r])).flatMap(s=>s).reduce((s,o)=>(s["id"in o?o.id:o.uid]=o,s),{...t})}catch(n){throw new Error(n.message)}}),Md=We(async({chatId:e})=>{try{const t=await Xg.getChatMessagesByChatId(e);return{...t,messages:t.messages}}catch(t){throw new Error(t.message)}}),aS=We(async({chatId:e,message:t})=>{try{await Xg.sendMessage(e,t),console.log("error never appeared")}catch(n){throw console.log(n),new Error(n.message)}}),lS=V(),oM=V(),aM=V(),yue=V(),cS=V(),lM=V(),cM=V(),uM=V(),pl=Z([]),Od=Z(""),jn=Z([]),fm=Z({}),uS=Z(0),gl=Z({}),ml=Z({}),dS=Z(null);pl.reset(it);gl.reset(it);uS.reset(it);Od.reset(it);jn.reset(it);fm.reset(it);gl.reset(it);ml.reset(it);dS.reset(it);const m1=Vx(),xp=tn.map(e=>{var t;return((t=e==null?void 0:e.data)==null?void 0:t.uid)??null}),vue=e=>Object.keys(e).reduce((t,n)=>(t+=e[n],t),0);N({clock:[m1.open,xp],source:{gateStatus:m1.status,userId:xp,chats:pl},filter:({chats:e,userId:t,gateStatus:n})=>n&&t!==null&&e.length===0,fn:({userId:e})=>e,target:Hl});N({clock:Hl.doneData,fn:({chats:e})=>e,target:[pl,lS]});N({clock:uM,source:{messages:jn,userId:xp},filter:({userId:e})=>!!e,fn:({messages:e,userId:t},n)=>[...e].map(i=>(i.id===n&&i.seenBy.push(t),i)),target:jn});N({clock:Hl.doneData,fn:({lastMessages:e})=>e,target:ml});N({clock:Hl.doneData,fn:e=>e,target:oS});N({clock:Hl.doneData,fn:({unreadCount:e})=>e,target:[fm,lS]});N({clock:lS,source:fm,fn:vue,target:uS});N({clock:oS.doneData,target:gl});N({clock:cS,fn:({chatId:e,message:{status:t,...n}})=>({chatId:e,message:n}),target:[aS]});N({clock:cS,source:jn,fn:(e,{message:t})=>[...e,t],target:jn});N({clock:aS.failData,source:jn,fn:e=>(console.log("sending failed message"),e.map(t=>t.status==="pending"?{...t,status:"error"}:t)),target:jn});N({clock:aS.done,source:jn,fn:(e,{params:t})=>e.map(n=>{const{status:r,...i}=n;return t.message.id===n.id?i:n}),target:jn});N({clock:jn.updates,source:Od,fn:(e,t)=>({chatId:e,message:t.at(-1)}),target:lM});N({clock:lM,source:ml,filter:(e,{chatId:t,message:n})=>!!n&&!!t,fn:(e,{chatId:t,message:n})=>({...e,[t]:n}),target:[ml,cM]});N({clock:cM,source:{chats:pl,lastMessages:ml},fn:({chats:e,lastMessages:t})=>e.sort((n,r)=>t[r.id].sentTime-t[n.id].sentTime),target:pl});N({clock:oM,fn:e=>e,target:Od});N({clock:aM,source:gl,fn:(e,t)=>({...e,...t}),target:gl});N({clock:Od,filter:e=>(e==null?void 0:e.length)!==0,fn:e=>({chatId:e,messages:[]}),target:Md});N({clock:Md.doneData,fn:({chatData:e})=>e,target:aM});N({clock:Md.doneData,fn:({messages:e})=>e,target:[jn]});N({clock:Md.doneData,source:{currentMessages:jn,userId:xp},filter:({userId:e,currentMessages:t})=>!!e&&!!t.length,fn:({currentMessages:e,userId:t})=>{var n;return((n=e.find(r=>!r.seenBy.includes(t)))==null?void 0:n.id)??null},target:dS});const nr={useChats:()=>be({chats:pl,loadingChats:Hl.pending,currentChatId:Od,currentChatMessages:jn,currentChatMessagesLoading:Md.pending,chatData:gl,loadingChatData:oS.pending,lastMessage:ml,unreadCounts:fm,firstUnreadMessageId:dS}),useLoadChats:()=>Dx(m1),useChatUnreadCount:()=>be(uS),events:{setCurrentChatId:oM,loadPreviousMessages:yue,sendMessage:cS,seenMessage:uM}},xue=_.aside`
    min-width: var(--sidebar-width);
    width: var(--sidebar-width);
    height: 100dvh;
    padding: 10px 18px;
    /* background: ${({theme:e})=>e.colors.sidebar}; */
    /* border-right: 1px solid ${({theme:e})=>e.colors.border}; */
    position: relative;

    @media (max-width: 1000px) {
        display: none;
    }
`,wue=_.div`
    padding: 10px;
    padding-top: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
`,Ek=_.div`
    display: flex;
    flex-direction: column;
    gap: 2px;
    margin: 30px 0;

    & .add-playlist {
        color: ${({theme:e})=>e.colors.textColor};
        background: transparent;
        border: none;
        width: 30px;
        height: 30px;
        min-height: 30px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;

        svg {
            width: 18px;
            height: 18px;
        }

        &:hover {
            background: ${({theme:e})=>e.colors.hover};
            color: ${({theme:e})=>e.scheme.blue.main};
        }
    }
`,_ue=_(OP)`
    text-decoration: none;
    padding: 10px 10px;
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    font-size: 1rem;

    &:hover {
        background: ${({theme:e})=>e.colors.hover};
    }

    &:active {
        transform: scale(0.99);
    }

    svg {
        opacity: 0.6;
    }

    &.active {
        & > div > div {
            opacity: 1;
            color: ${({theme:e})=>e.scheme.blue.main};
        }

        svg {
            opacity: 1;
        }
    }
`,Ik=_.div`
    font-size: 0.8rem;
    opacity: 0.3;
    color: ${({theme:e})=>e.colors.textColor};
    padding: 4px 10px;
    padding-right: 0px;
    text-transform: uppercase;
    transition: 0.2s opacity;

    &.clickable {
        cursor: pointer;

        @media (hover: hover) {     
            &:hover {
                opacity: 0.5;
            }
        }
    }
`,Sue=_.div`
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    padding: 0 2px;
`,hS=_.span`
    min-width: 20px;
    width: fit-content;
    height: 20px;
    font-size: 0.7rem;
    padding: 0 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${({theme:e})=>e.scheme.red.main};
    border-radius: 10px;
    color: #fff;
    font-weight: 400;
`,Eue=_.div`
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 28px;
    border-radius: 20px;

    & > div:nth-child(1) {
        animation: typing 0.8s infinite;
        animation-delay: 0s;
    }

    & > div:nth-child(2) {
        animation: typing 0.8s infinite;
        animation-delay: 0.1s;
    }

    & > div:nth-child(3) {
        animation: typing 0.8s infinite;
        animation-delay: 0.2s;
    }

    @keyframes typing {
        0% {
            opacity: 0;
            transform: scale(0.5);
        }
        50% {
            opacity: 1;
            transform: scale(1);
        }
        100% {
            opacity: 0;
            transform: scale(0.5);
        }
    }
`,q0=_.div`
    width: 6px;
    height: 6px;
    border-radius: 100%;
    opacity: 0;
    transform: scale(0);
    background: grey;
`,Tk=({isTyping:e=!0})=>e?c.jsxs(Eue,{children:[c.jsx(q0,{}),c.jsx(q0,{}),c.jsx(q0,{})]}):null,dM=({typing:e,isGroupChat:t,children:n})=>t&&e.length>0?c.jsxs(C,{gap:8,children:[c.jsxs(vt,{children:[e.map((r,i)=>(i!==0?", ":"")+(r==null?void 0:r.displayName))," typing"]}),c.jsx(Tk,{isTyping:!0})]}):e.length>0?c.jsxs(C,{gap:8,children:[c.jsx(vt,{children:"Typing"}),c.jsx(Tk,{isTyping:!0})]}):n,hM=({isMine:e,sendStatus:t})=>!e||t==="Error"?null:t==="Pending"?c.jsx(y5,{}):t==="Sent"?c.jsx(wx,{}):c.jsx(u5,{}),Ld=e=>{if(!e)return{status:"offline"};const t=new Date().getTime()-3e5,n=new Date().getTime()-18e5*4;if(e>t)return{status:"online"};const i=new Date(e),s=new Date(new Date().getTime()-i.getTime()).getMinutes(),o=Math.floor(s/60)>0?Math.floor(s/60)===1?"hour":"hours":"minutes";return e>n?{status:`last seen ${s} ${o} ago`}:{status:`last seen ${i.toLocaleDateString("ru-RU")}`}},Ur=e=>c.jsx(dg,{...e,fallbackIcon:e.fallbackIcon??(e.isAuthor?di.author:di.user),borderRadius:"100%"}),Iue=e=>{if((e==null?void 0:e.length)===0)return"linear-gradient(45deg, #c47200, #da471f)";switch(e==null?void 0:e[0]){case"A":case"D":case"G":case"J":case"X":return"linear-gradient(45deg, #b42db4, #7d35ca)";case"L":case"M":case"P":case"Z":case"1":case"2":return"linear-gradient(45deg, #2db42f, #35ca98)";case"F":case"K":case"Y":case"S":case"4":case"3":return"linear-gradient(45deg, #3f2db4, #3558ca)";case"H":case"E":case"T":case"U":case"C":case"5":case"6":case"7":return"linear-gradient(45deg, #b42d2d, #ca3578)";default:return"linear-gradient(45deg, #c47200, #da471f)"}},Tue=_.div`
    width: ${({$width:e})=>e??"50px"};
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 100%;
    background: ${({$background:e})=>e};
    color: #fff;

    font-size: calc(${({$width:e})=>e??"50px"} / 3);

    @media (max-width: 768px) {
		width: ${({$width:e})=>e??"55px"};
    }
`,fS=({name:e,width:t})=>{const n=(e==null?void 0:e.split(" ").length)===1?e[0].toUpperCase()+e[1].toUpperCase():e==null?void 0:e.split(" ").map(i=>{var s;return(s=i[0])==null?void 0:s.toUpperCase()}).join(""),r=Iue(n);return c.jsx(Tue,{$background:r,$width:t,children:n})},bue=_.span`
	font-size: 0.8rem;
	font-weight: 300;
	opacity: 0.5;

	&.online {
		color: ${({theme:e,color:t})=>t??e.scheme.blue.action};
		opacity: 1;
	}
`,pm=({isAuthor:e,showLastSeen:t,status:n,color:r})=>c.jsx(bue,{color:r,className:n==="online"&&t?"online":"",children:e?"Author":t?n:"User"}),kue=_(Br)`
    --size: calc(100vw / 10 - 17px);

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    width: var(--size);
    padding: 0;
    border-radius: ${({theme:e})=>e.borderRadius.big};

    .verified-icon {
        width: 16px;
        height: 16px;
    }

    &.vertical-small {
        --size: 60px;
        width: var(--size);
        position: relative;
        overflow: visible;

        h4 {
            font-size: 0.75rem;
            white-space: normal;
            text-align: center;
            font-weight: 300;
            height: 50px;
        }

        .verified-icon {
            position: absolute;
            right: 2px;
            top: calc(var(--size) - 10px);
            width: 16px;
            height: 16px;
            background: #fff;
            border-radius: 100%;
        }
    }

    &.horizontal {
        padding: 5px 6px;
        width: 100%;
        gap: 12px;
        flex-direction: row;
    }

    @media (hover: hover) {
        &.vertical-small {
            &::before {
                content: '';
                position: absolute;
                top: -10px;
                left: -10px;
                width: calc(100% + 20px);
                height: calc(100% + 20px);
                background: ${({theme:e})=>e.colors.hover};
                border-radius: 10px;
                transition: opacity 0.2s ease;
                opacity: 0;
            }
        }

        &:hover {
            &.horizontal {
                background: ${({theme:e})=>e.colors.hover};
            }

            &.vertical-small {
                &::before {
                    opacity: 1;
                }
            }
        }
    }

    h4 {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: 1rem;
        font-weight: 200;

        &.horizontal {
            font-size: 0.9rem;
        }
    }

    @media (max-width: 1350px) {
        --size: calc(100vw / 7 - 32px);
    }

    &.vertical {
        h4 {
            font-size: 1rem;
        }
    }

    @media (max-width: 1450px) {
        --size: calc((100vw - var(--sidebar-width)) / 6 - 38px);
    }

    @media (max-width: 1300px) {
        --size: calc((100vw - var(--sidebar-width)) / 5 - 43px);
    }

    @media (max-width: 1150px) {
        --size: calc((100vw - var(--sidebar-width)) / 4 - 43px);
    }

    @media (max-width: 1000px) {
        --size: calc(100vw / 5 - 36px);

        h4 {
            font-size: 1rem;
            font-weight: 300;

            &.horizontal {
                font-size: 1rem;
            }
        }

        &.horizontal {
            padding: 5px 0;
        }

        &.vertical {
            h4 {
                font-size: 1rem;
            }
        }

        & span {
            font-size: 0.8rem;
        }

        &.vertical-small {
            --size: 50px;
        }
    }

    @media (max-width: 850px) {
        --size: calc(100vw / 4 - 36px);

        h4 {
            font-weight: 200;
        }

        &.vertical {
            h4 {
                font-size: 1rem;
            }
        }

        & span {
            font-size: 0.8rem;
        }
    }

    @media (max-width: 768px) {
        --size: calc(100vw / 4 - 25px);

        padding: 4px 0;

        .general-cover {
            min-width: 40px;
            min-height: 40px;
        }

        &.vertical {
            h4 {
                font-size: 0.9rem;
            }
        }
    }

    @media (max-width: 650px) {
        --size: calc(100vw / 3 - 27px);
    }

    @media (max-width: 400px) {
        h4 {
            &.vertical {
                font-size: 0.75rem;
            }
        }
    }
`,pS=_.div`
    width: 10px;
    height: 10px;
    border-radius: 10px;
    background: ${({theme:e})=>e.scheme.blue.action};
    outline: 2px solid ${({theme:e})=>e.colors.pageBackground};
    position: absolute;
    bottom: 0px;
    right: 0px;

    &.vertical-small {
        bottom: 2px;
        right: 5px;
        outline: 3px solid ${({theme:e})=>e.colors.pageBackground};
    }
`,bk={hour:36e5},Cue=e=>{const t=new Date().getTime()-new Date((e==null?void 0:e.sentTime)??"").getTime(),n=t>bk.hour*24,r=t>bk.hour*24*7;return n?r?new Date((e==null?void 0:e.sentTime)??"").toLocaleDateString("ru-RU"):new Date((e==null?void 0:e.sentTime)??"").toLocaleDateString("ru-RU",{weekday:"short"}):new Date((e==null?void 0:e.sentTime)??"").toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},fM="soundbubble",Aue=(e,t,n,r)=>{if(!e)return{sender:""};if((e==null?void 0:e.sender)===fM)return{sender:""};const i=n[(e==null?void 0:e.sender)??""];return{sender:(i==null?void 0:i.uid)===(r==null?void 0:r.uid)?"You":t?i==null?void 0:i.displayName:""}},pM=e=>{var t;return(e==null?void 0:e.status)==="pending"?"Pending":(e==null?void 0:e.status)==="error"?"Error":e&&((t=e==null?void 0:e.seenBy)==null?void 0:t.filter(n=>n!==e.sender).length)===0?"Sent":"Received"},Pue=_(Br)`
    display: flex;
    align-items: center;
    width: 100%;
    padding: 10px 25px;
    gap: 12px;
    background: ${({theme:e})=>e.colors.pageBackground};

    &.selected {
        background: ${({theme:e})=>e.scheme.blue.transparent};
    }

    &:hover {
        filter: brightness(0.95);
    }

    @media (max-width: 768px) {
        padding: 6px 20px;

        & .general-cover {
            min-width: 55px;
            height: 55px;
        }
    }
`,gM=_.div`
    font-size: 0.9rem;
    font-weight: 300;
`,Rue=_.div`
    height: 32px;
    font-size: 0.8rem;
    font-weight: 200;
`,jue=_.span`
    opacity: 0.5;
    overflow: hidden;
    display: inline-flex;
    flex-wrap: wrap;
    column-gap: 6px;
`,G0=_.div`
    display: inline-flex;
    height: fit-content;
    align-items: center;
    gap: 2px;

    svg {
        display: inline;
        width: 14px;
        height: 14px;
    }
`;_.span`
    font-size: 0.8rem;
    font-weight: 200;
    opacity: 0.5;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    display: inline-flex;
    margin-right: 4px;
`;const mM=_.div`
    font-size: 0.7rem;
    font-weight: 300;
    display: flex;
    align-items: center;
    gap: 4px;

    span {
        opacity: 0.4;
    }

    svg {
        width: 16px;
        height: 16px;
        opacity: 1;
        color: ${({theme:e})=>e.scheme.blue.main};
    }
`,K0={s:"35px",m:"50px"},yM=({chat:e,isSelected:t,unreadCount:n,lastMessage:r,chatData:i,children:s,onClick:o,size:a="m"})=>{var I,k,R,j;const[{data:l}]=Y.useUser(),u=e.chatName!=="",d=e.participants.filter(K=>K!==(l==null?void 0:l.uid)),h=i[d[0]],f=u?e.chatImage:h==null?void 0:h.photoURL,p=u?e.chatName:h==null?void 0:h.displayName,g=Ld(h==null?void 0:h.online).status,y=pM(r),{sender:w}=Aue(r,u,i,l),m=Cue(r),v=(r==null?void 0:r.attachedSongs.length)!==0?(I=i[(r==null?void 0:r.attachedSongs[0])??""])==null?void 0:I.name:null,x=(r==null?void 0:r.attachedAuthors.length)!==0?(k=i[(r==null?void 0:r.attachedAuthors[0])??""])==null?void 0:k.displayName:null,S=(r==null?void 0:r.attachedAlbums.length)!==0?(R=i[(r==null?void 0:r.attachedAlbums[0])??""])==null?void 0:R.name:null,E=(e==null?void 0:e.typing.filter(K=>K!==(l==null?void 0:l.uid)).map(K=>i[K]))??[],T=K=>{o==null||o(e,K)};return c.jsxs(Pue,{onClick:T,to:`/chat/${e.id}`,className:t?"selected":"",children:[c.jsx(Ur,{fallbackIcon:c.jsx(fS,{name:p,width:K0[a]}),size:K0[a],src:f,colors:["grey"],isAuthor:!1,children:g==="online"&&!u&&c.jsx(pS,{})}),c.jsxs(C,{d:"column",ai:"flex-start",height:K0[a],width:"100%",gap:2,children:[c.jsxs(C,{jc:"space-between",width:"100%",children:[c.jsx(gM,{children:p}),r&&c.jsxs(mM,{children:[c.jsx(hM,{isMine:w==="You",sendStatus:y}),c.jsx("span",{children:m})]})]}),c.jsxs(C,{width:"100%",jc:"space-between",children:[c.jsx(dM,{isGroupChat:u,typing:E,children:c.jsxs(Rue,{children:[!r&&c.jsx(pm,{status:u?`${e.participants.length} members`:g,isAuthor:!1,showLastSeen:!0}),c.jsxs(jue,{children:[w&&`${w}:`," ",r==null?void 0:r.message.substring(0,70)," ",(((j=r==null?void 0:r.message)==null?void 0:j.length)??0)>70?"...":"",v&&c.jsxs(G0,{children:[di.song,v]}),x&&c.jsxs(G0,{children:[di.author,x]}),S&&c.jsxs(G0,{children:[di.album,S]})]})]})}),!!n&&c.jsx(hS,{children:n})]})]}),s]})},qe=_.div`
    background: ${({theme:e})=>e.colors.skeleton};
    animation: pulse 2s infinite;

    @keyframes pulse {
        0% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
        100% {
            opacity: 1;
        }
    }
`,X=_(qe)`
    width: ${({width:e})=>e??"100px"};
    min-width: ${({minWidth:e,width:t})=>e??t??"100px"};
    height: ${({height:e})=>e??"100px"};
    min-height: ${({height:e})=>e??"100px"};
    border-radius: ${({radius:e})=>e??"10px"};
`,Ft=()=>c.jsxs(C,{gap:12,padding:"2px 25px",children:[c.jsx(X,{width:"50px",height:"50px",radius:"100%"}),c.jsxs(C,{d:"column",gap:4,ai:"flex-start",children:[c.jsx(X,{width:"140px",height:"14px"}),c.jsx(X,{width:"80px",height:"10px"})]})]}),$ue=()=>c.jsxs(C,{d:"column",gap:16,padding:"16px 0",children:[c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{}),c.jsx(Ft,{})]}),Nue=_.div`
    color: ${({$checked:e,theme:t})=>e?t.scheme.blue.action:t.scheme.grey.text};
    height: 24px;
`,gS=({checked:e})=>c.jsx(Nue,{$checked:e,children:e?c.jsx(h5,{size:24,color:"blue"}):c.jsx(m5,{size:24})}),Mue=_.div`
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    z-index: 10;
    background: linear-gradient(
        360deg,
        ${({theme:e,$background:t})=>`${t??e.colors.pageBackground}, ${t??e.colors.pageBackground}, ${t??e.colors.pageBackground}`},
        transparent
    );
    background-size: 100% 500%;
    background-position: 0 0;

    transition: 0.4s background-position, 0.4s opacity;
    pointer-events: none;
    opacity: 0;
    overflow: hidden;

    &.loading {
        opacity: 1;
        pointer-events: all;
        background-position: 0 100%;
        height: 100vh;
    }
`;_.div`
    display: block;
    width: 100%;

    &.loading {
        display: none;
        height: 100%;
    }
`;const Ns=({loading:e,children:t,skeleton:n,...r})=>c.jsxs(c.Fragment,{children:[c.jsx(Mue,{...r,className:e?"loading":"",children:n}),t]}),vM=_.div`
    padding: 2px 5px;
    display: inline-block;
    background: #fff;
    color: ${({theme:e})=>e.scheme.blue.action};
    font-weight: 600;
    font-size: 0.7rem;
    border-radius: 10px;
    height: 18px;
`,Oue=_.div`
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${({theme:e})=>e.colors.hover};
    font-size: 0.75rem;
    gap: 10px;
    padding: 4px;
    border-radius: 15px;
    animation: appear 0.2s forwards;

    @keyframes appear {
        0% {
            opacity: 0;
            transform: scale(0.95);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    button {
        svg {
            color: #8a8a8a;
        }
    }
`,Lue=_.div`
    width: 100%;
    position: sticky;
    background: ${({theme:e})=>e.colors.modal};
    bottom: 0px;
    outline: 25px solid ${({theme:e})=>e.colors.modal};
    margin-top: 50px;
    transform: translateY(50px);
    opacity: 0;
    transition: 0.2s;
    visibility: hidden;
    display: flex;
    flex-direction: column;
    gap: 8px;

    &.open {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
    }
`,Due=({added:e,allItems:t,itemImage:n,itemName:r,setAdded:i})=>{const s=o=>()=>{i(a=>a.filter(l=>l!==o))};return c.jsx(C,{wrap:"wrap",width:"100%",gap:4,children:e.map(o=>{const a=t.find(l=>(l.id??l.uid??"")===o);return a?c.jsxs(Oue,{children:[n(a),r(a),c.jsx(U,{$width:"20px",$height:"20px",onClick:s(o),children:c.jsx(g5,{size:18})})]}):null})})},Vue=_.div`
    height: fit-content;
    display: flex;
    flex-direction: column;
    gap: 4px;
    width: 456px;
    transition: 0.2s;
    position: sticky;
    top: 0;
    padding-bottom: 4px;
    z-index: 20;
    background: ${({theme:e})=>e.colors.modal};

    input {
        width: 100%;
    }
`,Fue=e=>{const{inputPlaceholder:t,added:n,allItems:r,searchValue:i,setVisibleItems:s,itemName:o,setSearchValue:a}=e,l=u=>{console.log({e:u.target.value}),a(u.target.value),u.target.value!==void 0&&u.target.value.length!==0?s(()=>r.filter(d=>{var h;return d?Si(o(d)).includes(Si((h=u==null?void 0:u.target)==null?void 0:h.value)):!1})):s(r)};return c.jsxs(Vue,{className:n.length>0?"open":"",children:[c.jsx(Mn,{width:100,placeholder:t,icon:c.jsx(bi,{}),onChange:l,value:i}),c.jsx(Due,{...e})]})},Uue=e=>{const[t,n]=b.useState(e),[r,i]=b.useState(""),[s,o]=b.useState([]);return{visibleItems:t,addedItems:s,searchValue:r,setSearchValue:i,handleClick:(d,h)=>{h.preventDefault();const f=Yg(d);s.find(g=>g===f)?o(g=>g.filter(y=>y!==f)):(o(g=>[...g,f]),r.length!==0&&(i(""),n(e)))},setVisibleItems:n,handleDeselectAll:()=>{n(e),o([]),i("")},setAddedItems:o,getItemImage:d=>{const h=Sd(d),f=Gq(d);return c.jsx(dg,{fallbackIcon:di[h],borderRadius:"100%",src:f,colors:["grey"],size:"18px"})}}},mS=({entities:e,inputPlaceholder:t,renderItem:n,renderButton:r})=>{const{visibleItems:i,addedItems:s,searchValue:o,setSearchValue:a,setVisibleItems:l,handleClick:u,handleDeselectAll:d,setAddedItems:h,getItemImage:f}=Uue(e);return c.jsxs(c.Fragment,{children:[c.jsx(Fue,{inputPlaceholder:t,added:s,allItems:e,searchValue:o,setSearchValue:a,itemImage:f,itemName:p=>c4(p),setAdded:h,setVisibleItems:l}),c.jsx(C,{jc:"flex-end",width:"100%",children:s.length>0&&c.jsx(U,{onClick:d,$height:"25px",$width:"90px",style:{fontSize:"0.8rem",opacity:"0.7"},children:"Deselect all"})}),c.jsx(C,{d:"column",width:"100%",children:i.map(p=>{const g=Yg(p),y=!!s.find(w=>w===g);return n(p,y,u)})}),c.jsx(Lue,{className:s.length>0?"open":"",children:r(s)})]})},Dd=({})=>{const{chats:e,chatData:t,loadingChats:n}=nr.useChats(),r=i=>{};return nr.useLoadChats(),c.jsx(C,{d:"column",width:"100%",height:"100%",padding:"0 25px",children:c.jsx(Ns,{loading:n,skeleton:c.jsx($ue,{}),children:c.jsx(mS,{inputPlaceholder:"Search for friends...",entities:e,renderItem:(i,s,o)=>c.jsx(yM,{size:"s",chat:i,chatData:t,onClick:o,lastMessage:void 0,unreadCount:0,isSelected:!1,children:c.jsx(gS,{checked:s})},i.id),renderButton:i=>c.jsxs(c.Fragment,{children:[c.jsx(Mn,{placeholder:"Your Message"}),c.jsxs(ze,{appearance:"primary",onClick:()=>r(),children:["Send",c.jsx(vM,{children:i.length})]})]})})})})},zue={loadingPlaylistId:null,loadingAddedPlaylists:!1,loading:!1,currentPlaylist:null,currentPlaylistSongs:null,addedPlaylists:[],error:null},yS=We(async e=>{try{if(!e.loadingPlaylistId)throw new Error("Playlist id not specified");const t=await Ai.getPlaylistByUid(e.loadingPlaylistId),n=await Rn.getSongsByUids(t.songs);return{playlist:t,songs:n}}catch(t){throw new Error(t.message)}}),xM=We(async({songId:e,playlistIds:t})=>{try{if(!e)throw new Error("Song id not specified");if(!t.length)throw new Error("Playlist ids not specified");return await Ai.addSongToPlaylists(e,t)}catch(n){throw new Error(n.message)}}),wM=We(async({playlist:e,onSuccess:t})=>{const n=await Ai.createPlaylist(e);t(n)}),_M=V(),SM=V(),EM=V(),Po=Z(zue);N({clock:_M,source:Po,fn:(e,t)=>({...e,loadingPlaylistId:t,loading:!0,error:null}),target:[Po,yS]});N({clock:EM,target:wM});N({clock:yS.doneData,source:Po,fn:(e,{playlist:t,songs:n})=>({...e,loading:!1,currentPlaylist:t,currentPlaylistSongs:n}),target:Po});N({clock:yS.failData,source:Po,fn:(e,t)=>({...e,error:t.message}),target:Po});N({clock:SM,target:xM});const yl={usePlaylist:()=>be(Po),useAddingSongToPlaylists:()=>be([xM.pending]),useCreatePlaylist:()=>be([wM.pending]),events:{loadPlaylist:_M,addSongToPlaylists:SM,createPlaylist:EM}},IM=({song:e})=>{const[t]=Y.useOwnPlaylists(),n=r=>{e&&yl.events.addSongToPlaylists({songId:e.id,playlistIds:r})};return c.jsx(C,{width:"100%",d:"column",padding:"0 25px",children:c.jsx(mS,{entities:t,inputPlaceholder:"Search for playlists...",renderItem:(r,i,s)=>c.jsx(ws,{as:"div",playlist:r,onClick:s,orientation:"horizontal",children:c.jsx(gS,{checked:i})},r.id),renderButton:r=>c.jsx(c.Fragment,{children:c.jsx(ze,{appearance:"primary",onClick:()=>n(r),children:"Save changes"})})})})},Qn=b.memo(({user:e,onClick:t,children:n,as:r,showLastSeen:i,orientation:s="vertical"})=>{const o=Yn();if(!e)return null;const{uid:a,imageColors:l,photoURL:u,isAuthor:d,displayName:h,isVerified:f,online:p}=e,g=s==="vertical"||s==="vertical-small",y=Ld(p).status,w=d?`/author/${a}`:`/user/${a}`,m=v=>{t==null||t(e,v)};return c.jsxs(kue,{as:r,to:w,className:s,onClick:m,children:[c.jsx(Ur,{colors:l,src:u,size:g?"var(--size)":"38px",isAuthor:d,children:y==="online"&&!d&&c.jsx(pS,{className:s})}),c.jsxs(C,{d:"column",gap:g?4:1,width:"100%",ai:g?"center":"flex-start",children:[c.jsxs(C,{jc:g?"center":"flex-start",gap:8,width:"100%",children:[c.jsx("h4",{children:h}),f&&c.jsx(Kp,{style:{color:o.scheme.blue.main},className:"verified-icon"})]}),s==="horizontal"&&c.jsx(pm,{status:y,isAuthor:d,showLastSeen:i})]}),n??(s==="horizontal"&&c.jsx(U,{$width:"45px",children:c.jsx(_x,{opacity:.3,strokeWidth:1.7,size:22})}))]})});Qn.displayName="UserItem";const Bue=({authors:e})=>e?c.jsx(C,{d:"column",gap:10,width:"100%",height:"calc(100% - 68px)",padding:"20px",children:e.map(t=>c.jsx(Qn,{user:t,onClick:()=>xe.events.close(),orientation:"horizontal"},t.uid))}):null,TM=({song:e})=>{const[{data:t}]=Y.useUser(),[n]=Y.useSongLibrary(),r=n==null?void 0:n.find(u=>u.id===(e==null?void 0:e.id)),i=ki(),s=()=>{xe.events.open({title:`Share "${e==null?void 0:e.name}" with friends`,content:c.jsx(Dd,{entity:e})}),mt.events.close()},o=()=>{xe.events.open({title:`Add "${e==null?void 0:e.name}" to playlist`,content:c.jsx(IM,{song:e})}),mt.events.close()},a=()=>{((e==null?void 0:e.authors.length)??0)>1?xe.events.open({title:`${(e==null?void 0:e.name)??"-"} authors`,content:c.jsx(Bue,{authors:e==null?void 0:e.authors})}):i(`/author/${e==null?void 0:e.authors[0].uid}`),mt.events.close()},l=()=>{e&&(Y.events.addSongToLibrary(e),mt.events.close())};return c.jsxs(Ao,{children:[r?c.jsxs(U,{onClick:l,children:[c.jsx(b5,{}),"Remove from Liked"]}):c.jsxs(U,{onClick:l,children:[c.jsx(Ex,{size:20}),"Add to Liked"]}),c.jsxs(U,{onClick:o,children:[c.jsx(z5,{size:20}),"Add to playlist"]}),c.jsxs(U,{children:[c.jsx(V5,{}),"Add to queue"]}),c.jsx(Fr,{}),c.jsxs(U,{onClick:s,children:[c.jsx(yo,{}),"Share"]}),c.jsxs(U,{children:[c.jsx(mo,{}),"Info"]}),c.jsxs(U,{onClick:a,children:[di.author,"Authors"]}),(t==null?void 0:t.isAdmin)&&c.jsxs(c.Fragment,{children:[c.jsx(Fr,{}),c.jsxs(U,{children:[c.jsx(NA,{}),"Edit song",c.jsx("span",{className:"admin",children:"Admin"})]})]})]})},wp=_.div`
    border: none;
    transition: 0.2s opacity;
    cursor: pointer;

    width: var(--icon-size);
    height: var(--icon-size);
`,gm=_.div`
    position: absolute;
    z-index: 1;
    background: #0e0e0e;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${({theme:e})=>e.colors.overlay};
    border-radius: ${Qx};
`,_p=_(U)`
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    width: 35px;
    height: 35px;
    min-height: 35px;
    color: ${({theme:e})=>e.colors.textColor};
    border: none;
    padding: 4px;
    margin-right: 10px;
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    cursor: pointer;
    opacity: 0;

    &:hover {
        background: ${({theme:e})=>e.colors.hover};
    }

    svg {
        width: var(--icon-size);
        height: var(--icon-size);
    }

    @container (max-width: 699px) {
        opacity: 1;
        margin-right: 0px;
    }
`,bM=_(gm)`
    left: 0;
    top: 0;
    opacity: 0;
`,kM=_(gm)`
    left: 0;
    top: 0;

    .playing-animation {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    ${wp} {
        opacity: 0;
    }

    svg {
        stroke-width: 1;
    }
`,Hue=_(gm)`
    left: 0;
    top: 0;
`,Wue=_.div`
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;

    ${gm} {
        svg {
            color: ${({$color1:e})=>e};
        }
    }

    @container (min-width: 700px) {
        gap: 20px;
    }

    @container (max-width: 699px) {
        gap: 12px;
        overflow: hidden;
        width: calc(100% - 40px);
    }
`,que=_.div`
    width: 100%;
    height: 50px;
    padding: 4px 8px;
    border-radius: calc(${({theme:e})=>e.borderRadius.mild} + 6px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: ${({theme:e})=>e.colors.textColor};
    cursor: pointer;
    border: none;
    container-type: size;
    transition: 0.1s background;
    --icon-size: 18px;

    &.playing {
        background: ${({theme:e})=>e.colors.hover};
    }

    & .duration {
        font-size: 0.7rem;
        font-weight: 400;
        width: 35px;
        text-align: center;
    }

    @media (hover: hover) {
        &:hover {
            background: ${({theme:e})=>e.colors.hover};
            /* box-shadow: 0 0 20px #14141473; */

            ${kM} {
                ${wp} {
                    opacity: 1;
                }

                .playing-animation {
                    opacity: 0;
                }
            }

            .cover-children {
                ${bM} {
                    opacity: 1;
                }
            }

            ${_p} {
                opacity: 1;
            }

            .like-button {
                display: flex;
            }

            .duration {
                display: none;
            }
        }
    }

    &:focus {
        background: ${({theme:e})=>e.colors.hover};
        outline: none;
    }

    &:active {
        background: ${({theme:e})=>e.colors.darkHover};
    }

    .cover-children {
        svg {
            width: var(--icon-size);
            height: var(--icon-size);
        }
    }

    &.playing {
        ${_p} {
            opacity: 1;
        }
    }

    @media (max-width: 1000px) {
        padding: 0;

        &:active {
            background: transparent;
        }

        .general-cover {
            min-width: 40px;
            width: 40px;
            height: 40px;
        }

        &.playing {
            background: transparent;
        }
    }

    /* @container (max-width: 699px) {
    height: 60px;
  } */
`,Gue=_.div`
    display: flex;
    align-items: flex-start;
    width: 100%;

    @container (min-width: 700px) {
        flex-direction: row;
        align-items: center;
    }

    @container (max-width: 699px) {
        flex-direction: column;
    }
`,Kue=_.div`
    font-weight: 200;
    opacity: 0.85;
    font-size: 1rem;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    @container (min-width: 700px) {
        white-space: nowrap;
    }
`,Que=_.div`
    display: flex;
    align-items: center;
    gap: 8px;

    @container (min-width: 700px) {
        width: 100%;
    }
`,kk=_.div`
    display: flex;
    align-items: center;
    gap: 1px;
    opacity: 0.7;
    font-size: 0.8rem;

    @container (min-width: 700px) {
        display: none;
    }

    &.outside {
        @container (min-width: 700px) {
            display: flex;
            min-width: 200px;
        }

        @container (max-width: 699px) {
            display: none;
        }
    }

    svg {
        width: 12px;
        height: 12px;
    }
`;_(U)`
    width: 30px;
    min-height: 30px;
    color: ${({theme:e})=>e.scheme.grey.text};

    svg {
        width: 22px;
        height: 22px;
    }
`;const Yue=_.div`
    display: flex;
    align-items: center;
    gap: 6px;

    & .like-button {
        display: none;
    }

    @container (max-width: 699px) {
        .like-button {
            display: none;
        }

        ${_p} {
            opacity: 0.4;
        }
    }
`,Xue=_.div`
    container-type: size;
    width: 100%;
    height: 50px;
`,Jue=_.div`
    width: 100%;

    @container (max-width: 699px) {
        display: none;
    }
`,Zue=_.div`
    height: 60px;

    &.no-background > div {
        background: transparent;
    }

    @container (min-width: 700px) {
        display: none;
    }
`,vS=b.memo(({song:e,playing:t,loading:n,index:r,onClick:i})=>{const{name:s,authors:o,imageColors:a,cover:l,listens:u,duration:d}=e,h=XN(e),f=y=>{y.stopPropagation(),mt.events.open({content:c.jsx(TM,{song:e}),height:272.5,e:y})},p=()=>i(e,r),g=()=>{e&&Y.events.addSongToLibrary(e)};return c.jsxs(que,{onClick:p,tabIndex:0,role:"button","aria-pressed":"false",className:t||n?"playing":"",children:[c.jsxs(Wue,{$color1:a[0],children:[c.jsxs(Yx,{size:"35px",src:l,colors:a,children:[!n&&!t&&c.jsx(bM,{children:c.jsx(wp,{children:c.jsx(bx,{className:"action-icon"})})}),!n&&t&&c.jsxs(kM,{children:[c.jsx(wp,{children:c.jsx(zA,{className:"action-icon"})}),c.jsx(tM,{color:a[1],playing:!0})]}),n&&c.jsx(Hue,{children:c.jsx(js,{})})]}),c.jsxs(Gue,{children:[c.jsxs(Que,{children:[c.jsx(Kue,{children:s}),c.jsxs(kk,{children:[u,c.jsx(cu,{})]})]}),c.jsx(nl,{width:"100%",authors:o,disableOnMobile:!0})]})]}),c.jsxs(kk,{className:"outside",children:[u,c.jsx(cu,{})]}),c.jsxs(Yue,{children:[c.jsx(Nd,{width:"35px",height:"35px",song:e,isLiked:h,likeColor:"red",onClick:g}),c.jsx(vt,{className:"duration",children:Bc(d)}),c.jsx(_p,{onClick:f,children:c.jsx(Sx,{})})]})]})});vS.displayName="SongItem";const CM=e=>{const{play:t}=G.useControls();return{handlePlay:(r,i)=>{const s={currentSongIndex:i,name:e.listName,image:e.listIcon,url:e.listUrl,songs:e.songs,shuffle:!1};t(r,s)}}},mm=e=>{const{currentSong:t,state:n,loaded:r}=G.useSong(),{songs:i}=e,{handlePlay:s}=CM(e);return c.jsx(c.Fragment,{children:i.map((o,a)=>{const l=o.id===(t==null?void 0:t.id);return c.jsx(vS,{onClick:s,index:a,song:o,playing:l&&n==="playing",loading:l&&n==="loading",loaded:l&&r},o.id+a)})})},ede=({uid:e,displayName:t,photoURL:n,imageColors:r,isAuthor:i})=>({uid:e??Qg(),imageColors:r??[],photoURL:n??"https://via.placeholder.com/150",isAuthor:i??!1,displayName:t??"Test User",isVerified:!0,online:0,lastSongPlayed:"",addedPlaylists:[],addedAuthors:[],addedSongs:[],ownPlaylists:[],lastQueue:{image:"",name:"",songsList:[],source:""},numberOfListenersPerMonth:0,subscribers:0}),tde=({queue:e})=>{var t,n;if((t=e.url)!=null&&t.includes("author")){const r=e.url.split("/author/").pop();return c.jsx(Qn,{onClick:()=>G.fullscreen.close(),orientation:"horizontal",user:ede({uid:r,displayName:e.name,photoURL:e.image,isAuthor:!0})})}if((n=e.url)!=null&&n.includes("playlist"))return c.jsx(ws,{orientation:"horizontal",playlist:{name:e.name??"",songs:[],subscribers:0,listens:0,isPrivate:!1,isAlbum:!1,imageColors:[],image:e.image??"",id:e.url.split("/playlist/").at(-1)??"",creationDate:"",authors:[]}})},AM=({queue:e})=>c.jsxs(cue,{children:[c.jsx(tde,{queue:e}),c.jsx(Fr,{}),c.jsx(mm,{songs:e.songs,listName:null,listIcon:void 0,listUrl:null})]}),nde=({type:e})=>{const{queue:t}=G.queue.useQueue();return e===null?null:c.jsxs(iue,{className:e!==null?"visible":"",children:[e==="lyrics"&&c.jsx(eM,{}),e==="queue"&&c.jsx(AM,{queue:t})]})};var Ck=function(t){if(t.type.includes("touch")){var n=t,r=n.touches[0]||n.changedTouches[0];return r.clientY}else{var i=t;return i.y}},Ak=function(t){if(t.type.includes("touch")){var n=t,r=n.touches[0]||n.changedTouches[0];return r.clientX}else{var i=t;return i.x}},rde=function(t){t===void 0&&(t="both");var n=b.useState(0),r=n[0],i=n[1],s=b.useState(0),o=s[0],a=s[1],l=b.useState(0),u=l[0],d=l[1],h=b.useState(0),f=h[0],p=h[1],g=b.useState(null),y=g[0],w=g[1],m=b.useState(null),v=m[0],x=m[1],S=b.useState(!1),E=S[0],T=S[1],I=b.useState(null),k=I[0],R=I[1],j=t==="touch"||t==="both",K=t==="mouse"||t==="both";return b.useEffect(function(){var ae=function(J){T(!0),i(Ck(J)),a(Ak(J)),R(J.target.className)},se=function(J){if(E){var Te=Ck(J)-r,L=Ak(J)-o;w(Te>u),x(L>f),d(Te),p(L)}},le=function(){T(!1),d(0),p(0),w(null),x(null)};return K&&(window.addEventListener("mousedown",ae),window.addEventListener("mouseup",le),window.addEventListener("mousemove",se)),j&&(window.addEventListener("touchstart",ae),window.addEventListener("touchend",le),window.addEventListener("touchmove",se)),function(){K&&(window.removeEventListener("mousedown",ae),window.removeEventListener("mouseup",le),window.removeEventListener("mousemove",se)),j&&(window.removeEventListener("touchstart",ae),window.removeEventListener("touchend",le),window.removeEventListener("touchmove",se))}},[E,r,u,f]),{deltaY:u,deltaX:f,isMouseDown:E,touchedElement:k,goingDown:y,goingRight:v}};const PM=400,ide=(e,t,n)=>{const r={transform:`translateY(${e}px)`,height:t<0?`calc(${n} + ${Math.min(-t,50)}px)`:n,transition:`${e===1e3||t===0?`${PM}ms transform, 0.2s height`:"none"}`};return e!==0||t!==0?r:void 0},RM=(e,t)=>{const{deltaY:n,isMouseDown:r}=rde("touch"),[i,s]=b.useState(0),o=ide(i,n,t);return b.useEffect(()=>{n===0&&s(l=>l!==1e3?0:l),s(l=>l!==1e3&&n>0?n:l)},[n,r,e]),{style:o,onTouchEnd:()=>{n>150&&r&&(s(1e3),setTimeout(()=>{e(),s(0)},PM))}}},sde=({open:e})=>{const{currentSong:t}=G.useSong(),{queue:n}=G.queue.useQueue(),[r,i]=b.useState(e),[s,o]=b.useState(null),a=(t==null?void 0:t.lyrics)!==void 0&&((t==null?void 0:t.lyrics.length)??0)>0,{style:l,onTouchEnd:u}=RM(G.fullscreen.close,"100dvh"),d=()=>{G.fullscreen.close()};b.useEffect(()=>{e?i(!0):setTimeout(()=>{i(!1)},200)},[e]);const h=f=>()=>{o(s===f?null:f)};return b.useEffect(()=>{!a&&s==="lyrics"&&o(null)},[a,s]),c.jsx(Zce,{className:e?"open":"close",$colors:t==null?void 0:t.imageColors,style:l,onTouchEnd:u,children:r&&c.jsxs(c.Fragment,{children:[c.jsx(Kx,{onClick:d}),c.jsx(uue,{type:s,handleClickControlButton:h,hasQueue:n.songs.length>0,hasLyrics:a}),c.jsx(nde,{type:s})]})})},ode=_.div`
    position: absolute;
    left: 0;
    top: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 40px;
    background: linear-gradient(
        ${({theme:e})=>e.colors.pageBackground},
        ${({theme:e})=>e.colors.pageBackground},
        transparent 100%,
        ${({theme:e})=>e.colors.pageBackground},
        ${({theme:e})=>e.colors.pageBackground}
    );
    width: 100%;
    height: 100dvh;
    transition: 1s opacity, 1s visibility;
    background-size: 100% 10000%;

    span {
        text-align: center;
        font-size: 1rem;
        max-width: 250px;
        width: 80%;
    }

    & .logo {
        animation: logopulse 2s infinite;

        @keyframes logopulse {
            0% {
                transform: scale(1);
                filter: brightness(1);
            }
            50% {
                transform: scale(1.05);
                filter: brightness(1.05);
            }
            100% {
                transform: scale(1);
                filter: brightness(1);
            }
        }
    }

    img {
        width: 100px;
        height: 100px;
    }

    & .loading {
        position: absolute;
        bottom: 60px;
        margin: 0 auto;
    }

    &.loaded {
        animation: showApp 0.5s forwards;
        animation-delay: 1.1s;

        & .logo {
            animation: shiftLogo 1.2s forwards ease-in-out;
            animation-delay: 0.4s;

            @keyframes shiftLogo {
                0% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(5px);
                }
                100% {
                    transform: translateY(-20px);
                }
            }
        }

        @keyframes showApp {
            0% {
                opacity: 1;
                background-size: 100% 1000%;
                visibility: visible;
            }
            50% {
                opacity: 1;
                background-size: 100% 100%;
            }
            100% {
                background-size: 100% 100%;
                opacity: 0;
                visibility: hidden;
            }
        }
    }
`,Pk={slowInternetMessage:15e3,fullStop:25e3},ade=()=>{const[{data:e},t]=Y.useUser(),[n,r]=b.useState(!1),[i,s]=b.useState(!1);return b.useEffect(()=>{setTimeout(()=>{e||r(!0)},Pk.slowInternetMessage),setTimeout(()=>{e||s(!0)},Pk.fullStop)},[e]),c.jsxs(ode,{className:t?"loading":"loaded",children:[c.jsx(Zg,{short:!0}),!i&&n&&c.jsx(vt,{children:"It seems like You have slow internet connection..."}),i&&c.jsx(vt,{children:"Failed to load Soundbubble. Please try again later"}),t&&c.jsx(js,{})]})},vl=_(U)`
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    min-width: 36px;
    width: 36px;
    height: 36px;
    min-height: 36px;
    border-radius: 100%;
    background: ${({theme:e})=>e.colors.pageTopButton};
    z-index: 10;
    display: none;

    &:hover {
        background: ${({theme:e})=>e.colors.sidebar};
    }

    &:active {
        transform: scale(0.96) translateY(-50%);
        transform-origin: top center;
    }

    svg {
        width: 20px;
        height: 20px;
    }

    &.left {
        left: 4px;
    }

    &.right {
        right: 4px;
    }
`,jM=_.div`
    width: 100%;
    height: fit-content;
    position: relative;
    overflow: hidden;
    display: flex;

    @media (min-width: 1001px) {
        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0px;
            width: 20px;
            height: 100%;
            background: ${({theme:e,$overflowColor:t})=>t??e.colors.pageBackground};
            box-shadow: 10px 0 10px 20px
                ${({theme:e,$overflowColor:t})=>t??e.colors.pageBackground};
            z-index: 1;
            display: none;
        }

        &::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0px;
            width: 20px;
            height: 100%;
            background: ${({theme:e,$overflowColor:t})=>t??e.colors.pageBackground};
            box-shadow: -10px 0 10px 20px
                ${({theme:e,$overflowColor:t})=>t??e.colors.pageBackground};
            z-index: 1;
            display: none;
        }

        &.showLeft {
            &::before {
                display: block;
            }

            ${vl}.left {
                display: flex;
            }
        }

        &.showRight {
            &::after {
                display: block;
            }

            ${vl}.right {
                display: flex;
            }
        }
    }
`,lde=_.div`
    display: flex;
    align-items: center;
    gap: 16px;
    max-width: 100%;
    width: 100%;
    overflow-y: hidden;
    overflow-x: scroll;
    scroll-behavior: smooth;

    &::-webkit-scrollbar {
        display: none;
    }

    @media (max-width: 1000px) {
        & > *:first-child {
            margin-left: 20px;
        }

        & > *:last-child {
            margin-right: 20px;
        }
    }
`,$M=({children:e})=>{var f;const[t,n]=b.useState(!1),[r,i]=b.useState(!1),[s,o]=b.useState(0),a=b.useRef(null),l=`${t?"showLeft":""} ${r?"showRight":""}`;return b.useEffect(()=>{var p;(p=a.current)!=null&&p.clientWidth&&(n(s!==0),i(s+a.current.clientWidth+1<a.current.scrollWidth))},[s,e,(f=a.current)==null?void 0:f.scrollWidth]),{showLeftArrow:t,showRightArrow:r,scrollElementRef:a,className:l,handleScroll:p=>{o(p.currentTarget.scrollLeft)},handleScrollLeft:()=>{var p;((p=a.current)==null?void 0:p.scrollLeft)!==void 0&&(a.current.scrollLeft=s-a.current.scrollWidth/3)},handleScrollRight:()=>{var p;((p=a.current)==null?void 0:p.scrollLeft)!==void 0&&(a.current.scrollLeft=s+a.current.scrollWidth/3)}}},cde=_(jM)``,Sp=_.div`
    display: grid;
    grid-column-gap: 16px;
    grid-row-gap: 4px;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(${({rows:e})=>e}, 50px);
    grid-auto-flow: column;
    container-type: size;
    overflow-x: scroll;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    width: 100%;

    &::-webkit-scrollbar {
        display: none;
    }

    @media (max-width: 1300px) {
        grid-template-columns: repeat(
            ${({columns:e})=>e},
            calc(50% - 8px)
        );
    }

    @media (max-width: 1000px) {
        grid-template-columns: repeat(
            ${({columns:e})=>e},
            calc(100% - 40px)
        );
        grid-template-rows: repeat(${({rows:e})=>e}, 50px);
        grid-column-gap: 8px;
        grid-row-gap: 2px;

        & > * {
            scroll-snap-align: center;
        }

        & > * {
            margin: 0 20px;
        }
    }
`,ude="(max-width: 766px)",dde="(max-width: 1000px)",hde="(max-width: 1380px)",fde="(min-width: 1381px)",pde=[{query:ude,title:"isMobile",value:"mobile"},{query:dde,title:"isTablet",value:"tablet"},{query:hde,title:"isSmallDesktop",value:"smallDesktop"},{query:fde,title:"isMiddleDesktop",value:"middleDesktop"}],Q0=e=>e.reduce((t,n)=>(t[n.title]=n.mql.matches,t),{}),gde=()=>{const e=pde.map(({query:r,title:i})=>({mql:matchMedia(r),title:i})),[t,n]=b.useState(Q0(e));return b.useLayoutEffect(()=>(e.forEach(({mql:r})=>r.addEventListener("change",()=>{n(Q0(e))})),()=>e.forEach(({mql:r})=>r.removeEventListener("change",()=>{n(Q0(e))}))),[e]),{...t,currentDevice:Object.keys(t).find(r=>t[r]===!0)??"desktop"}},y1=e=>{const{songs:t,children:n}=e,{currentSong:r,state:i,loaded:s}=G.useSong(),{handlePlay:o}=CM(e),{isMobile:a}=gde(),l=a?4:3,u=(n==null?void 0:n(t))??c.jsx(c.Fragment,{children:t.map((y,w)=>{const m=y.id===(r==null?void 0:r.id);return c.jsx(vS,{onClick:o,index:w,song:y,playing:m&&i==="playing",loading:m&&i==="loading",loaded:m&&s},y.id+w)})}),{scrollElementRef:d,className:h,handleScroll:f,handleScrollLeft:p,handleScrollRight:g}=$M({children:u});return c.jsxs(cde,{className:h,children:[c.jsx(vl,{className:"left",onClick:p,children:c.jsx(Yu,{})}),c.jsx(Sp,{className:"grid-list",onScroll:f,ref:d,columns:a?Math.ceil(t.length/l):3,rows:t.length>l?l:t.length,children:u}),c.jsx(vl,{className:"right",onClick:g,children:c.jsx(AA,{})})]})},mde=_(Br)`
    display: inline-flex;
    align-items: center;
    gap: 4px;

    @media (hover: hover) {
        &:hover {
            cursor: pointer;

            svg {
                opacity: 1;
            }
        }
    }
`,xl=({showNavigation:e,to:t,children:n})=>e?c.jsxs(mde,{to:t,children:[n,c.jsx(_x,{strokeWidth:1.5,size:20,opacity:.5})]}):n,Uu=e=>e===void 0?null:e>=1e3&&e<1e6?(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?(e/1e6).toFixed(1)+"M":e.toString(),NM=_(No)`
    min-height: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: 20px;
    position: relative;
    background-size: 150% 250%;
    animation: none;
    color: #fff;
    z-index: 4;
    transition: 0.2s;

    a {
        color: #fff;
    }
`,MM=_.div`
    display: flex;
    align-items: center;
    position: absolute;
    top: 30px;
    right: 30px;
    gap: 10px;

    &.compact {
        top: 15px;
    }

    button {
        border-radius: 100%;
        color: #fff;
    }

    @media (max-width: 768px) {
        top: 16px;
        right: 16px;
    }
`,OM=_.div`
    display: flex;
    align-items: center;
    position: absolute;
    top: 30px;
    left: 30px;

    &.compact {
        top: 15px;
    }

    button {
        border-radius: 100%;
        color: #fff;
    }

    @media (max-width: 768px) {
        top: 16px;
        left: 16px;
    }
`,yde=_.div`
    width: 100%;
    position: absolute;
    height: 100%;
    left: 0;
    padding-top: 270px;
    overflow: hidden;
    z-index: 0;
    pointer-events: none;

    img {
        width: 300%;
        animation: bgWave 4s linear infinite;
        opacity: 0.05;
        z-index: 0;

        @keyframes bgWave {
            0% {
                transform: translateX(0%);
            }
            100% {
                transform: translate(-50%);
            }
        }
    }
`,vde=({name:e,subtitle:t,bottomButtons:n,isPrivate:r,numberOfListenersPerMonth:i,subscribers:s,imageComponent:o,colors:a,isVerified:l,handleClickShare:u})=>{const d=ki(),h=Yn(),f=p=>{p.stopPropagation(),mt.events.open({e:p,height:208,content:c.jsxs(Ao,{children:[c.jsxs(U,{children:[c.jsx(MA,{}),"Edit"]}),c.jsx(Fr,{}),c.jsxs(U,{onClick:u,children:[c.jsx(yo,{}),"Share"]}),c.jsxs(U,{children:[c.jsx(mo,{}),"Info"]}),c.jsx(Fr,{}),c.jsxs(U,{color:h.scheme.red.text,children:[c.jsx(Cx,{}),"Delete"]})]})})};return c.jsxs(NM,{$colors:a,children:[o,c.jsxs(C,{gap:8,d:"column",ai:"center",children:[c.jsxs(C,{gap:4,d:"column",children:[c.jsxs(C,{gap:6,children:[c.jsx("h2",{children:e}),l&&c.jsx(Kp,{color:a==null?void 0:a[1]}),r&&c.jsx(Ix,{size:20})]}),c.jsx("div",{className:"subtitle",children:t})]}),c.jsxs(C,{gap:20,style:{opacity:"0.8",fontWeight:"300"},className:"stats",children:[c.jsxs(C,{gap:4,children:[Uu(i),c.jsx(cu,{size:16})]}),c.jsxs(C,{gap:4,children:[Uu(s),c.jsx(Qp,{size:16})]})]})]}),c.jsx(OM,{children:c.jsx(U,{$height:"40px",$width:"40px",onClick:()=>d(-1),children:c.jsx(Yu,{size:20})})}),c.jsxs(MM,{children:[c.jsx(Nd,{song:null,isLiked:!1,likeColor:void 0,height:"40px",width:"40px"}),c.jsx(U,{$height:"40px",$width:"40px",onClick:f,children:c.jsx($A,{size:20})})]}),n]})},Vd=({page:e,onChangeId:t})=>{const n=L9(`${e}/:id`);b.useEffect(()=>{t(n==null?void 0:n.params.id)},[n==null?void 0:n.params.id])},xde=()=>c.jsx("div",{children:"AddAlbumModal"}),wde=()=>null,Gr=_.div`
    overflow-y: auto;
    height: 100%;
    display: flex;
    flex-direction: column;
`,Ho=_.div`
    padding: 20px var(--page-padding);
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 2px;
    position: relative;

    @media (max-width: 1000px) {
        padding: 0 var(--page-padding);
        padding-bottom: 10px;
        gap: 4px;
    }
`,xS=_(Gr)`
    .title {
        margin-bottom: 10px;
        margin-left: 40px;
    }

    h3 {
        font-weight: 400;
    }

    @media (max-width: 1000px) {
        .title {
            margin-left: 20px;
        }
    }
`;_(No)`
    height: 380px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: 20px;

    background-size: 300% 300%;
    animation: none;
`;_.div`
    width: 200px;
    height: 200px;
    border-radius: 100%;
    overflow: hidden;
    z-index: 2;

    img {
        width: 200px;
        height: 200px;
        object-fit: cover;
    }
`;const wS=_.div`
    width: 100%;
    padding: 40px 0;

    & .grid-list {
        padding: 0 34px;
    }

    @media (max-width: 1000px) {
        padding: 0;
        padding-bottom: 30px;
        padding-top: 40px;

        & .grid-list {
            padding: 0;
        }
    }
`;_.div`
    width: 100%;

    & .horizontal-list {
        padding: 0 40px;
        padding-bottom: 40px;
    }

    @media (max-width: 1000px) {
        padding-bottom: 20px;

        & .horizontal-list {
            padding: 0;
            gap: 10px;
        }
    }
`;const Rk=_.div`
    display: flex;
    align-items: center;
    gap: 8px;
    width: 300px;
    margin-bottom: -70px;

    button {
        box-shadow: 0 20px 50px #00000036;

        & > div {
            filter: brightness(${({theme:e})=>e.colors.brightness});
        }
    }

    @media (max-width: 500px) {
        width: 100%;
        padding: 0 20px;

        button {
            height: 43px;
        }
    }
`,_de=_.div`
    width: 100%;
    background: ${({theme:e})=>e.colors.pageBackground4};
    display: flex;
    flex-direction: column;
    padding: 30px 0;

    & .horizontal-list {
        padding: 0 40px;
    }

    @media (max-width: 1000px) {
        padding: 20px 0px;

        & .horizontal-list {
            padding: 0;
        }
    }
`,_S=({isAdmin:e,isPageOwner:t,queueInfo:n,buttonColor:r})=>{const{state:i}=G.useSong(),{queue:s}=G.queue.useQueue(),o=Yn();return e&&t?c.jsxs(Rk,{className:"bottom-buttons",children:[c.jsxs(U,{onClick:()=>xe.events.open({content:c.jsx(wde,{}),title:"Add new song"}),$background:o.colors.pageBackground,style:{color:o.scheme.blue.main,gap:"10px"},children:[c.jsx(UA,{size:18}),"New song"]}),c.jsxs(U,{onClick:()=>xe.events.open({content:c.jsx(xde,{}),title:"Add new album"}),$background:o.colors.pageTopButton,style:{color:o.scheme.blue.main,gap:"10px"},children:[c.jsx(Yp,{size:18}),"New album"]})]}):c.jsxs(Rk,{className:"bottom-buttons",children:[c.jsxs(ze,{loading:i==="loading"&&s.url===n.listUrl,onClick:()=>null,style:{background:o.colors.pageTopButton,color:r},children:[c.jsx(hm,{size:20,loading:i==="loading"&&s.url===n.listUrl,playling:i==="playing"&&s.url===n.listUrl}),"Play"]}),c.jsxs(ze,{loading:!1,onClick:()=>null,style:{background:o.colors.pageTopButton,color:r},children:[c.jsx(PA,{size:20}),"Shuffle"]})]})},Ep=({children:e,overflowColor:t})=>{const{className:n,scrollElementRef:r,handleScroll:i,handleScrollLeft:s,handleScrollRight:o}=$M({children:e});return c.jsxs(jM,{className:n,$overflowColor:t,children:[c.jsx(vl,{className:"left",onClick:s,children:c.jsx(Yu,{})}),c.jsx(lde,{className:"horizontal-list",ref:r,onScroll:i,children:e}),c.jsx(vl,{className:"right",onClick:o,children:c.jsx(AA,{})})]})},lo=_(wS)`
    padding: 16px 0;

    h3 {
        font-weight: 400;
    }

    & .horizontal-list {
        padding: 0 40px;
        padding-bottom: 40px;
    }

    @media (max-width: 1000px) {
        padding-bottom: 20px;

        & .horizontal-list {
            padding: 0;
            gap: 15px;
        }
    }
`,LM=_.div`
    width: 100%;
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 80px 40px;
    padding-bottom: 40px;
    background: linear-gradient(
        180deg,
        ${({color:e,theme:t})=>`${`rgba(${Sr(e)}, 0.4)`}, ${t.colors.pageBackground}`}
    );

    h2 {
        font-weight: 400;
    }

    @media (max-width: 768px) {
        flex-direction: column;
        padding: 80px 20px;
        padding-bottom: 20px;
    }
`,DM=_.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 5px;

    @media (max-width: 768px) {
        align-items: center;
    }
`,VM=_.div`
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: flex-start;

    @media (max-width: 768px) {
        align-items: center;
        width: 100%;
        gap: 30px;
    }
`,FM=_.div`
    display: flex;
    width: 330px;
    gap: 10px;

    button {
        max-width: 160px;
    }

    @media (max-width: 768px) {
        width: 100%;

        button {
            max-width: none;
        }
    }
`,Js=9,jk=6,$k=9,UM=({title:e,uid:t})=>{const[{playlists:n}]=Y.useUserPage();return n.length===0?null:c.jsxs(lo,{children:[c.jsx("div",{className:"title",children:c.jsx(xl,{showNavigation:n.length>jk,to:`/authors/${t}/playlists`,children:c.jsx("h3",{children:e})})}),c.jsx(Ep,{children:n.slice(0,jk).map(r=>c.jsx(ws,{playlist:r},r.id))})]})},Sde=_(X)`
    --size: calc(100vw / 10 - 17px);

    @media (max-width: 1200px) {
        --size: calc(100vw / 7 - 32px);
    }

    @media (max-width: 1000px) {
        --size: calc(100vw / 5 - 32px);
    }

    @media (max-width: 768px) {
        --size: calc(100vw / 3 - 27px);
    }

    width: var(--size);
    height: var(--size);
`,Jt=({orientation:e="vertical"})=>e==="horizontal"?c.jsxs(C,{gap:10,width:"100%",children:[c.jsx(X,{radius:"100%",width:"40px",height:"40px"}),c.jsxs(C,{d:"column",gap:4,ai:"flex-start",children:[c.jsx(X,{radius:"4px",width:"200px",height:"14px"}),c.jsx(X,{radius:"4px",width:"80px",height:"10px"})]})]}):c.jsxs(C,{d:"column",gap:10,children:[c.jsx(Sde,{radius:"100%",width:"calc(100vw / 11)",height:"calc(100vw / 11)"}),c.jsxs(C,{d:"column",gap:4,children:[c.jsx(X,{radius:"4px",width:"140px",height:"20px"}),c.jsx(X,{radius:"4px",width:"80px",height:"14px"})]})]}),Ede=(e,t)=>{const[n,r]=b.useState(!1),[i,s]=b.useState(!1),o=b.useMemo(()=>new IntersectionObserver(([a])=>{s(a.isIntersecting),n||r(a.isIntersecting)}),[e]);return b.useEffect(()=>{i&&t&&t()},[i,n]),b.useEffect(()=>(e.current!==null&&o.observe(e.current),()=>o.disconnect()),[]),i},Ide=({songs:e,currentPageUser:t})=>{const n=b.useRef(null),r=Yn(),[{similarAuthors:i,similarAuthorsLoading:s}]=Y.useUserPage();return Ede(n,()=>{i.length===0&&Y.events.loadSimilarAuthors(e)}),!s&&i.length===1?null:c.jsxs(_de,{ref:n,children:[c.jsx("div",{className:"title",children:c.jsx(xl,{showNavigation:i.length>$k,to:`/author/${t==null?void 0:t.uid}/similar-authors`,children:c.jsx("h3",{children:"Similar Authors"})})}),c.jsx(Ep,{overflowColor:r.colors.pageBackground4,children:i.slice(0,$k).map(o=>o.uid===(t==null?void 0:t.uid)?null:c.jsx(Qn,{user:o},o.uid))}),s&&c.jsxs(Ep,{overflowColor:r.colors.pageBackground2,children:[c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{})]})]})},Tde=_(X)`
    --size: calc(100vw / 8 + 3px);

    @media (max-width: 1200px) {
        --size: calc(100vw / 6);
    }

    @media (max-width: 800px) {
        --size: calc(100vw / 2 - 30px);
    }

    width: var(--size);
    height: var(--size);
`,Vn=()=>{const e=Yn();return c.jsxs(C,{gap:12,ai:"flex-start",d:"column",children:[c.jsx(Tde,{width:"calc(100vw / 8)",height:"calc(100vw / 8)",radius:e.borderRadius.middle}),c.jsxs(C,{gap:7,ai:"flex-start",d:"column",children:[c.jsx(X,{width:"120px",height:"15px",radius:"4px"}),c.jsx(X,{width:"80px",height:"12px",radius:"3px"})]})]})},Ie=({removeBackground:e=!1})=>c.jsxs(Xue,{children:[c.jsx(Zue,{className:e?"no-background":"",children:c.jsx(X,{width:"100%",height:"50px",radius:"12px",children:c.jsxs(C,{gap:10,width:"100%",padding:"8px",children:[c.jsx(X,{width:"35px",height:"35px",radius:Qx}),c.jsxs(C,{width:"100%",d:"column",ai:"flex-start",gap:4,children:[c.jsx(X,{width:"70%",height:"14px"}),c.jsx(X,{width:"120px",height:"10px"})]})]})})}),c.jsx(Jue,{children:c.jsx(X,{width:"100%",height:"46px",radius:"10px",children:c.jsxs(C,{width:"100%",gap:20,padding:"6px",children:[c.jsx(X,{width:"35px",height:"35px",radius:"6px"}),c.jsx(X,{width:"25%",height:"18px",radius:"6px"}),c.jsx(X,{width:"25%",height:"18px",radius:"6px"}),c.jsx(X,{width:"20%",height:"18px",radius:"6px"}),c.jsx(X,{width:"18%",height:"18px",radius:"6px"})]})})})]}),bde=_.div`
    padding: 0 calc(var(--page-padding) + 4px);
    width: 100%;
`,kde=()=>c.jsxs(C,{width:"100%",d:"column",ai:"flex-start",height:"100%",children:[c.jsx(X,{width:"100%",height:"400px",radius:"0",children:c.jsxs(C,{width:"100%",d:"column",padding:"56px 62px 50px 50px",ai:"center",jc:"center",gap:21,children:[c.jsx(X,{width:"200px",height:"200px",radius:"100%"}),c.jsxs(C,{d:"column",gap:8,children:[c.jsx(X,{width:"200px",height:"30px"}),c.jsx(X,{width:"100px",height:"10px",radius:"3px"}),c.jsx(X,{width:"100px",height:"20px",radius:"3px"})]})]})}),c.jsxs(bde,{children:[c.jsxs(wS,{children:[c.jsx(X,{width:"100px",height:"25px",radius:"6px",style:{marginBottom:"8px"}}),c.jsxs(Sp,{rows:3,columns:3,children:[c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{})]})]}),c.jsxs(C,{d:"column",ai:"flex-start",gap:8,width:"100%",children:[c.jsx(X,{width:"115px",height:"25px",radius:"6px"}),c.jsxs(C,{gap:14,width:"100%",children:[c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{})]})]}),c.jsxs(C,{d:"column",ai:"flex-start",padding:"40px 0 0 0",gap:20,width:"100%",children:[c.jsx(X,{width:"145px",height:"25px",radius:"6px"}),c.jsxs(C,{gap:30,width:"100%",children:[c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{}),c.jsx(Jt,{})]})]})]})]}),zM=({userData:e})=>{const[{user:t,songs:n},r]=Y.useUserPage(),[{data:i}]=Y.useUser(),s=e??t,[o]=Y.useFriends(),a=!!o.find(g=>g.uid===(t==null?void 0:t.uid)),{status:l}=Ld(t==null?void 0:t.online),[u,d,h]=[(s==null?void 0:s.isAuthor)??!1,(s==null?void 0:s.isAdmin)??!1,(i==null?void 0:i.uid)===(s==null?void 0:s.uid)];Vd({page:"author",onChangeId:g=>{g&&Y.events.getUserPage(g)}}),b.useEffect(()=>()=>{Y.events.resetUserPage()},[]);const f={listName:(s==null?void 0:s.displayName)??"Author",listIcon:s==null?void 0:s.photoURL,listUrl:`/author/${s==null?void 0:s.uid}`,songs:n.slice(0,Js)},p=()=>{xe.events.open({title:`Share ${t==null?void 0:t.displayName} with friends`,content:c.jsx(Dd,{entity:t})})};return c.jsx(xS,{children:c.jsxs(Ns,{color:(s==null?void 0:s.imageColors[0])??"grey",loading:!t||r,skeleton:c.jsx(kde,{}),children:[c.jsx(vde,{handleClickShare:p,id:s==null?void 0:s.uid,name:s==null?void 0:s.displayName,subtitle:c.jsx(pm,{color:t==null?void 0:t.imageColors[1],isAuthor:u,status:l,showLastSeen:a||(i==null?void 0:i.isAdmin)}),numberOfListenersPerMonth:s==null?void 0:s.numberOfListenersPerMonth,isVerified:s==null?void 0:s.isVerified,subscribers:s==null?void 0:s.subscribers,imageComponent:c.jsx(Ur,{isAuthor:u,colors:s==null?void 0:s.imageColors,src:s==null?void 0:s.photoURL,size:"200px"}),colors:s==null?void 0:s.imageColors,bottomButtons:c.jsx(_S,{buttonColor:s==null?void 0:s.imageColors[1],isAdmin:d,isPageOwner:h,queueInfo:f})}),c.jsxs(wS,{children:[c.jsx("div",{className:"title",children:c.jsx(xl,{showNavigation:n.length>Js,to:`/author/${s==null?void 0:s.uid}/songs`,children:c.jsx("h3",{children:"Top Songs"})})}),c.jsx(y1,{...f,songs:n.slice(0,Js)})]}),c.jsx(UM,{uid:s==null?void 0:s.uid,title:"Top Albums"}),!r&&c.jsx(Ide,{songs:n,currentPageUser:t})]})})},Cde=_.div`
`,Ade=_.div`
    width: 100%;
    display: grid;
    padding: 8px;
    grid-template-columns: 55px 1fr 1fr 200px 86px;
    color: ${({theme:e})=>e.colors.textColor};
    position: relative;
    background: ${({theme:e})=>e.colors.pageBackground};
    z-index: 2;

    @media (max-width: 1080px) {
        display: none;
    }
`,Sh=_.div`
    text-transform: uppercase;
    opacity: 0.3;
    font-size: 0.7rem;
    font-weight: 400;
`;_.div`
    display: flex;
    flex-direction: column;
    gap: 20px;
`;_.div`
    container-type: size;
    display: flex;
    align-items: center;
    gap: 0px;
    width: 100%;
    height: 40px;
`;_(qe)`
    border-radius: ${({theme:e})=>e.borderRadius.mild};

    @container (min-width: 700px) {
        min-width: 35px;
        height: 35px;
    }

    @container (max-width: 699px) {
        min-width: 40px;
        height: 40px;
    }
`;_.div`
    display: flex;
    width: 100%;

    @container (min-width: 700px) {
        flex-direction: row;
        align-items: center;
        gap: 30px;
        margin-left: 28px;
    }

    @container (max-width: 699px) {
        flex-direction: column;
        gap: 6px;
        margin-left: 15px;
    }
`;_(qe)`
    height: 15px;
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    width: 100%;

    @container (min-width: 700px) {
        width: 100%;
    }

    @container (max-width: 699px) {
        width: 300px;
    }
`;_(qe)`
    width: 100%;
    border-radius: ${({theme:e})=>e.borderRadius.mild};

    @container (min-width: 700px) {
        width: 100%;
        height: 15px;
    }

    @container (max-width: 699px) {
        width: 200px;
        height: 8px;
    }
`;_(qe)`
    height: 15px;
    border-radius: ${({theme:e})=>e.borderRadius.mild};

    @container (min-width: 700px) {
        width: 380px;
    }

    @container (max-width: 699px) {
        display: none;
    }
`;const ym=e=>c.jsxs(Cde,{children:[!!e.songs.length&&c.jsxs(Ade,{children:[c.jsx(Sh,{}),c.jsx(Sh,{children:"Name"}),c.jsx(Sh,{children:"Author"}),c.jsx(Sh,{children:"Listenings"})]}),c.jsx(mm,{...e})]});var us=(e=>(e.light="light",e.dark="dark",e))(us||{});const Pde={[us.light]:bV,[us.dark]:hg},Rde=us.dark,jde=()=>{const e=localStorage.getItem("theme");return e?us[e]:Rde},zu=Z(jde()),$de=We(e=>{localStorage.setItem("theme",e)}),SS=V(),Nde=V();N({clock:SS,source:zu,fn:e=>e===us.light?us.dark:us.light,target:[zu,$de]});N({clock:Nde,source:zu,fn:(e,t)=>t,target:zu});const BM=()=>{const e=be(zu);return{theme:e,themeParams:Pde[e]}},HM=()=>{const{openLoginModal:e}=dm(),[{data:t},n]=Y.useUser();return t?null:c.jsxs(ze,{loading:n,width:"100px",onClick:e(),appearance:"primary",children:["Login",c.jsx($5,{size:18})]})},Mde=70,Ode=_.header`
    width: 100%;
    max-width: 100%;
    min-height: ${Mde}px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 0px calc(var(--page-padding) + 6px) 0
        calc(var(--page-padding) + 6px);
    top: 0px;
    position: sticky;
    scroll-padding-top: 150px;
    /* border-bottom: 1px solid ${({theme:e})=>e.colors.border}; */
    background: ${({theme:e})=>e.colors.header};
    backdrop-filter: blur(16px);
    color: ${({theme:e})=>e.colors.textColor};
    z-index: 11;

    &.hidden,
    &.hide-on-desktop {
        display: none;
    }

    @media (max-width: 1000px) {
        padding: 10px 20px;
        min-height: fit-content;
        display: flex;
        justify-content: flex-start;

        &.hide-on-desktop {
            display: flex;
        }
    }
`,Lde=_.div`
    width: 100%;
    display: flex;
    justify-content: center;

    @media (max-width: 1000px) {
        display: none;
    }
`,Dde=_.div`
    width: 100%;

    @media (min-width: 1001px) {
        display: none;
    }
`,Vde=_.h2`
    width: 300px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 400;

    @media (max-width: 1000px) {
        font-weight: 500;
    }
`,Fde={settings:{type:"section",key:"",items:{account:{key:"Account",color:"red",icon:W5,type:"link",children:{}},general:{key:"General",color:"blue",icon:HA,type:"link",children:{}},lang:{key:"Language",icon:P5,color:"green",type:"link",children:{language:{type:"section",key:"Interface Language",items:{"interface-language":{key:"Interface language",type:"select-list",items:[{text:"English",subtext:"English"},{text:"Русский",subtext:"Russian"}],value:"English"}}}}},appearance:{key:"Appearance",icon:jA,type:"link",color:"purple",children:{theme:{type:"section",key:"Theme",items:{darkMode:{key:"Dark Mode",icon:FA,type:"toggle",value:!0},"auto-night-mode":{key:"Auto-Dark mode",type:"link",children:{"auto-night-mode-list":{type:"section",key:"Auto-Dark mode",items:{"auto-night-model-link":{type:"select-list",key:"Auto-Night mode",items:[{text:"Disabled"},{text:"System"},{text:"Scheduled"},{text:"Automatic"}],value:"Disabled"}}}}}}},animations:{type:"section",key:"Performace",items:{animations:{key:"Animations",type:"toggle",icon:A5,value:!0,subtext:"Will increase performance if disabled"},gradients:{key:"Gradients",type:"toggle",value:!0}}}}}}}},WM=(e,t,n)=>{const r=t.split("."),[i,...s]=r;return s.length===0?{...e,[i]:n}:{...e,[i]:WM(e[i],s.join("."),n)}},qM=V(),v1=Z(Fde);N({clock:qM,source:v1,fn:(e,{path:t,value:n})=>WM(e,t,n),target:v1});const Bu={useSettings:()=>be([v1]),events:{updateSettings:qM}},Ude=_(U)`
    justify-content: space-between;
    padding: 16px 20px;

    &:active {
        transform: scale(1);
    }

    @media (max-width: 768px) {
    }
`,zde=_.div`
    display: flex;
    flex-direction: column;
    width: calc(100% - 50px);
    background: ${({theme:e})=>e.colors.pageTopButton};
    margin: 25px;
    margin-top: 10px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 0 1px #00000091;

    & button:not(:last-child),
    & > div:not(:last-child) {
        border-bottom: 1px solid ${({theme:e})=>e.scheme.grey.transparent};
        border-radius: 0;
    }

    @media (max-width: 768px) {
        margin: 16px;
        margin-top: 10px;
        width: calc(100% - 32px);
    }
`,Bde=_.h5`
    margin-left: 45px;
    font-weight: 200;
    margin-bottom: 0;
    margin-top: 10px;
    color: ${({theme:e})=>e.colors.greyText2};

    @media (max-width: 768px) {
        margin-left: 35px;
    }
`,GM=_(U)`
    font-weight: 200;
    justify-content: space-between;
    padding: 16px 20px;

    &:active {
        transform: scale(1);
        background: ${({theme:e})=>e.scheme.grey.transparent};
    }

    .left-icon {
        width: 20px;
        height: 20px;
        color: ${({theme:e})=>e.colors.greyText2};
    }

    .check-icon {
        width: 18px;
        height: 18px;
        color: ${({theme:e})=>e.scheme.blue.action};
    }
`,Hde=_.div`
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 13px;
    background: rgba(${({color:e})=>Sr(e)}, 0.2);

    svg {
        width: 20px;
        height: 20px;
        color: ${({color:e})=>e};
    }
`,ES=_.div`
    font-size: 0.9rem;
    font-weight: 200;
`,Wde=({title:e,children:t,icon:n,color:r,path:i,currentSetting:s})=>{const o=Yn(),a=Object.values(s.children??{})[0],{type:l}=s;let u="";if((a==null?void 0:a.type)==="section"){const d=Object.values(a.items)[0];l==="link"&&"value"in d&&(u=d.value===!0?"On":d.value===!1?"Off":d.value)}return c.jsxs(Ude,{onClick:()=>xe.events.open({title:e,content:c.jsx(IS,{childrenSettings:t,path:i})}),children:[c.jsxs(C,{gap:20,children:[n&&c.jsx(Hde,{color:r?o.scheme[r].main:"grey",children:n}),c.jsx(ES,{children:e})]}),c.jsxs(C,{gap:10,children:[c.jsx(vt,{children:u}),c.jsx(_x,{opacity:.3,size:18})]})]})},qde=({title:e,currentSetting:t,path:n})=>c.jsxs(C,{ai:"flex-start",d:"column",width:"100%",children:[e&&c.jsx(Bde,{children:e.toUpperCase()}),c.jsx(zde,{children:c.jsx(IS,{childrenSettings:t.items,path:`${n}.items`})})]}),KM=(e,t)=>{const n=t.split(".");let r=e;for(const i of n)r=r[i];return r},Gde=({settings:e,currentSetting:t,path:n})=>c.jsx(c.Fragment,{children:t.items.map(({text:r,subtext:i})=>{const s=r===KM(e,`${n}.value`);return c.jsxs(GM,{$width:"100%",onClick:()=>{Bu.events.updateSettings({path:`${n}.value`,value:r})},children:[c.jsxs(C,{d:"column",ai:"flex-start",children:[c.jsx(ES,{children:r}),c.jsx(vt,{children:i})]}),s&&c.jsx(wx,{className:"check-icon"})]},r)})}),Kde=_.label`
    input[type='checkbox'] {
        display: none;
    }

    .switchToggle {
        width: ${({$width:e})=>e}px;
        height: ${({$height:e})=>e}px;
        border-radius: 20px;
        background-color: ${({theme:e})=>e.colors.border};
        position: relative;
        cursor: pointer;
        transition: 0.2s;
    }

    .circle {
        width: calc(${({$height:e})=>e}px - 4px);
        height: calc(${({$height:e})=>e}px - 4px);
        background: ${({theme:e})=>e.colors.pageBackground};

        border-radius: 100%;
        position: absolute;
        top: 2px;
        left: 2px;
        transition: 0.2s;
        box-shadow: 0 0px 4px 0 ${({theme:e})=>e.colors.border};
    }

    input:checked + .switchToggle .circle {
        background: #fff;
        transform: translateX(calc(100% - 4px));
        box-shadow: none;
    }

    input:checked + .switchToggle {
        background: ${({theme:e})=>e.scheme.blue.action};
    }
`,Qde={s:24,m:32,l:40},Yde={s:40,m:56,l:70},Xde=({checked:e,onChange:t,size:n="m"})=>c.jsxs(Kde,{$width:Yde[n],$height:Qde[n],children:[c.jsx("input",{type:"checkbox",checked:e,onChange:t}),c.jsx("div",{className:"switchToggle",children:c.jsx("div",{className:"circle"})})]}),Jde=({title:e,currentSetting:t,path:n,settings:r})=>{const i=t.icon,s=`${n}.value`,o=KM(r,s);return c.jsxs(GM,{onClick:()=>Bu.events.updateSettings({path:s,value:!o}),children:[c.jsxs(C,{gap:10,children:[i&&c.jsx(i,{className:"left-icon"}),c.jsxs(C,{d:"column",ai:"flex-start",children:[c.jsx(ES,{children:e}),t.subtext&&c.jsx(vt,{children:t.subtext})]})]}),c.jsx(Xde,{checked:o,onChange:()=>null,size:"s"})]})},IS=({childrenSettings:e,path:t=""})=>{const[n]=Bu.useSettings(),r=e??n;return c.jsxs(C,{d:"column",gap:10,width:"100%",children:[!e&&c.jsx(C,{width:"100%",padding:"2px 25px",children:c.jsx(Mn,{icon:c.jsx(bi,{}),placeholder:"Search for settings..."})}),c.jsx(C,{d:"column",width:"100%",children:Object.keys(r).map(i=>{const s=r[i],{type:o,key:a}=s,l=a,u=`${t}${t===""?"":"."}${i}`;if(o==="link"){const d=s.icon;return c.jsx(Wde,{title:l,children:s.children,icon:d!==void 0?c.jsx(d,{}):null,color:s.color,path:`${u}.children`,settings:n,currentSetting:s})}if(o==="section")return c.jsx(qde,{title:l,currentSetting:s,path:u});if(o==="toggle")return c.jsx(Jde,{title:l,currentSetting:s,path:u,settings:n});if(o==="select-list")return c.jsx(Gde,{title:l,currentSetting:s,path:u,settings:n})})})]})},Zde=()=>{const[{data:e}]=Y.useUser(),t=ki(),n=()=>{Y.events.logout()},r=()=>{xe.events.open({title:"Share profile with friends",content:c.jsx(Dd,{entity:e})}),mt.events.close()},i=()=>{xe.events.open({title:"Settings",content:c.jsx(IS,{})}),mt.events.close()};return c.jsxs(Ao,{children:[c.jsxs(U,{onClick:()=>{t("/me"),mt.events.close()},children:[c.jsx(Ur,{colors:(e==null?void 0:e.imageColors)??["grey"],src:e==null?void 0:e.photoURL,size:"20px",isAuthor:e==null?void 0:e.isAuthor}),"Go to profile"]}),c.jsxs(U,{onClick:r,children:[c.jsx(yo,{}),"Share profile"]}),c.jsx(Fr,{}),c.jsxs(U,{children:[c.jsx(NA,{}),"Edit"]}),c.jsxs(U,{onClick:i,children:[c.jsx(HA,{}),"Settings"]}),c.jsxs(U,{onClick:()=>SS(),children:[c.jsx(WA,{}),"Change theme"]}),c.jsx(Fr,{}),c.jsxs(U,{onClick:n,children:[c.jsx(N5,{}),"Logout"]})]})},QM=(e,t)=>{const{pathname:n}=t,r=n.split("/");for(let i=0;i<e.length;i++){const s=e[i];if(s.children){const o=QM(s.children,t);if(o)return o}else if(r[1]===s.url)return s}return null},Ms=({children:e,hide:t,className:n})=>{const[{data:r}]=Y.useUser(),i=zr(),s=QM(RS,i),o=a=>{a.stopPropagation(),mt.events.open({content:c.jsx(Zde,{}),e:a,height:289})};return c.jsxs(Ode,{className:`${n} ${t?"hidden":""}`,children:[c.jsxs(C,{width:"100%",height:"50px",jc:"space-between",gap:30,style:{zIndex:"10"},children:[c.jsx(Vde,{children:s==null?void 0:s.title}),c.jsx(Lde,{children:e}),c.jsxs(C,{width:"300px",gap:20,jc:"flex-end",children:[r&&c.jsx(U,{$width:"40px",onClick:o,children:c.jsx(Ur,{colors:r==null?void 0:r.imageColors,src:r==null?void 0:r.photoURL,size:"30px",isAuthor:r==null?void 0:r.isAuthor})}),c.jsx(HM,{})]})]}),c.jsx(Dde,{children:e})]})},ehe=()=>{const[{user:e,songs:t}]=Y.useUserPage(),n={listName:(e==null?void 0:e.displayName)??"Author",listIcon:e==null?void 0:e.photoURL,listUrl:`/author/${e==null?void 0:e.uid}/songs`,songs:t};return c.jsxs(Gr,{children:[c.jsx(Ms,{}),c.jsx(Ho,{children:c.jsx(ym,{...n})})]})},the=_.div`
    max-width: 650px;
    width: 100%;
    margin: 0px auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 30px;

    @media (max-width: 768px) {
        padding: 20px;
        gap: 8px;
    }
`,nhe=()=>{const[{similarAuthors:e}]=Y.useUserPage();return c.jsxs(Gr,{children:[c.jsx(Ms,{}),c.jsx(the,{children:e.map(t=>c.jsx(Qn,{user:t,orientation:"horizontal"},t.uid))})]})},rhe=_.div`
    padding: 10px 25px;
`,YM=()=>{const[e]=Y.useFriends(),t=()=>{};return c.jsx(rhe,{children:c.jsx(mS,{inputPlaceholder:"Search for friends...",entities:e,renderItem:(n,r,i)=>c.jsx(Qn,{orientation:"horizontal",as:"div",user:n,onClick:i,children:c.jsx(gS,{checked:r})},n.uid),renderButton:n=>c.jsxs(c.Fragment,{children:[n.length>1&&c.jsx(Mn,{placeholder:"Chat Title"}),c.jsxs(ze,{appearance:"primary",onClick:t,children:["Create ",n.length>1?"group":"chat",c.jsx(vM,{children:n.length})]})]})})})},ihe=_.div`
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 2px 20px;
    padding-bottom: 10px;
`,she=_.div`
    display: block;

    @media (max-width: 768px) {
        display: none;
    }
`,ohe=_.div`
    min-width: 380px;
    max-width: 380px;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    background: ${({theme:e})=>e.colors.pageBackground};
    border-right: 1px solid ${({theme:e})=>e.colors.border};
    overflow-y: auto;
    padding-top: 20px;

    @media (max-width: 768px) {
        width: 100%;
        max-width: none;
        overflow-y: hidden;
        display: none;

        &.no-chat {
            display: flex;
        }
    }
`,ahe=_.div`
    display: flex;
    flex-direction: column;
`,lhe=()=>{const{chats:e,chatData:t,lastMessage:n,unreadCounts:r,currentChatId:i}=nr.useChats(),s=()=>{xe.events.open({title:"Create chat with friends",content:c.jsx(YM,{})})};return c.jsxs(ohe,{className:i?"":"no-chat",children:[c.jsx(she,{children:c.jsxs(ihe,{children:[c.jsx(Mn,{icon:c.jsx(bi,{}),placeholder:"Search for chats..."}),c.jsx(U,{onClick:s,$width:"48px",children:c.jsx(VA,{size:20})})]})}),c.jsx(ahe,{children:e.map(o=>c.jsx(yM,{isSelected:i===o.id,unreadCount:r[o.id],lastMessage:n[o.id],chatData:t,chat:o},o.id))})]})},che=_.div`
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 20px;
	height: 100%;
	min-height: 250px;

	svg {
		stroke-width: 1.7px;
	}
`,Ii=({icon:e,title:t="Error",description:n="Error description",children:r})=>c.jsxs(che,{children:[c.jsx(e,{size:90,opacity:.3}),c.jsxs(C,{d:"column",gap:8,children:[c.jsx("h3",{children:t}),c.jsx(vt,{style:{fontSize:"1rem"},children:n})]}),r]}),uhe=_.div`
    width: 100%;
    height: 100%;
    display: flex;

    @media (max-width: 768px) {
        width: auto;
        height: auto;
    }
`,dhe=_.div`
    display: none;

    @media (max-width: 768px) {
        display: block;
    }
`,hhe=_.div`
    width: 100%;

    @media (max-width: 768px) {
        display: block;

        &.no-chat {
            display: none;
        }
    }
`,fhe=()=>{const{currentChatId:e}=nr.useChats();nr.useLoadChats();const t=()=>{xe.events.open({title:"Create chat with friends",content:c.jsx(YM,{})})};return c.jsxs(Gr,{children:[c.jsx(Ms,{className:"hide-on-desktop",children:c.jsx(dhe,{children:c.jsxs(C,{gap:10,width:"100%",children:[c.jsx(Mn,{icon:c.jsx(bi,{}),placeholder:"Search for chats..."}),c.jsx(U,{onClick:t,$width:"48px",children:c.jsx(VA,{size:20})})]})})}),c.jsxs(uhe,{children:[c.jsx(lhe,{}),c.jsx(hhe,{className:e?"":"no-chat",children:e?c.jsx(Gx,{}):c.jsx(Ii,{icon:O5,title:"No chat choosen",description:"Select any chat"})})]})]})},phe=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),ghe=e=>{let t=0;return e?e==null?void 0:e.reduce((n,r,i)=>{const s=e[i-1],o=(s==null?void 0:s.sender)===(r==null?void 0:r.sender),a=new Date((r==null?void 0:r.sentTime)??"").getTime()-new Date((s==null?void 0:s.sentTime)??"").getTime()<6e5;return o&&a?n[t]?n[t].push(r):n[t]=[r]:(t+=1,n[t]=[r]),n},[]):[]},mhe=()=>c.jsxs(Ao,{children:[c.jsxs(U,{children:[c.jsx(mo,{}),"Info"]}),c.jsxs(U,{children:[c.jsx(T5,{}),"Attacments"]}),c.jsxs(U,{children:[c.jsx(D5,{}),"Change wallpaper"]})]}),yhe=_.div`
    height: 100%;
    padding-bottom: 4px;
`,vhe=_.div`
    font-size: 0.7rem;
    margin-left: 10px;
    color: ${({theme:e})=>e.scheme.grey.text};
    font-weight: 300;
`,xhe=_.div`
    width: 100%;
    display: flex;
    align-items: center;
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
`,whe=_.div`
    padding: 8px 10px;
    padding-bottom: 4px;
    border-radius: 8px 10px 10px 12px;
    background: ${({theme:e})=>e.colors.input};
    max-width: 500px;
    font-size: 0.9rem;
    font-weight: 200;
    position: relative;
    display: flex;
    align-items: flex-end;
    gap: 10px;

    &::before {
        content: '';
        display: block;
        position: absolute;
        background: ${({theme:e})=>e.colors.input};
        width: 23px;
        height: 20px;
        bottom: 2px;
        left: -15px;
        border-radius: 100%;
    }

    &::after {
        content: '';
        display: block;
        position: absolute;
        background: ${({theme:e})=>e.colors.pageBackground};
        width: 15px;
        height: 21px;
        border-radius: 0 0 20px 0;
        bottom: 2px;
        left: -15px;
    }

    &.mine {
        background-color: ${({theme:e})=>e.scheme.blue.mild};

        &::before {
            background-color: ${({theme:e})=>e.scheme.blue.mild};
        }
    }

    &.isPrevByTheSameSender {
        border-radius: ${({$isFirst:e})=>e?"14px 14px 14px 8px":"8px 14px 14px 8px"};

        &::before {
            display: none;
        }
    }

    @media (max-width: 768px) {
        max-width: 88%;

        &::after {
            width: 12px;
            left: -12px;
        }

        &::before {
            width: 14px;
            height: 14px;
            left: -9px;
        }
    }
`,_he=_(mM)`
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-top: 8px;
    font-size: 0.65rem;

    svg {
        width: 14px;
        height: 14px;
    }
`,She=_.div`
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;

    @media (max-width: 768px) {
        height: 100dvh;
    }
`,Ehe=_.div`
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-top: 20px;
    overflow-y: auto;
    overflow-x: hidden;
`,Ihe=_(Mn)`
    width: 100%;
    display: flex;
    align-items: center;
    border-radius: 30px;
    padding: 16px;
`,The=_.div`
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0 20px;
    width: 100%;
    height: 80px;
    border-top: 1px solid ${({theme:e})=>e.colors.border};
`,bhe=_.div`
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 8px 16px;
    border-radius: 30px;
    font-weight: 300;
    font-size: 0.8rem;
    position: sticky;
    top: 0px;
    z-index: 1;
    background: ${({theme:e})=>e.colors.pageBackground2};
    margin: 10px auto;
    width: 160px;

    @media (max-width: 768px) {
        font-size: 0.7rem;
        width: 110px;
        background: ${({theme:e})=>e.colors.pageBackground};
        padding: 4px;
        color: ${({theme:e})=>e.scheme.grey.text};
    }
`,khe=_.div`
    display: flex;
    align-items: flex-end;
    gap: 10px;
    padding: 6px 15px;
    width: 100%;

    @media (max-width: 768px) {
        padding: 6px 10px;
    }
`,Che=_.div`
    width: 50px;
    height: 100%;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    transition: 0.2s;
`,Ahe=_.div`
    display: flex;
    flex-direction: column;
    gap: 2px;
    width: 100%;
`,Phe=_.div`
    position: sticky;
    bottom: 20px;
    transition: 0.2s;
`,Rhe=_.div`
    height: 65px;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    border-bottom: 1px solid ${({theme:e})=>e.colors.border};

    @media (hover: hover) {
        &:hover {
            background: ${({theme:e})=>e.colors.hover};
            cursor: pointer;
        }
    }

    @media (max-width: 768px) {
        padding: 0 16px;
    }
`,jhe=_.div`
    width: 100%;
    align-items: center;
    justify-content: center;
    display: flex;
    padding: 10px 20px;
    font-weight: 300;
    font-size: 0.8rem;
    opacity: 0.6;
`,$he=_.div`
    width: 320px;
`,Nhe=_(U)`
    min-width: 35px;
    width: 35px;
    height: 35px;
    border-radius: 100%;
    color: #fff;
`,Mhe=_(U)`
    position: fixed;
    bottom: 170px;
    right: 20px;
    width: 40px;
    border-radius: 100%;
    background: ${({theme:e})=>e.colors.pageBackground2};

    span {
        position: absolute;
        transform: translate(14px, 14px);
    }
`,Ohe=()=>{const{chats:e,currentChatId:t,chatData:n}=nr.useChats(),[{data:r}]=Y.useUser(),i=e.find(y=>y.id===t),s=(i==null?void 0:i.typing.filter(y=>y!==(r==null?void 0:r.uid)).map(y=>n[y]))??[],o=(i==null?void 0:i.participants.filter(y=>y!==(r==null?void 0:r.uid)))??[],a=o.map(y=>{var w;return Ld((w=n[y])==null?void 0:w.online).status})??[],l=a.filter(y=>y==="online").length,u=n[o[0]],d=(i==null?void 0:i.chatName)!=="",h=d?i==null?void 0:i.chatImage:u==null?void 0:u.photoURL,f=d?i==null?void 0:i.chatName:u==null?void 0:u.displayName,p=ki(),g=y=>{y.stopPropagation(),mt.events.open({content:c.jsx(mhe,{}),e:y,height:136})};return c.jsxs(Rhe,{children:[c.jsxs(C,{gap:8,children:[c.jsx(U,{$width:"35px",$height:"35px",style:{borderRadius:"100%"},children:c.jsx(Yu,{size:20,onClick:()=>p(-1)})}),c.jsxs(C,{gap:16,children:[!!Object.keys(n).length&&c.jsxs(c.Fragment,{children:[c.jsx(Ur,{fallbackIcon:c.jsx(fS,{name:f??"Undefined",width:"35px"}),size:"35px",src:h,colors:["grey"],isAuthor:!1,children:a[0]==="online"&&!d&&c.jsx(pS,{})}),c.jsxs(C,{d:"column",ai:"flex-start",children:[c.jsx(gM,{children:f??"Untitled"}),c.jsx(dM,{typing:s,isGroupChat:d,children:d?c.jsxs(vt,{children:[i!=null&&i.participants.length?`${i==null?void 0:i.participants.length} members`:null,l!==0&&`, ${l} online`]}):c.jsx(pm,{isAuthor:!1,showLastSeen:!0,status:a[0]})})]})]}),!Object.keys(n).length&&c.jsxs(C,{gap:16,children:[c.jsx(X,{width:"35px",height:"35px",radius:"100%"}),c.jsxs(C,{gap:2,d:"column",ai:"flex-start",children:[c.jsx(X,{width:"100px",height:"12px"}),c.jsx(X,{width:"40px",height:"9px"})]})]})]})]}),c.jsx(C,{width:"fit-content",children:c.jsx(U,{$width:"40px",onClick:g,children:c.jsx(Sx,{size:20})})})]})},Lhe=()=>c.jsxs(Ao,{children:[c.jsxs(U,{children:[c.jsx(yo,{}),"Reply"]}),c.jsxs(U,{children:[c.jsx(v5,{}),"Copy"]})]}),Dhe=e=>{let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},Vhe=_.a`
	display: inline-flex;
	align-items: center;
	gap: 4px;
	color: ${({theme:e})=>e.scheme.blue.main};
	padding: 4px;
	background: ${({theme:e})=>e.scheme.blue.transparent2};
	border-radius: 6px;
`,Fhe=({message:e})=>{const t=e.split(" ");return c.jsx(c.Fragment,{children:t.map(n=>Dhe(n)?c.jsxs(Vhe,{href:n,target:"_blank",rel:"noreferrer",children:[c.jsx(R5,{size:18}),n.slice(8,n.length)]}):n+" ")})},Y0=(e,t)=>e.map(n=>{const r=t[n];if(!r)return null;const i=Sd(r);return i==="user"||i==="author"?c.jsx(Qn,{user:r,orientation:"horizontal"},n):i==="album"||i==="playlist"?c.jsx(ws,{playlist:r,orientation:"horizontal"},n):c.jsx(mm,{songs:[r],listName:null,listIcon:void 0,listUrl:null})}),Uhe=({message:e,isNotSeen:t,isMine:n,chatData:r,isPrevByTheSameSender:i,isFirst:s,onSeen:o})=>{var p,g;const a=pM(e),l=e.attachedSongs.length||e.attachedAlbums.length||e.attachedAuthors.length,[u,d]=b.useState(!1),h=b.useRef(null);b.useEffect(()=>{const y=h.current,w=new IntersectionObserver(([m])=>{d(m.isIntersecting)},{root:null,rootMargin:"0px",threshold:.5});return y&&w.observe(y),()=>{y&&w.unobserve(y)}},[]),b.useEffect(()=>{u&&t&&o(e.id)},[u,t]);const f=y=>{y.stopPropagation(),y.preventDefault(),mt.events.open({content:c.jsx(Lhe,{}),height:96,e:y})};return c.jsxs(xhe,{ref:h,children:[!n&&s&&c.jsx(vhe,{children:(p=r[e.sender])==null?void 0:p.displayName}),c.jsxs(C,{width:"100%",gap:10,children:[c.jsxs(whe,{$isFirst:s,$background:n?(g=r[e.sender])==null?void 0:g.imageColors[1]:"",onContextMenu:f,className:(n?"mine":"")+(i?" isPrevByTheSameSender":""),children:[c.jsx(C,{d:"column",ai:"flex-start",children:c.jsxs(yhe,{children:[c.jsx(Fhe,{message:e.message}),!!l&&c.jsxs($he,{children:[Y0(e.attachedSongs,r),Y0(e.attachedAlbums,r),Y0(e.attachedAuthors,r)]})]})}),c.jsxs(_he,{children:[c.jsx("span",{children:new Date(e.sentTime).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}),c.jsx(hM,{isMine:n,sendStatus:a})]})]}),a==="Error"&&c.jsx(OA,{color:"red",size:20})]})]})},zhe=({message:e})=>c.jsx(jhe,{children:e.message}),Bhe=(e,t)=>({id:Qg(),sender:e,message:t,sentTime:new Date().getTime(),seenBy:[e],attachedAlbums:[],attachedSongs:[],attachedAuthors:[],inResponseToMessage:"",status:"pending"}),Nk=()=>{const{chats:e,currentChatId:t,currentChatMessages:n,currentChatMessagesLoading:r,chatData:i}=nr.useChats();console.log(t);const[{data:s}]=Y.useUser(),o=ghe(n),a=e.find(k=>k.id===t),l=(a==null?void 0:a.participants.filter(k=>k!==(s==null?void 0:s.uid)))??[],u=i[l[0]],d=(a==null?void 0:a.chatName)!=="",h=d?a==null?void 0:a.chatImage:u==null?void 0:u.photoURL,f=d?a==null?void 0:a.chatName:u==null?void 0:u.displayName,p=b.useRef(null),[g,y]=b.useState(!0),w=n.filter(k=>{var R;return!((R=k.seenBy)!=null&&R.includes((s==null?void 0:s.uid)??""))})??0,[m,v]=b.useState(""),x=b.useRef(null);Vd({page:"chat",onChangeId:k=>{y(!0),nr.events.setCurrentChatId(k)}});const S=k=>{v(k.currentTarget.value)},E=k=>{console.log(k.currentTarget.scrollTop,k.currentTarget.scrollHeight),k.currentTarget.scrollTop>=k.currentTarget.scrollHeight-800?y(!0):y(!1)},T=()=>{var k;if(!(m.trim().length===0||!(s!=null&&s.uid))){if(t){const R=Bhe(s==null?void 0:s.uid,m);nr.events.sendMessage({chatId:t,message:R})}v(""),(k=x.current)==null||k.focus()}};b.useEffect(()=>{console.log(g),p.current&&g&&p.current.scrollIntoView({block:"end"})},[n.length,g]);const I=k=>{nr.events.seenMessage(k)};return c.jsxs(She,{children:[c.jsx(Ohe,{}),c.jsxs(Ehe,{onScroll:E,children:[r&&c.jsx(C,{jc:"center",height:"100%",width:"100%",children:c.jsx(js,{})}),!r&&o.map((k,R,j)=>{var he,J,Te,L;const K=i[k[0].sender],ae=!phe(new Date(((he=j[R][0])==null?void 0:he.sentTime)??""),new Date(((Te=(J=j[R-1])==null?void 0:J[0])==null?void 0:Te.sentTime)??"")),se=k[0].sender===fM,le=new Date(((L=j[R][0])==null?void 0:L.sentTime)??"").toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"});return c.jsxs(c.Fragment,{children:[ae&&c.jsx(bhe,{children:le}),c.jsxs(khe,{children:[!se&&c.jsx(Che,{children:c.jsx(Phe,{children:c.jsx(Ur,{fallbackIcon:c.jsx(Ur,{fallbackIcon:c.jsx(fS,{width:"35px",name:f??"Undefined"}),size:"35px",src:h,colors:["grey"],isAuthor:!1}),colors:["grey"],size:"35px",src:K==null?void 0:K.photoURL,isAuthor:!1})})}),c.jsx(Ahe,{children:k.map((H,P)=>{var q;const D=!((q=H.seenBy)!=null&&q.includes((s==null?void 0:s.uid)??""));return se?c.jsx(zhe,{message:H},H.id):c.jsx(Ae.Fragment,{children:c.jsx(Uhe,{isFirst:P===0,chatData:i,isPrevByTheSameSender:P!==k.length-1,message:H,isMine:H.sender===(s==null?void 0:s.uid),isNotSeen:!!D,onSeen:I},H.id)},H.id)})})]})]})}),c.jsx("div",{ref:p,style:{width:"100%",minHeight:"20px"}}),!g&&c.jsxs(Mhe,{children:[c.jsx(i5,{size:20}),w.length!==0&&c.jsx(hS,{children:w.length})]})]}),c.jsxs(The,{children:[c.jsx(U,{$width:"40px",style:{minWidth:"40px"},children:c.jsx(p5,{})}),c.jsx(Ihe,{ref:x,onKeyDown:k=>{k.key==="Enter"&&T()},placeholder:"Type something",value:m,onChange:S}),m.length!==0&&c.jsx(Nhe,{$height:"35px",onClick:T,className:"primary",children:c.jsx(o5,{size:23})})]})]})},Hhe=_.div`
    --color-bg1: ${({$colors:e})=>(e==null?void 0:e[0])??"purple"};
    --color-bg2: ${({theme:e})=>e.colors.pageBackground};
    --color1: ${({$colors:e})=>Sr(e==null?void 0:e[2])??"18, 113, 255"};
    --color2: ${({$colors:e})=>Sr(e==null?void 0:e[2])??"221, 74, 255"};
    --color3: ${({$colors:e})=>Sr(e==null?void 0:e[3])??"100, 220, 255"};
    --color4: ${({$colors:e})=>Sr(e==null?void 0:e[4])??"208, 50, 50"};
    --color5: ${({$colors:e})=>Sr(e==null?void 0:e[5])??"188, 180, 50"};
    --color-interactive: ${({$colors:e})=>Sr(e==null?void 0:e[1])??"140, 100, 255"};
    --circle-size: 150%;
    --blending: hard-light;

    width: 100%;
    height: 100%;

    position: absolute;
    overflow: hidden;
    transition: 0.2s;
    background: linear-gradient(180deg, var(--color-bg1), var(--color-bg2));

    .noise-layer {
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        background: rgba(var(--color-bg1, 0.2));
        background-image: url('./noise-light.png');
        opacity: 0.2;
        z-index: 1;
        transform: translateZ(0);
    }

    top: 0;
    left: 0;

    svg {
        display: none;
    }

    .gradients-container {
        width: 100%;
        height: 100%;
        filter: url(#goo);
    }

    @keyframes moveInCircle {
        0% {
            transform: rotate(0deg);
        }
        50% {
            transform: rotate(180deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes moveVertical {
        0% {
            transform: translateY(-50%);
        }
        50% {
            transform: translateY(50%);
        }
        100% {
            transform: translateY(-50%);
        }
    }

    @keyframes moveHorizontal {
        0% {
            transform: translateX(-50%) translateY(-10%);
        }
        50% {
            transform: translateX(50%) translateY(10%);
        }
        100% {
            transform: translateX(-50%) translateY(-10%);
        }
    }

    .g1,
    .g2,
    .g3,
    .g4,
    .g5,
    .interactive {
        position: absolute;
        mix-blend-mode: var(--blending);

        width: var(--circle-size);
        height: var(--circle-size);

        top: calc(50% - var(--circle-size) / 2);
        left: calc(50% - var(--circle-size) / 2);

        opacity: 0.8;
    }

    .interactive {
        background: radial-gradient(
                circle at center,
                rgba(var(--color-interactive), 0.8) 0,
                rgba(var(--color-interactive), 0) 50%
            )
            no-repeat;
        opacity: 0.8;
        top: -50%;
        left: -65%;
        width: 100%;
        height: 100%;
    }

    .g1 {
        background: radial-gradient(
                circle at center,
                rgba(var(--color1), 0.8) 0,
                rgba(var(--color2), 0) 50%
            )
            no-repeat;
        transform-origin: center center;
        animation: moveVertical 30s ease infinite;
    }

    .g2 {
        background: radial-gradient(
                circle at center,
                rgba(var(--color2), 0.8) 0,
                rgba(var(--color2), 0) 50%
            )
            no-repeat;
        transform-origin: calc(50% - 400px);
        animation: moveInCircle 20s reverse infinite;
    }

    .g3 {
        background: radial-gradient(
                circle at center,
                rgba(var(--color3), 0.8) 0,
                rgba(var(--color3), 0) 50%
            )
            no-repeat;
        top: calc(50% - var(--circle-size) / 2 + 200px);
        left: calc(50% - var(--circle-size) / 2 + 200px);
        transform-origin: calc(50% + 400px);
        animation: moveInCircle 40s linear infinite;
    }

    .g4 {
        background: radial-gradient(
                circle at center,
                rgba(var(--color4), 0.8) 0,
                rgba(var(--color4), 0) 50%
            )
            no-repeat;
        opacity: 0.2;
        transform-origin: calc(50% - 200px);
        animation: moveHorizontal 40s ease infinite;
    }

    .g5 {
        background: radial-gradient(
                circle at center,
                rgba(var(--color5), 0.8) 0,
                rgba(var(--color5), 0) 50%
            )
            no-repeat;
        top: calc(50% - var(--circle-size));
        left: calc(50% - var(--circle-size));
        transform-origin: calc(50% - 800px) calc(50% + 200px);
        animation: moveInCircle 20s ease infinite;
    }
`;let X0=0,J0=0,Mk=0,Ok=0;const Lk=50,Whe=()=>{const e=b.useRef(null),{currentSong:t}=G.useSong(),n=b.useCallback(()=>{X0+=(Mk-X0)/Lk,J0+=(Ok-J0)/Lk,e.current&&(e.current.style.transform=`translate(${X0}px, ${J0}px)`),requestAnimationFrame(()=>n())},[]),r=i=>{Mk=i.clientX,Ok=i.clientY};return b.useEffect(()=>{n()},[n]),c.jsxs(Hhe,{$colors:(t==null?void 0:t.imageColors)??[],onMouseMove:r,children:[c.jsx("div",{className:"noise-layer"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",children:c.jsx("defs",{children:c.jsxs("filter",{id:"goo",children:[c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),c.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"}),c.jsx("feBlend",{in:"SourceGraphic",in2:"goo"})]})})}),c.jsxs("div",{className:"gradients-container",children:[c.jsx("div",{className:"g1"}),c.jsx("div",{className:"g2"}),c.jsx("div",{className:"g3"}),c.jsx("div",{className:"g4"}),c.jsx("div",{className:"g5"}),c.jsx("div",{className:"interactive",ref:e})]})]})},qhe=_.div`
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
`,Ghe=()=>{const e=G.fullscreen.useFullScreen();return c.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto"},children:[!e&&c.jsx(Whe,{}),c.jsx(qhe,{children:c.jsx(U,{$width:"260px",style:{fontSize:"2rem",minHeight:"60px"},children:c.jsxs(C,{gap:10,children:[c.jsx(bx,{size:40}),"Play Wave"]})})}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{}),c.jsx(qe,{})]})},Khe=({orientation:e,quantity:t=15})=>c.jsx(C,{gap:10,d:"column",width:"100%",children:Array.from(Array(t)).map((n,r)=>c.jsx(Jt,{orientation:e},r))}),Dk=_.div`
    width: 100%;
    max-width: 650px;
    margin: 0 auto;
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
`,Qhe=()=>{const[{data:e}]=Y.useUser(),[t,n]=Y.useFriends();return c.jsxs(Gr,{children:[c.jsx(Ms,{children:!!e&&c.jsxs(Dk,{children:[c.jsx(Mn,{placeholder:"Search for friends...",icon:c.jsx(bi,{})}),c.jsx(ze,{width:"200px",appearance:"primary",children:"Create group chat"})]})}),c.jsx(Ho,{children:c.jsx(Dk,{children:c.jsxs(Ns,{loading:n,skeleton:c.jsx(Khe,{orientation:"horizontal"}),children:[!e&&c.jsx(Ii,{icon:q5,title:"No friends",description:"We are sorry to say that..."}),t.length>0&&c.jsx(C,{d:"column",gap:4,width:"100%",children:t.map(r=>c.jsx(Qn,{showLastSeen:!0,user:r,orientation:"horizontal",children:c.jsx(U,{$width:"40px",children:c.jsx(DA,{})})},r.uid))})]})})})]})},TS=We(async e=>{try{return await u4.getHistoryByUserId(e)}catch(t){throw new Error(t.message)}}),x1=Vx(),vm=Z([]);vm.reset(it);const Vk=tn.map(e=>{var t;return((t=e.data)==null?void 0:t.uid)??null});N({clock:[x1.open,Vk],source:{gateStatus:x1.status,userId:Vk,history:vm},filter:({history:e,userId:t,gateStatus:n})=>n&&t!==null&&e.length===0,fn:({userId:e})=>e,target:TS});Fo(TS,vm);const Fk={useHistory:()=>be([vm,TS.pending]),useLoadHistory:()=>Dx(x1)},bS=({quantity:e=15})=>c.jsx(C,{gap:4,d:"column",width:"100%",children:Array.from(Array(e)).map((t,n)=>c.jsx(Ie,{},n))}),Yhe=()=>{const[e,t]=Fk.useHistory();return Fk.useLoadHistory(),c.jsxs(Gr,{children:[c.jsx(Ms,{}),c.jsx(Ho,{children:c.jsxs(Ns,{color:"",loading:t,skeleton:c.jsx(bS,{}),children:[c.jsx(ym,{songs:e,listName:"History",listIcon:"",listUrl:"/history"}),e.length===0&&c.jsx(Ii,{icon:C5,title:"No History Found",description:"But at some point it will appear..."})]})})]})},Xhe=_.div`
    width: fit-content;
    padding: 4px;
    border-radius: 20px;
    background: ${({theme:e})=>e.colors.pageBackground2};
    display: flex;
    align-items: center;
    gap: 0px;
    position: relative;
    /* box-shadow: ${({theme:e})=>e.colors.shadow}; */

    &.chips {
        background: transparent;
        gap: 4px;
        padding: 0;
    }

    @media (max-width: 768px) {
        width: 100%;
    }
`,Jhe=_(Br)`
    min-width: ${({$width:e})=>e};
    height: ${({$height:e})=>e};
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px 16px;
    border-radius: 16px;
    cursor: pointer;
    user-select: none;
    z-index: 0;
    font-size: 0.9rem;
    font-weight: 300;
    opacity: 0.7;
    transition: 0.2s color, 0.5s background;

    &.chips {
        min-width: calc(${({$width:e})=>e} - 3px);
        border-radius: 20px;
        font-size: 0.9rem;
        opacity: 1;
    }

    &.selected {
        color: #fff;
        opacity: 1;
        font-weight: 400;
        background: transparent;
        font-size: 0.85rem;
    }

    @media (hover: hover) {
        &:hover {
            background: ${({theme:e})=>e.colors.hover};
        }
    }

    @media (max-width: 1000px) {
        font-size: 0.9rem;
        height: 32px;
        padding: 4px 12px;
    }
`,Zhe=_.div`
    width: calc(${({$width:e})=>e} - 3px);
    padding: 10px 16px;
    height: ${({$height:e})=>e};
    border-radius: 16px;
    background: ${({theme:e})=>e.scheme.blue.action};
    position: absolute;
    transition: 0.2s;
    transform: translateX(calc(${({$shift:e})=>`${e} * 100%`}));
    left: 4px;
    top: 4px;
    z-index: 0;

    &.chips {
        transform: translateX(
            calc(${({$shift:e})=>`${e} * 100% + 4px * ${e}`})
        );
        border-radius: 20px;

        left: 0;
        top: 0;
    }

    @media (max-width: 1000px) {
        height: 32px;
        padding: 4px 12px;
    }
`,efe={s:30,m:38,l:50},XM=({tabs:e,chips:t,onTabClick:n,currentTab:r=0,size:i="s"})=>{const[s,o]=b.useState(r),a=efe[i],l=u=>()=>n==null?void 0:n(u);return b.useEffect(()=>{o(r)},[r]),c.jsxs(Xhe,{className:t?"chips":"",children:[c.jsx(Zhe,{$width:`${100/e.length}%`,$shift:s,$height:`${a}px`,className:t?"chips":""}),e.map((u,d)=>{const{title:h,url:f}=u;return c.jsx(Jhe,{to:f,$height:`${a}px`,$width:`calc(100% / ${e.length})`,className:`${t?"chips":""} ${d===s?"selected":""}`,onClick:l(u),children:h},h+d)})]})},JM=_.div`
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    height: fit-content;

    @media (max-width: 768px) {
        gap: 20px;
    }
`,tfe=_(JM)`
    gap: 32px;

    @media (max-width: 768px) {
        gap: 20px;
    }
`,nfe=_(U)`
    min-width: 38px;
    min-height: 38px;
    width: 38px;
    height: 38px;
    border-radius: 20px;
    background: ${({theme:e})=>e.colors.pageBackground2};

    svg {
        opacity: 1;
        width: 18px;
        height: 18px;
    }

    @media (max-width: 768px) {
        min-width: 40px;
        width: 40px;
        height: 40px;

        svg {
            width: 18px;
            height: 18px;
        }
    }
`,Uk=[{title:"Songs",url:""},{title:"Playlists",url:"playlists"},{title:"Authors",url:"authors"}],rfe=()=>{const e=zr(),t=Uk.findIndex(r=>r.url===e.pathname.split("/").at(-1)),[{data:n}]=Y.useUser();return c.jsxs(Gr,{children:[c.jsx(Ms,{children:!!n&&c.jsxs(C,{width:"100%",jc:"center",gap:10,children:[c.jsx(XM,{tabs:Uk,currentTab:t===-1?0:t}),c.jsx(nfe,{children:c.jsx(bi,{})})]})}),c.jsx(Gx,{})]})},ife=()=>{const[e,t]=Y.useAddedAuthors();return c.jsxs(Ho,{children:[t&&c.jsx(C,{width:"100%",height:"100%",jc:"center",children:c.jsx(js,{})}),c.jsx(tfe,{children:e.map(n=>c.jsx(Qn,{user:n},n.uid))})]})},sfe=()=>{const[e,t]=Y.useAddedPlaylists(),[n,r]=Y.useOwnPlaylists();return c.jsxs(Ho,{children:[(t||r)&&c.jsx(js,{}),c.jsx(JM,{children:[...n,...e].map(i=>c.jsx(ws,{playlist:i},i.id))})]})},ofe=()=>{const[e,t]=Y.useSongLibrary(),[{data:n}]=Y.useUser();return c.jsx(Ho,{children:c.jsxs(Ns,{loading:t,skeleton:c.jsx(C,{padding:"20px",width:"100%",children:c.jsx(bS,{quantity:20})}),children:[c.jsx(ym,{listName:"Library",listIcon:"",listUrl:"/library",songs:e}),!n&&c.jsx(Ii,{icon:tv,title:"Need to log in",description:"To listen to your favorite songs",children:c.jsx(HM,{})}),n&&!e.length&&c.jsx(Ii,{icon:tv,title:"No songs added to library",description:"You can add them from search!"})]})})},afe=()=>{const[{data:e}]=Y.useUser();return c.jsx(zM,{userData:e})},lfe=_.div`
    width: 100%;
`;_.div`
    background: ${({background:e})=>e};
    width: 100%;
    height: 320px;
    display: flex;
    align-items: center;
    justify-content: center;
`;const ZM=_.div`
    width: 100%;
    padding: var(--page-padding);
    padding-top: 40px;
    padding-bottom: 0;

    @media (max-width: 1000px) {
        padding: 40px var(--page-padding);
        padding-bottom: 0;

        display: flex;
        flex-direction: column;
        gap: 2px;
    }
`;_.div`
    width: 250px;
    height: 250px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 10px;
`;const cfe=_.div`
    padding: 0 calc(var(--page-padding) + 6px);
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;

    @media (max-width: 1000px) {
        padding: 0 var(--page-padding);
        margin-top: 10px;
    }
`,ufe=_.div``;_.div`
    width: 200px;
    height: 200px;
    overflow: hidden;
    border-radius: 20px;
    background: grey;
    display: flex;
    align-items: center;
    justify-content: center;

    svg {
        width: 70px;
        height: 70px;
    }

    img {
        width: 200px;
        height: 200px;
        object-fit: cover;
    }
`;const dfe=_(C)`
    @media (max-width: 1000px) {
        display: none;
    }
`,hfe=()=>c.jsxs(C,{width:"100%",d:"column",ai:"flex-start",children:[c.jsx(X,{width:"100%",height:"400px",radius:"0",children:c.jsxs(C,{width:"100%",d:"column",padding:"56px 50px 50px 50px",ai:"center",jc:"center",gap:20,children:[c.jsx(X,{width:"200px",height:"200px",radius:sS}),c.jsxs(C,{d:"column",gap:8,children:[c.jsx(X,{width:"200px",height:"30px"}),c.jsx(X,{width:"100px",height:"20px",radius:"3px"})]})]})}),c.jsxs(ZM,{children:[c.jsxs(dfe,{width:"100%",gap:20,style:{marginTop:"4px",marginBottom:"14px"},children:[c.jsx("div",{style:{width:"40px"}}),c.jsx("div",{style:{width:"calc(25% - 4px)",height:"18px"},children:c.jsx(X,{width:"50%",height:"18px",radius:"6px"})}),c.jsx("div",{style:{width:"calc(25% - 2px)",height:"18px"},children:c.jsx(X,{width:"50%",height:"18px",radius:"6px"})}),c.jsx("div",{style:{width:"20%",height:"18px"},children:c.jsx(X,{width:"50%",height:"18px",radius:"6px"})}),c.jsx("div",{style:{width:"18%",height:"18px"},children:c.jsx(X,{width:"50%",height:"18px",radius:"6px"})})]}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{})]})]}),ffe="data:image/svg+xml,%3csvg%20class='bgWave'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20399.92%20253.75'%20style='enable-background:new%200%200%20399.92%20253.75;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0%20{%20fill:%20%23e0e0e0;%20}%20%3c/style%3e%3cdefs%3e%3c/defs%3e%3cpath%20class='st0'%20d='M399.92,10.57c-25.09-0.03-37.83-2.65-50.16-5.19c-12.24-2.52-24.89-5.13-49.79-5.15%20c-24.89-0.03-37.56,2.55-49.8,5.04c-12.33,2.51-25.09,5.11-50.17,5.08c-25.09-0.03-37.84-2.65-50.16-5.19%20C137.6,2.63,124.94,0.03,100.05,0c-24.9-0.03-37.56,2.55-49.8,5.04c-12.33,2.51-25.09,5.11-50.17,5.08L0,70.7v183.05h399.92V70.7%20h-0.07L399.92,10.57z'%20/%3e%3c/svg%3e",pfe=({name:e,isPrivate:t,numberOfListenersPerMonth:n,subscribers:r,colors:i,isVerified:s,isAuthor:o,handleClickShare:a})=>{const l=ki(),u=Yn(),{currentPlaylist:d,currentPlaylistSongs:h}=yl.usePlaylist(),f=p=>{p.stopPropagation(),o?mt.events.open({e:p,height:248,content:c.jsxs(Ao,{children:[c.jsxs(U,{children:[c.jsx(MA,{}),"Edit"]}),c.jsxs(U,{children:[c.jsx(UA,{}),"Add Songs"]}),c.jsx(Fr,{}),c.jsxs(U,{onClick:a,children:[c.jsx(yo,{}),"Share"]}),c.jsxs(U,{children:[c.jsx(mo,{}),"Info"]}),c.jsx(Fr,{}),c.jsxs(U,{color:u.scheme.red.text,children:[c.jsx(Cx,{}),"Delete"]})]})}):mt.events.open({e:p,height:96,content:c.jsxs(Ao,{children:[c.jsxs(U,{onClick:a,children:[c.jsx(yo,{}),"Share"]}),c.jsxs(U,{children:[c.jsx(mo,{}),"Info"]})]})})};return c.jsxs(NM,{$colors:i,children:[c.jsx(nM,{size:"200px",isAlbum:(d==null?void 0:d.isAlbum)??!1,src:d==null?void 0:d.image,colors:d==null?void 0:d.imageColors}),c.jsxs(C,{gap:8,d:"column",ai:"center",children:[c.jsxs(C,{gap:4,d:"column",children:[c.jsxs(C,{gap:6,children:[c.jsx("h2",{children:e}),s&&c.jsx(Kp,{color:i==null?void 0:i[1]}),t&&c.jsx(Ix,{size:20})]}),c.jsx("div",{className:"subtitle",children:c.jsxs(C,{gap:3,children:[c.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"300",opacity:"0.6"},children:[d!=null&&d.isAlbum?"Album":"Playlist"," ","/"," "]}),c.jsx(nl,{width:"fit-content",authors:d==null?void 0:d.authors,isUser:!o})]})})]}),c.jsxs(C,{gap:20,style:{opacity:"0.8",fontWeight:"300"},className:"stats",children:[c.jsxs(C,{gap:4,children:[Uu(n),c.jsx(cu,{size:16})]}),c.jsxs(C,{gap:4,children:[Uu(r),c.jsx(Qp,{size:16})]})]})]}),c.jsx(OM,{children:c.jsx(U,{$height:"40px",$width:"40px",onClick:()=>l(-1),children:c.jsx(Yu,{size:20})})}),c.jsxs(MM,{children:[c.jsx(Nd,{song:null,isLiked:!1,likeColor:void 0,height:"40px",width:"40px"}),c.jsx(U,{$height:"40px",$width:"40px",onClick:f,children:c.jsx($A,{size:20})})]}),c.jsx(yde,{children:c.jsx("img",{src:ffe})}),c.jsx(_S,{buttonColor:d==null?void 0:d.imageColors[0],isAdmin:!1,isPageOwner:!1,queueInfo:{listName:(d==null?void 0:d.name)??"",listIcon:void 0,listUrl:`/playlist/${(d==null?void 0:d.id)??""}`,songs:h??[]}})]})},gfe=()=>{const{currentPlaylist:e,currentPlaylistSongs:t,loading:n,error:r}=yl.usePlaylist(),[{data:i}]=Y.useUser(),s=!!(e!=null&&e.authors.find(u=>u.uid===(i==null?void 0:i.uid)));Vd({page:"playlist",onChangeId:u=>{u&&yl.events.loadPlaylist(u)}});const o=()=>{xe.events.open({title:`Share ${e==null?void 0:e.name} with friends`,content:c.jsx(Dd,{entity:e})})},a=()=>{xe.events.open({title:"Add songs to playlist",content:c.jsx(c.Fragment,{})})},l=t==null?void 0:t.reduce((u,d)=>(u+=d.duration,u),0);return c.jsxs(Gr,{children:[!r&&c.jsx(Ns,{color:"",loading:!r&&n,skeleton:c.jsx(hfe,{}),children:c.jsxs(lfe,{children:[c.jsx(pfe,{isAuthor:s,handleClickShare:o,id:"",name:e==null?void 0:e.name,numberOfListenersPerMonth:e==null?void 0:e.listens,subscribers:e==null?void 0:e.subscribers,isPrivate:e==null?void 0:e.isPrivate,colors:e==null?void 0:e.imageColors}),c.jsxs(ZM,{children:[(e==null?void 0:e.songs.length)===0&&c.jsx(Ii,{icon:tv,title:"Oops!",description:"Playlist is empty",children:s&&c.jsxs(ze,{width:"130px",appearance:"secondary",onClick:a,children:[c.jsx(nv,{size:18}),"Add songs"]})}),c.jsx(ym,{songs:t??[],listName:(e==null?void 0:e.name)??"",listIcon:(e==null?void 0:e.image)??"",listUrl:`/playlist/${(e==null?void 0:e.id)??""}`})]}),c.jsxs(cfe,{children:[c.jsxs(U,{$height:"35px",$width:"130px",className:"outline",children:[c.jsx(nv,{}),"Add songs"]}),c.jsxs(vt,{style:{fontSize:"0.85rem"},children:[(t==null?void 0:t.length)??0," songs,",Bc(l,"text")]})]}),c.jsx(ufe,{})]})}),r&&c.jsx(Ii,{icon:_5,title:"No playlist was found",description:"Perhaps it was deleted"})]})},xm=We(async({query:e,suggestion:t,place:n})=>{try{const r=await ap.getSearchResult(e,n);return t&&await ap.addRankToSuggestion(t.uid),r}catch(r){throw new Error(r.message)}}),kS=Z(""),CS=Z([]),AS=Z([]).reset(xm.fail),e3=V(),t3=V(),mfe=V(),PS=V(),wm=We(),yfe=wm.pending,vfe=xm.pending;N({clock:e3,fn:e=>e,target:[kS,t3]});N({clock:mfe,fn:e=>e,target:CS});const xfe=ko.map(e=>e),wfe=tn.map(e=>{var t;return(t=e.data)==null?void 0:t.uid});N({clock:t3,source:xfe,fn:(e,t)=>({value:t,history:e}),target:wm});wm.use(async({value:e,history:t})=>{try{return e.length===0?[]:await ap.getSearchSuggestions(e,t)}catch(n){throw new Error(n.message)}});N({clock:wm.doneData,fn:e=>e,target:CS});N({clock:PS,target:xm});N({clock:PS,source:{userId:wfe},filter:(e,{suggestion:t})=>!!t,fn:({userId:e},{suggestion:t})=>({userId:e,suggestion:t}),target:I4});N({clock:xm.doneData,fn:e=>e,target:AS});const _fe=()=>c.jsxs(C,{gap:8,d:"column",ai:"flex-start",width:"100%",height:"fit-content",children:[c.jsx(X,{width:"70px",height:"20px",radius:"4px"}),c.jsx(bS,{})]}),Sfe=_(Br)`
    width: 100%;
    padding: 30px 30px;
    color: #fff;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 20px;
    cursor: pointer;
    transition: 0.2s filter;
    margin-bottom: 20px;

    .bottom-buttons {
        margin-bottom: 0px;
    }

    &:hover {
        filter: brightness(1.2);
    }

    @media (max-width: 768px) {
        padding: 16px;

        .bottom-buttons {
            width: 100%;
            padding: 0;
        }

        .general-cover {
            position: absolute;
            top: 0;
            right: 0;
            width: 80px;
            height: 80px;
            min-width: 80px;
        }
    }
`,Efe=_(C)`
    @media (max-width: 768px) {
        width: 100%;
    }
`,Ife=_(No)`
    animation: none;
    background-size: 100% 300%;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 8px;

    &::before {
        content: '';
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
        border-radius: 8px;
        background-image: linear-gradient(#0000007d, #0000006e);
    }
`,Tfe=_.div`
    font-size: 24px;
    font-weight: 400;
    color: #fff;
`,zk=_.div`
    font-size: 1rem;
    font-weight: 400;
    display: flex;
    align-items: center;
    gap: 4px;

    svg {
        width: 16px;
        height: 16px;
        opacity: 0.7;
    }
`,bfe=({author:e})=>c.jsxs(Sfe,{to:`/author/${e.uid}`,children:[c.jsxs(C,{width:"100%",jc:"space-between",style:{position:"relative",zIndex:1},children:[c.jsxs(Efe,{width:"250px",d:"column",height:"100%",jc:"space-between",ai:"flex-start",gap:30,children:[c.jsxs(C,{d:"column",gap:14,children:[c.jsxs(C,{width:"100%",d:"column",ai:"flex-start",children:[c.jsx(vt,{style:{color:"#fff"},children:"Top Result"}),c.jsxs(C,{gap:10,children:[c.jsx(Tfe,{children:e==null?void 0:e.displayName}),e.isVerified&&c.jsx(Kp,{})]})]}),c.jsx(C,{width:"100%",gap:30,children:c.jsxs(C,{gap:4,children:[c.jsxs(zk,{children:[Uu(e==null?void 0:e.numberOfListenersPerMonth),c.jsx(cu,{})]}),"∙",c.jsxs(zk,{children:[e==null?void 0:e.subscribers,c.jsx(Qp,{})]})]})})]}),c.jsx(_S,{buttonColor:e.imageColors[1],isAdmin:!1,isPageOwner:!1,queueInfo:{listName:"",listIcon:void 0,listUrl:"",songs:[]}})]}),c.jsx(Ur,{isAuthor:e==null?void 0:e.isAdmin,colors:e.imageColors,src:e==null?void 0:e.photoURL,size:"150px"})]}),c.jsx(Ife,{$colors:e==null?void 0:e.imageColors})]}),kfe=_(Br)`
    width: calc((100vw - var(--sidebar-width) - 118px) / 5);
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: ${({background:e})=>e};
    padding: 30px 20px;
    border-radius: 10px;
    position: relative;
    overflow: hidden;
    color: #fff;

    & .emoji {
        font-size: 4rem;
        z-index: 100;
        display: none;
    }

    &::before {
        content: '';
        display: flex;
        width: 100%;
        height: 200%;
        background: #ffffff38;
        position: absolute;
        top: 0;
        right: 0;
        rotate: -45deg;
        translate: 40px 0;
        border-radius: 10px;
        transition: 0.5s;
    }

    &::after {
        content: '';
        display: flex;
        width: 100%;
        height: 200%;
        background: #ffffff38;
        position: absolute;
        top: 0;
        right: 0;
        rotate: -45deg;
        translate: 130px 0;
        border-radius: 0px;
        transition: 0.5s;
    }

    @media (hover: hover) {
        &:hover {
            &::after {
                translate: 100px;
            }

            &::before {
                translate: 30px;
                height: 250%;
            }
        }
    }

    @media (max-width: 768px) {
        width: calc(100vw / 2 - 26px);
    }
`,$i=({title:e,background:t})=>c.jsxs(kfe,{to:"/",background:t,children:[c.jsx("h3",{children:e}),c.jsx("span",{className:"emoji",children:"💸"})]}),Cfe=_.div`
    max-width: 650px;
    height: 100%;
    width: 100%;
    margin: 0 auto;
    margin-top: 40px;
    position: relative;

    @media (max-width: 1000px) {
        margin-top: 0px;
    }
`,Afe={song:e=>c.jsx(mm,{songs:[e],listName:"Search",listIcon:"",listUrl:`/search?query=${e.name}&type=query`}),author:e=>c.jsx(Qn,{user:e,orientation:"horizontal"}),user:e=>c.jsx(Qn,{user:e,orientation:"horizontal"}),playlist:e=>c.jsx(ws,{orientation:"horizontal",playlist:e}),album:e=>c.jsx(ws,{orientation:"horizontal",playlist:e})},Pfe=()=>{const[e]=LP(),[t,n]=be([AS,vfe]),[r]=be([kS]),i=Yn(),s=t[0],o=!!s&&"isAuthor"in s&&(s==null?void 0:s.isAuthor)&&e.get("type")==="author"&&e.get("where")===null,a=e.get("query")!==null&&t.length===0&&!n,l=e.get("query")===null&&t.length===0&&!n;return c.jsxs(Ho,{children:[l&&c.jsxs(C,{wrap:"wrap",padding:"40px 0px",gap:10,children:[c.jsx($i,{background:i.scheme.blue.action,title:"Rap"}),c.jsx($i,{background:i.scheme.red.action,title:"Hip Hop"}),c.jsx($i,{background:i.scheme.purple.main,title:"Jazz"}),c.jsx($i,{background:i.scheme.orange.main,title:"Chill"}),c.jsx($i,{background:i.scheme.green.main,title:"Sport"}),c.jsx($i,{background:i.scheme.orange.main,title:"Pop"}),c.jsx($i,{background:i.scheme.blue.action,title:"Metal"}),c.jsx($i,{background:i.scheme.red.action,title:"Chill"})]}),c.jsx(Cfe,{children:c.jsxs(Ns,{color:"",loading:n,skeleton:c.jsx(_fe,{}),children:[a&&r.length!==0&&c.jsx(Ii,{icon:x5,title:"Not Found",description:"Try to change search query"}),t.length>0&&c.jsxs(c.Fragment,{children:[!o&&c.jsx("h3",{style:{fontWeight:300,marginBottom:"10px"},children:"Result"}),c.jsxs(C,{d:"column",gap:4,width:"100%",children:[o&&c.jsx(bfe,{author:s}),t.map((u,d)=>{const h=Sd(u);if(o&&d===0)return null;if(h)return Afe[h](u)})]})]})]})})]})},Rfe=_.div`
    max-width: 650px;
    width: 100%;
    min-width: 300px;
    display: flex;
    justify-content: flex-start;
    flex-direction: column;
    max-height: 40px;

    @media (max-width: 1000px) {
        width: 100%;
        max-width: none;
        max-height: none;
    }
`,jfe=_.div`
    padding: 8px 0;
    background: ${({theme:e})=>e.colors.pageBackground};
`,Eh=(e,t,n)=>t?`${e.search.replace(/[&?]where=\S*/g,"")}${n?"&":"?"}where=${t}`:`${e.search.replace(/[&?]where=\S*/g,"")}`,$fe=()=>{const[e]=LP(),t=e.get("query")??"",n=e.get("where")??"",r=ki(),i=b.useRef(),s=zr(),o=[{title:"All",url:Eh(s,void 0,t)},{title:"Songs",url:Eh(s,"songs",t)},{title:"Playlists",url:Eh(s,"playlists",t)},{title:"Users",url:Eh(s,"users",t)}],a=o.findIndex(v=>v.title.toLocaleLowerCase()===n),[l,u,d,h,f]=be([kS,AS,yfe,e3,PS]),p=Y.useSearchHistory(),g=be(CS),y=v=>{v.length===0&&r(`/search${n!==""?`?where=${n}`:""}`),clearTimeout(i.current),i.current=setTimeout(()=>{h(v)},100)},w=(v,x)=>{r(`/search?query=${v.trim()}&type=${x!==null&&x.place==="users"?"author":"query"}${n!==""?`&where=${n}`:""}`),f({query:Si(v),place:n===""?void 0:n,suggestion:x})},m=b.useCallback(v=>{t.length>0&&f({query:Si(t),place:v?v.title.toLocaleLowerCase():n===""?void 0:n})},[f,t,n]);return b.useEffect(()=>{t.length>0&&u.length===0&&m()},[m,t.length,u.length]),c.jsxs(Gr,{children:[c.jsx(Ms,{children:c.jsxs(Rfe,{children:[c.jsx(M4,{focusOnLoad:!0,initialValue:t??l,suggestions:g,historySuggestions:p,areSuggestionsLoading:d,onChange:y,onSumbit:w}),c.jsx(jfe,{children:c.jsx(XM,{tabs:o,chips:!0,onTabClick:m,currentTab:Math.max(0,a)})}),c.jsx(Fr,{style:{margin:0}})]})}),c.jsx(Pfe,{})]})},Nfe=()=>c.jsx("div",{children:"SongPage"}),Mfe=()=>c.jsx(Gr,{children:c.jsx(Ms,{})}),Ofe=()=>c.jsxs(xS,{children:[c.jsxs(LM,{children:[c.jsx(X,{width:"150px",height:"150px",radius:"100%"}),c.jsxs(VM,{children:[c.jsxs(DM,{children:[c.jsx(X,{width:"150px",height:"30px",radius:"10px"}),c.jsx(X,{width:"150px",height:"15px",radius:"10px"})]}),c.jsxs(FM,{children:[c.jsx(X,{width:"160px",height:"40px",radius:"10px"}),c.jsx(X,{width:"160px",height:"40px",radius:"10px"})]})]})]}),c.jsxs(lo,{children:[c.jsx(X,{className:"title",width:"160px",height:"22px",radius:"10px"}),c.jsx(Sp,{rows:1,columns:3,style:{padding:"0 var(--page-padding)"},children:c.jsx(Ie,{})})]}),c.jsxs(lo,{children:[c.jsx(X,{className:"title",width:"160px",height:"22px",radius:"10px"}),c.jsxs(Sp,{rows:3,columns:3,style:{padding:"0 var(--page-padding)"},children:[c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{}),c.jsx(Ie,{})]})]}),c.jsxs(lo,{children:[c.jsx(X,{className:"title",width:"160px",height:"22px",radius:"10px"}),c.jsxs(C,{gap:14,width:"100%",style:{padding:"0 var(--page-padding)"},children:[c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{}),c.jsx(Vn,{})]})]})]}),n3={text:"",onAccept:()=>null,onReject:()=>null,isOpen:!1,icon:null},r3=V(),i3=V(),Hu=Z(n3);N({clock:r3,source:Hu,fn:(e,t)=>({...t,isOpen:!0}),target:Hu});N({clock:i3,source:Hu,fn:()=>n3,target:Hu});const Ip={useConfirm:()=>be(Hu),events:{open:r3,close:i3}},Lfe=()=>{const[{user:e}]=Y.useUserPage(),[{data:t}]=Y.useUser(),n=Yn(),i=((t==null?void 0:t.friends)??[]).find(a=>a.uid===(e==null?void 0:e.uid)),o=(i==null?void 0:i.status)==="added"?{text:c.jsxs(c.Fragment,{children:[c.jsx(H5,{size:18}),"Added"]}),onClick:()=>{Ip.events.open({text:"You sure you want to remove this friend from your friend list?",subtext:"You can add them again if you want",onAccept:()=>null,icon:c.jsx(Zm,{}),iconColor:n.scheme.red.action})}}:(i==null?void 0:i.status)==="awaiting"?{text:c.jsxs(c.Fragment,{children:[c.jsx(Zm,{size:18}),"Cancel request"]}),onClick:()=>{Ip.events.open({text:"You sure you want to cancel friends request?",onAccept:()=>null,icon:c.jsx(Zm,{}),iconColor:n.scheme.red.action})}}:(i==null?void 0:i.status)==="requested"?{text:c.jsxs(c.Fragment,{children:[c.jsx(wx,{size:18}),"Accept Friend request"]})}:{text:c.jsxs(c.Fragment,{children:[c.jsx(Qp,{size:18}),"Add to friends"]})};return c.jsxs(LM,{color:(e==null?void 0:e.imageColors[0])??"#696969",children:[c.jsx(Ur,{size:"150px",src:e==null?void 0:e.photoURL,colors:e==null?void 0:e.imageColors,isAuthor:!1}),c.jsxs(VM,{children:[c.jsxs(DM,{children:[c.jsx("h2",{children:(e==null?void 0:e.displayName)??"User"}),c.jsx(vt,{style:{fontSize:"0.9rem"},children:Ld(e==null?void 0:e.online).status})]}),c.jsxs(FM,{children:[c.jsx(ze,{width:"100%",onClick:o.onClick,children:o.text}),(i==null?void 0:i.status)==="added"&&c.jsxs(ze,{width:"100%",children:[c.jsx(DA,{size:18}),"Message"]})]})]})]})},Dfe=()=>{const[{user:e,songs:t,lastSongPlayed:n,friends:r},i]=Y.useUserPage();Vd({page:"user",onChangeId:o=>{o&&(console.log(o),Y.events.getUserPage(o))}}),b.useEffect(()=>()=>{Y.events.resetUserPage()},[]);const s={listName:(e==null?void 0:e.displayName)??"Author",listIcon:e==null?void 0:e.photoURL,listUrl:`/author/${e==null?void 0:e.uid}`,songs:t.slice(0,Js)};return console.log(i),c.jsx(xS,{children:c.jsxs(Ns,{skeleton:c.jsx(Ofe,{}),loading:!e||i,children:[c.jsx(Lfe,{}),n&&c.jsxs(lo,{children:[c.jsx("div",{className:"title",children:c.jsx("h3",{children:"Last played song"})}),c.jsx(y1,{...s,songs:[n]})]}),t.length>0&&c.jsxs(lo,{children:[c.jsx("div",{className:"title",children:c.jsx(xl,{showNavigation:t.length>Js,to:`/author/${e==null?void 0:e.uid}/songs`,children:c.jsx("h3",{children:"Added songs"})})}),c.jsx(y1,{...s,songs:t.slice(0,Js)})]}),c.jsx(UM,{title:"Playlists",uid:e==null?void 0:e.uid}),c.jsxs(lo,{children:[c.jsx("div",{className:"title",children:c.jsx(xl,{showNavigation:t.length>Js,to:`/author/${e==null?void 0:e.uid}/songs`,children:c.jsx("h3",{children:"Friends"})})}),c.jsxs(Ep,{children:[!(r!=null&&r.length)&&c.jsx(vt,{children:"No friends"}),r==null?void 0:r.map(o=>c.jsx(Qn,{user:o,orientation:"vertical-small"},o.uid))]})]})]})})},RS=[{url:"discover",title:"Discover",icon:c.jsx(RA,{}),component:c.jsx(Ghe,{}),section:"features",private:!1},{url:"search",title:"Search",icon:c.jsx(bi,{}),component:c.jsx($fe,{}),section:"features",private:!1},{url:"trends",title:"Trends",icon:c.jsx(B5,{}),component:c.jsx(Mfe,{}),section:"features",private:!1},{url:"",title:"Liked",icon:c.jsx(Ex,{}),component:c.jsx(rfe,{}),section:"your music",private:!0,children:[{url:"",title:"Liked Songs",icon:c.jsx(ka,{}),component:c.jsx(ofe,{}),section:"your music",private:!0},{url:"playlists",title:"Liked Playlists",icon:c.jsx(Yp,{}),component:c.jsx(sfe,{}),section:"your music",private:!0},{url:"authors",title:"Liked Authors",icon:c.jsx(Tx,{}),component:c.jsx(ife,{}),section:"your music",private:!0}]},{url:"history",title:"History",icon:c.jsx(LA,{}),component:c.jsx(Yhe,{}),section:"your music",private:!0},{url:"chat",title:"Chat",icon:c.jsx(Jm,{}),component:c.jsx(fhe,{}),children:[{url:":id",title:"Chat",icon:c.jsx(Jm,{}),component:c.jsx(Nk,{}),section:"your activities",private:!0,children:[{url:":id",title:"Chat",icon:c.jsx(Jm,{}),component:c.jsx(Nk,{}),section:"your activities",private:!0}]}],section:"your activities",private:!0},{url:"friends",title:"Friends",icon:c.jsx(G5,{}),component:c.jsx(Qhe,{}),section:"your activities",private:!0},{url:"song/:id",title:"Song",icon:c.jsx(ka,{}),component:c.jsx(Nfe,{}),section:"your music",private:!0},{url:"playlist/:id",title:"Playlist",icon:c.jsx(w5,{}),component:c.jsx(gfe,{}),section:"your music",private:!0},{url:"author/:id",title:"Author",icon:c.jsx(tI,{}),component:c.jsx(zM,{}),section:"your music",private:!0},{url:"user/:id",title:"User",icon:c.jsx(rv,{}),component:c.jsx(Dfe,{}),section:"your music",private:!0},{url:"author/:id/songs",title:"Author songs",icon:c.jsx(ka,{}),component:c.jsx(ehe,{}),section:"your music",private:!0},{url:"author/:id/similar-authors",title:"Similar Authors",icon:c.jsx(tI,{}),component:c.jsx(nhe,{}),section:"your music",private:!0},{url:"me",title:"Me",icon:c.jsx(rv,{}),component:c.jsx(afe,{}),section:"your music",private:!0}],s3=e=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=RS.find(s=>s.title===r);i&&t.push(i)}return t},Vfe=s3(["Discover","Search","Trends","Liked","History","Chat","Friends","Settings"]),Ffe=s3(["Discover","Liked","Chat","Search"]),Ufe=_.nav`
    @media (min-width: 1001px) {
        display: none;
    }

    min-height: 80px;
    height: 80px;
    width: 100%;
    display: flex;
    align-items: flex-start;
    padding: 0 10px;
    padding-top: 10px;
`,zfe=_.ul`
    width: 100%;
    display: flex;
    justify-content: space-between;
    list-style-type: none;
`,Bfe=_.li`
    width: 100%;
`,Hfe=_(OP)`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0px;
    width: 100%;
    opacity: 0.5;

    &.active {
        opacity: 1;
        color: ${({theme:e})=>e.scheme.blue.action};
    }
`,Wfe=_.div`
    svg {
        width: 26px;
        height: 26px;
    }
`,qfe=_.div`
    font-weight: 300;
    font-size: 0.75rem;
`,Gfe=({isActive:e})=>e?"active":"",Kfe=({route:e})=>{const{url:t,title:n,icon:r}=e;return c.jsxs(Hfe,{to:t,className:Gfe,children:[c.jsx(Wfe,{children:r}),c.jsx(qfe,{children:n})]})},Qfe=()=>{const[e,t]=b.useState(!1);return Vd({page:"chat",onChangeId:n=>{console.log(n),t(!!n)}}),e?null:c.jsx(Ufe,{children:c.jsx(zfe,{children:Ffe.map(n=>c.jsx(Bfe,{children:c.jsx(Kfe,{route:n})},n.url))})})},Yfe=(e,t,n)=>e<n.length-2?"vanish":t&&e===n.length-1?"back":!t&&e===n.length-2&&e!==0?"slide back-prev":!t&&e===n.length-2&&e===0?"back-prev":e!==0?"slide":"",Xfe=_.div`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: ${({theme:e})=>e.colors.modal};
    box-shadow: ${({theme:e})=>e.colors.shadow};
    overflow: auto;
    z-index: 10;
    transition: ${Xs/1e3}s scale ease-out,
        ${Xs/1e3}s opacity;

    &.slide {
        animation: slideForward ${Xs/1e3}s forwards;
        transform: translateX(100%);

        @keyframes slideForward {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(0px);
            }
        }
    }

    &.back {
        animation: slideback ${Xs/1e3}s forwards;
        transform: translateX(0%);
        opacity: 1;

        @keyframes slideback {
            0% {
                transform: translateX(0%);
            }
            100% {
                transform: translateX(100%);
            }
        }
    }

    &.back-prev {
        scale: 0.9;
        opacity: 0;
    }
`,Jfe=({pages:e,slidingBack:t,getHeader:n,getContent:r})=>c.jsx(c.Fragment,{children:e.map(({title:i,content:s},o)=>{const a=Yfe(o,t,e),l=o!==0&&e.length>1;return a==="vanish"?null:c.jsxs(Xfe,{className:a,children:[n(i,l,o),r(s)]},i+o)})}),Tp={s:520,m:700,l:900},o3="95dvh",Zfe=_.div`
  width: 100%;
  height: 100%;
  background: ${({theme:e})=>e.colors.overlay};
`,a3=_(Zfe)`
    position: absolute;
    z-index: 1200;
`,epe=_.div`
    min-width: ${Tp.s}px;
    min-height: ${Tp.s}px;
    width: ${({width:e})=>e??"500px"};
    height: ${({height:e})=>e??"fit-content"};
    max-height: 80dvh;
    background: ${({theme:e})=>e.colors.modal};
    border: 2px solid ${({theme:e})=>e.colors.border};
    position: fixed;
    top: 50%;
    left: 50%;
    overflow: hidden;
    transform: translate(-50%, -50%);
    border-radius: ${({theme:e})=>e.borderRadius.middle};
    display: flex;
    flex-direction: column;
    transition: ${Xs/1e3}s height,
        ${Xs/1e3}s width, 0.4s transform;

    @media (max-width: 768px) {
        width: 100%;
        min-width: auto;
        bottom: 0;
        left: 0;
        top: auto;
        border-radius: 16px 16px 0 0;
        border: none;
        height: ${o3};
        max-height: none;
        transform: translateY(0);

        &::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 50%;
            display: block;
            transform: translateX(-50%);
            background: ${({theme:e})=>e.colors.border};
            width: 40px;
            border-radius: 10px;
            height: 5px;
            z-index: 20;
        }
    }
`,tpe=_.header`
    padding: 25px;
    padding-bottom: 20px;
    position: sticky;
    top: 0;
    background: ${({theme:e})=>e.colors.modal};
    border-radius: 4px 4px 0 0;
    z-index: 11;
    height: 68px;

    .back-btn {
        color: ${({theme:e})=>e.scheme.blue.text};
        gap: 0;
        min-height: auto;
        font-weight: 300;
        max-width: 150px;

        svg {
            min-width: 20px;
        }

        span {
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
        }
    }

    & > button {
        top: 21px;
        right: 25px;
        width: 32px;
        height: 32px;
        min-height: 32px;
        border-radius: 100%;
        background-color: ${({theme:e})=>e.colors.hover};
        color: ${({theme:e})=>e.scheme.grey.text};
        z-index: 0;

        svg {
            width: 20px;
            height: 20px;
            stroke-width: 2.5;
        }
    }
`,npe=_.h3`
    font-weight: 300;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;

    &.center {
        position: absolute;
        top: 54%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 200px;
        text-align: center;
    }
`,rpe=_.div`
    width: 100%;
    height: calc(100% - 68px);
    overflow-y: auto;
    overflow-x: hidden;
`;_.div`
    display: flex;
    width: 100%;
    align-items: center;
    gap: 8px;
`;_.div`
    height: 100%;
    width: 100%;
    overflow-y: auto;
`;const ipe=()=>{const[e,t]=xe.useModal(),n=t?e.at(-2):e.at(-1),{style:r,onTouchEnd:i}=RM(xe.events.close,o3);if(!e.length)return null;const s=()=>{xe.events.close()};return c.jsx(a3,{children:c.jsx(epe,{role:"dialog",width:`${Tp[(n==null?void 0:n.sizeX)??"s"]}px`,height:`${Tp[(n==null?void 0:n.sizeY)??"s"]}px`,onTouchEnd:i,style:r,children:c.jsx(Jfe,{pages:e,slidingBack:t,getHeader:(o,a,l)=>c.jsxs(tpe,{children:[c.jsx(Kx,{onClick:s}),c.jsxs(C,{width:"100%",gap:10,children:[a&&c.jsxs(U,{$width:"fit-content",$height:"30px",onClick:()=>xe.events.back(),disabled:t,className:"back-btn",children:[c.jsx(d5,{}),c.jsx("span",{children:e[l-1].title===""?"Back":e[l-1].title})]}),c.jsx(npe,{className:`${a?"center":""} `,children:o})]})]}),getContent:o=>c.jsx(rpe,{children:o})})})})},spe=_.div`
    width: calc(100% - var(--sidebar-width) - var(--page-gap));
    border-radius: var(--desktop-page-radius);
    margin: var(--page-gap);
    min-height: var(--player-size);
    display: flex;
    align-self: flex-end;
    align-items: center;
    justify-content: space-between;
    padding: 0 15px;
    transition: 0.5s background-color;
    background-color: ${({$background:e})=>e};
    background-image: ${({theme:e})=>`linear-gradient(${e.colors.playerDarkening}, ${e.colors.playerDarkening})`};
    gap: 20px;
    position: relative;
    z-index: 10;
    position: relative;

    .control-buttons {
        order: 3;
        width: fit-content;

        .play-pause {
            background: ${({theme:e,$background:t})=>`rgba(${Sr(t)}, 0.1)`??e.colors.darkHover};
            filter: brightness(${({theme:e})=>e.colors.brightness});
        }

        .playback-buttons {
            gap: 0;

            .control-button {
                color: ${({theme:e})=>e.colors.textColor};
                transform: scale(0.7);
            }
        }

        .queue-button {
            color: ${({theme:e})=>e.colors.textColor};
            transform: scale(0.9);

            &.selected {
                background: ${({theme:e})=>e.colors.hover};

                & svg {
                    color: ${({theme:e})=>e.colors.textColor};
                }
            }
        }
    }

    .music-controls {
        flex-direction: row-reverse;
        gap: 60px;
        position: relative;
        max-width: 1000px;

        @media (max-width: 1270px) {
            flex-direction: column-reverse;
            gap: 6px;
        }
    }

    .song-slider {
        height: 3px;
        width: 100%;
        margin-right: 40px;
        min-width: 150px;

        &::-webkit-slider-thumb {
            width: 10px;
            height: 10px;
        }

        @media (max-width: 1270px) {
            width: 350px;
            margin-top: -4px;
            margin-right: 0;
        }
    }

    .duration-numbers {
        opacity: 0.6;
        position: absolute;
        right: -6px;
        width: 100%;
        top: 24px;
        min-width: 70px;
        width: calc(100% - 274px);
        color: ${({theme:e})=>e.colors.textColor};
        opacity: 0.4;
        pointer-events: none;

        @media (max-width: 1270px) {
            right: none;
            left: calc(50% + 4px);
            top: 40px;
            transform: translateX(-50%);
            width: 355px;
        }

        & > * {
            font-size: 0.65rem;
            min-width: 36px;
            display: block;
        }
    }

    @media (max-width: 1900px) {
        width: calc(100% - var(--page-gap) * 2);
    }

    @media (max-width: 1000px) {
        padding: 6px;
        min-height: auto;
        border-radius: 10px;
        margin: 0 12px;
        width: calc(100% - 24px);
        box-shadow: 0px -10px 10px 0px ${({theme:e})=>e.colors.pageBackground};
        gap: 0;

        .music-controls {
            display: none;
        }
    }
`,ope=_.div`
    width: 100%;

    @media (max-width: 1270px) {
        transform: translateY(-7px);
    }
`,ape=_.h1`
    font-size: 1.1rem;
    font-weight: 200;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;

    @media (max-width: 1000px) {
        font-size: 0.95rem;
    }
`,lpe=_.div`
    display: flex;
    align-items: center;
    gap: 16px;
    min-width: 300px;
    max-width: 300px;
    overflow: hidden;

    @media (max-width: 1000px) {
        min-width: calc(100% - 40px);
        width: calc(100% - 40px);
    }
`,cpe=_(No)`
    overflow-y: auto;
    height: 100%;
    padding: 50px 20px;
    animation: none;
    scroll-padding-bottom: 300px;

    & > * {
        gap: 10px;
        font-size: 1.4rem;
    }
`,upe=_.div`
    display: none;

    @media (max-width: 1000px) {
        display: block;
        width: fit-content;
    }
`,dpe=_.div`
    min-width: 300px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;

    @media (max-width: 1000px) {
        display: none;
    }
`,hpe=()=>{const{currentSong:e}=G.useSong();return c.jsx(cpe,{$colors:e==null?void 0:e.imageColors,children:c.jsx(eM,{})})},fpe=_.div`
    padding: 10px;
    overflow-y: auto;
    height: 100%;

    h2 {
        margin: 10px 5px;
    }
`,ppe=()=>{const{queue:e}=G.queue.useQueue();return c.jsxs(fpe,{children:[c.jsx("h2",{children:"Queue"}),c.jsx(AM,{queue:e})]})},gpe=()=>{const{currentSong:e}=G.useSong(),[t]=Y.useSongLibrary(),n=ZN(),r=!!t.find(h=>h.id===(e==null?void 0:e.id)),{loggedIn:i}=dm(),s=()=>{G.fullscreen.open()},o=h=>{h.stopPropagation(),mt.events.open({content:c.jsx(TM,{song:e}),height:329,e:h})},a=i(()=>{xe.events.open({title:`Share "${e==null?void 0:e.name}" with friends`,content:c.jsx(Dd,{entity:e})})}),l=i(()=>{xe.events.open({title:`Add "${e==null?void 0:e.name}" to playlist`,content:c.jsx(IM,{song:e})})});return{currentSong:e,controls:n,isLiked:r,handleLyrics:h=>{h.stopPropagation(),mt.events.open({content:c.jsx(hpe,{}),height:500,width:350,e:h})},handleAddToPlaylist:l,handleShare:a,handleMore:o,handleShowQueue:h=>{mt.events.open({content:c.jsx(ppe,{}),height:500,width:350,e:h})},handleOpenFullScreenPlayer:s}},mpe=()=>{const{controls:e,isLiked:t,currentSong:n,handleLyrics:r,handleShowQueue:i,handleShare:s,handleMore:o,handleOpenFullScreenPlayer:a}=gpe(),l=Yn();return c.jsxs(spe,{onClick:a,$background:(n==null?void 0:n.imageColors[0])??l.colors.player,children:[c.jsxs(lpe,{children:[c.jsx(Yx,{colors:(n==null?void 0:n.imageColors)??["grey"],src:n==null?void 0:n.cover,size:"40px"}),c.jsxs(C,{d:"column",ai:"flex-start",children:[c.jsx(ape,{children:(n==null?void 0:n.name)??"Untitled"}),c.jsx(nl,{authors:n==null?void 0:n.authors})]})]}),c.jsx(ope,{onClick:u=>u.stopPropagation(),children:c.jsx(JN,{...e})}),c.jsxs(C,{jc:"flex-end",onClick:u=>u.stopPropagation(),children:[c.jsx(upe,{children:c.jsx(GN,{children:c.jsx(U,{$width:"40px",onClick:u=>{u.stopPropagation(),e.onPlay()},children:c.jsx(hm,{loading:e.state==="loading",playling:e.state==="playing"})})})}),c.jsxs(dpe,{onClick:u=>u.stopPropagation(),children:[c.jsx(Nd,{disabled:!n,width:"42px",isLiked:t,song:n,likeColor:n==null?void 0:n.imageColors[0]}),c.jsx(U,{$width:"42px",disabled:!n,onClick:i,children:c.jsx(kx,{size:20})}),c.jsx(U,{$width:"42px",disabled:!n,onClick:s,children:c.jsx(yo,{size:20})}),c.jsx(U,{$width:"42px",disabled:!(n!=null&&n.lyrics.length),onClick:r,children:c.jsx(BA,{size:20})}),c.jsx(U,{$width:"42px",onClick:o,disabled:!n,children:c.jsx(Sx,{size:20})})]})]})]})},ype=_.div`
    position: absolute;
    width: ${({$width:e})=>`${e}px`};
    background: ${({theme:e})=>e.colors.context};
    height: ${({$height:e})=>`${e}px`};
    top: ${({$posY:e})=>`${e}px`};
    left: ${({$posX:e})=>`${e}px`};
    border-radius: ${({theme:e})=>e.borderRadius.mild};
    box-shadow: 0 0 40px #0000002e;
    visibility: ${({$isOpen:e})=>e?"visible":"hidden"};
    opacity: ${({$isOpen:e})=>e?1:0};
    z-index: 1000;
    transform: ${({$isOpen:e})=>e?"scale(1)":"scale(0.8)"};
    transition: 0.15s opacity, 0.15s visibility, 0.15s transform;
    transform-origin: ${({$transformOrigin:e})=>e};
    overflow: hidden;

    @media (max-width: 768px) {
        transform: ${({$isOpen:e})=>e?"scale(1.05)":"scale(0.8)"};
    }
`,vpe=()=>{const{content:e,height:t,width:n,isOpen:r,x:i,y:s,origin:o}=mt.usePopup(),a=b.useRef(null);return N4(a,()=>{r&&mt.events.close()}),c.jsx(ype,{$isOpen:r,$transformOrigin:o,ref:a,$posX:i,$posY:s,$height:t,$width:n,tabIndex:0,children:e})},xpe=_.div`
    display: flex;
    align-items: center;
    gap: 16px;
    color: ${({theme:e})=>e.colors.textColor};
    opacity: 0.7;
`,wpe=_.div`
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;

    svg {
        width: 20px;
        height: 20px;
    }
`,_pe=_.div`
    font-weight: 300;
`,Spe=({icon:e,text:t})=>c.jsxs(xpe,{children:[e&&c.jsx(wpe,{children:e}),c.jsx(_pe,{children:t})]}),Epe=(e,t)=>{const n={};return e.forEach(r=>{const i=r[t];n[i]===void 0?n[i]=[r]:n[i].push(r)}),n},Ipe=({name:e,image:t,imageColors:n,authors:r,songs:i,isAlbum:s})=>({id:Qg(),name:e,image:t??null,songs:i??[],imageColors:n??[],authors:r.map(o=>({displayName:o==null?void 0:o.displayName,uid:o==null?void 0:o.uid,photoURL:o==null?void 0:o.photoURL})),isAlbum:s??!1,isPrivate:!1,listens:0,subscribers:0,creationDate:new Date().toString()}),Tpe=_.div`
    padding: 0 20px;
    padding-top: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
`,bpe=[{id:"name",label:"Playlist Name",type:"text",placeholder:"Enter a Playlist Name",required:!0}],kpe=()=>{const[{data:e}]=Y.useUser(),[t]=yl.useCreatePlaylist(),[n,r]=b.useState([]),[i,s]=b.useState(null),o=ki(),{formProps:a,onSumbit:l}=em({fields:bpe,handleSubmit:u=>{const d=Ipe({name:u.name,image:i,imageColors:n,authors:e?[e]:[]});yl.events.createPlaylist({playlist:d,onSuccess:h=>{o(`/playlist/${h.id}`),xe.events.close()}})}});return e?c.jsxs(Tpe,{children:[c.jsx(qN,{colors:n,onUpload:u=>s(u),onColors:u=>r(u)}),c.jsx(Id,{...a}),c.jsx(ze,{onClick:l,appearance:"primary",loading:t,children:"Create"})]}):null},Cpe=_(U)`
    min-height: 30px;
    height: 30px;
    min-width: 30px;
`,Ape=_.div`
    width: 100%;
    height: 40px;
    position: relative;

    & svg {
        transform-origin: center center;
        transition: 0.2s;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    &.light {
        & svg:nth-child(1) {
            transform: translate(-50%, -50%) rotate(0deg);
            opacity: 1;
        }

        & svg:nth-child(2) {
            transform: translate(-50%, -50%) rotate(90deg);
            opacity: 0;
        }
    }

    &.dark {
        & svg:nth-child(1) {
            transform: translate(-50%, -50%) rotate(90deg);
            opacity: 0;
        }

        & svg:nth-child(2) {
            transform: translate(-50%, -50%) rotate(0deg);
            opacity: 1;
        }
    }
`,Ppe=()=>{const{theme:e}=BM(),[t]=Bu.useSettings(),n=()=>{Bu.events.updateSettings({path:"settings.items.appearance.children.theme.items.darkMode.value",value:!t.settings.items.appearance.children.theme.items.darkMode.value}),SS()};return c.jsx(Cpe,{$width:"20px",onClick:n,children:c.jsxs(Ape,{className:`theme ${e.toString()}`,children:[c.jsx(WA,{size:18}),c.jsx(FA,{size:18})]})})},Rpe=()=>{var a;const e=Epe(Vfe,"section"),{loggedIn:t}=dm(),[n]=Y.useOwnPlaylists(),r=nr.useChatUnreadCount(),[{data:i}]=Y.useUser(),s={chat:r},o=t(()=>{xe.events.open({title:"Create Playlist",content:c.jsx(kpe,{})})});return c.jsxs(xue,{children:[c.jsxs(wue,{children:[c.jsx(Zg,{}),c.jsx(Ppe,{})]}),Object.keys(e).map((l,u)=>c.jsxs(Ek,{children:[c.jsx(Ik,{children:l}),e[l].map(d=>c.jsx(_ue,{to:d.url,children:c.jsxs(C,{width:"100%",jc:"space-between",children:[c.jsx(Spe,{icon:d.icon,text:d.title}),!!s[d.url]&&c.jsx(hS,{children:s[d.url]})]})},d.url))]},u)),c.jsxs(Ek,{children:[c.jsxs(C,{jc:"space-between",width:"100%",children:[c.jsx(xl,{showNavigation:!!i,to:"/playlists",children:c.jsx(Ik,{className:i?"clickable":"",children:"Your Playlists"})}),c.jsx(U,{className:"add-playlist",onClick:o,children:c.jsx(nv,{})})]}),c.jsxs(Sue,{children:[n.length===0&&c.jsx(vt,{style:{padding:"8px",fontSize:"0.9rem"},children:"No Playlists"}),(a=n==null?void 0:n.slice(0,4))==null?void 0:a.map(l=>c.jsx(ws,{orientation:"horizontal",playlist:l},l.id))]})]})]})},jpe=_.div`
    width: 100%;
    max-width: 500px;
    padding: 20px;
    border-radius: 10px;
    background: ${({theme:e})=>e.colors.pageBackground};
    border: 1px solid ${({theme:e})=>e.colors.border};
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    gap: 30px;
    text-align: center;

    flex-direction: column;

    h3 {
        font-weight: 400;
        margin: 0 40px;
    }

    & > button {
        top: 16px;
        right: 25px;
        width: 32px;
        height: 32px;
        min-height: 32px;
        border-radius: 100%;
        background-color: ${({theme:e})=>e.colors.hover};
        color: ${({theme:e})=>e.scheme.grey.text};
        z-index: 0;

        svg {
            width: 20px;
            height: 20px;
            stroke-width: 2.5;
        }
    }

    @media (max-width: 768px) {
        top: auto;
        bottom: 0;
        left: 0;
        transform: translate(0, 0);
        border: none;
        border-radius: 10px 10px 0 0;
    }
`,$pe=_.div`
    display: flex;
    align-items: center;
    gap: 10px;

    @media (max-width: 360px) {
        flex-direction: column-reverse;
    }
`,Npe=_.div`
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 17px;
    box-shadow: ${({theme:e})=>e.colors.shadow2};
    margin: 0 auto;
    background: ${({theme:e})=>e.colors.pageTopButton};

    svg {
        color: ${({color:e})=>e};
        width: 30px;
        height: 30px;
    }
`,Mpe=()=>{const{isOpen:e,text:t,subtext:n,onAccept:r,onReject:i,icon:s,iconColor:o}=Ip.useConfirm(),a=()=>{Ip.events.close()};return e?c.jsx(a3,{children:c.jsxs(jpe,{children:[c.jsx(Kx,{onClick:a}),s&&c.jsx(Npe,{color:o,children:s}),c.jsxs(C,{d:"column",gap:10,children:[c.jsx("h3",{children:t||"Are you sure you want to proceed?"}),n&&c.jsx(vt,{style:{fontSize:"1rem"},children:n})]}),c.jsxs($pe,{children:[c.jsx(ze,{onClick:i??a,children:"No"}),c.jsx(ze,{onClick:r,appearance:"primary",children:"Yes"})]})]})}):null},Ope=_.div`
    height: calc(100dvh - var(--player-size) - var(--page-gap) * 2);
    display: flex;
    padding-top: var(--page-gap);
    padding-right: var(--page-gap);

    @media (max-width: 1000px) {
        height: calc(100dvh - 130px);
        padding: 0;

        &.chat-page {
            height: 100dvh;
        }
    }
`,Lpe=_.div`
    width: calc(100% - var(--sidebar-width));
    height: 100%;
    position: relative;
    /* box-shadow: ${({theme:e})=>e.colors.shadow}; */
    border-radius: var(--desktop-page-radius);
    overflow: hidden;
    background: ${({theme:e})=>e.colors.pageBackground};

    @media (max-width: 1000px) {
        border-radius: 0;
    }
`,Dpe=()=>{const e=G.fullscreen.useFullScreen();return mV(),c.jsxs(c.Fragment,{children:[c.jsx(ade,{}),c.jsx(sde,{open:e}),c.jsx(ipe,{}),c.jsx(vpe,{}),c.jsxs(Ope,{children:[c.jsx(Rpe,{}),c.jsx(Lpe,{children:c.jsx(Gx,{})})]}),c.jsx(mpe,{}),c.jsx(Mpe,{}),c.jsx(Qfe,{})]})},Vpe=()=>c.jsx(Ii,{icon:S5,title:"Page not found",description:"Please try another time"}),l3=e=>{var t;return c.jsx(Df,{element:e.component,path:e.url,children:(t=e==null?void 0:e.children)==null?void 0:t.map(n=>l3(n))},e.url)},Fpe=()=>c.jsx(tV,{children:c.jsxs(Df,{path:"/",element:c.jsx(Dpe,{}),children:[RS.map(e=>l3(e)),c.jsx(Df,{path:"*",element:c.jsx(Vpe,{})})]})}),Upe=UD`
	* {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
		font-family: 'Geologica', sans-serif;
		-webkit-tap-highlight-color:  rgba(255, 255, 255, 0); 
	}

	:root {
		--page-padding: 30px;
		--page-gap: 10px;
		--desktop-page-radius: 12px;
		--player-size: 70px;
		--sidebar-width: 280px;
		--header-height: 70px;


		@media (max-width: 1270px) {
        --player-size: 80px;
    	}

		@media (max-width: 1000px) {
			--page-padding: 20px;
			--sidebar-width: 0px;
		}
	}

	body {
		color: ${({theme:e})=>e.colors.textColor};
		overflow: hidden;
	}

	a {
		color: ${({theme:e})=>e.colors.textColor};
      text-decoration: none;
	}

	button {
		color: ${({theme:e})=>e.colors.textColor};
		border: none;
		background: transparent;
		cursor: pointer;
	}

	input:focus, [type=text]:focus, select:focus, textarea:focus {
		outline: 1px solid ${({theme:e})=>e.scheme.blue.main};
	}

	@keyframes generalAppear {
		0%{
			opacity: 0;
			/* transform: scale(0.95); */
		}

		100%{ 
			opacity: 1;
			/* transform: scale(1); */
		}
	}
`,zpe=_.div`
    height: 100dvh;
    background: ${({theme:e})=>e.colors.pageBackground2};
    overflow: hidden;
    display: flex;
    flex-direction: column;
    width: 100%;

    @media (max-width: 1000px) {
        background: ${({theme:e})=>e.colors.pageBackground};
    }
`;function Bpe(){const{themeParams:e}=BM();return b.useEffect(()=>{Y.events.setIsLoadingUsers(!0),ve.onAuthStateChanged(async t=>{if(Y.events.setIsLoadingUsers(!1),t!=null&&t.uid){const n=await mn.getUserByUid(t.uid);Y.events.setUser(n)}})},[]),c.jsxs(DD,{theme:e,children:[c.jsx(Upe,{}),c.jsx(cV,{children:c.jsx(zpe,{children:c.jsxs(qA,{children:[c.jsx(u9,{}),c.jsx(Fpe,{})]})})})]})}Z0.createRoot(document.getElementById("root")).render(c.jsx(Ae.StrictMode,{children:c.jsx(qA,{children:c.jsx(Bpe,{})})}));
